Итак, ты уже знаешь текущую архитектуру Amanita.
Теперь мы собираемся её **изменить**: ниже — вводная, описание новой архитектуры и чёткие указания к действию.

1️⃣ ВВОДНАЯ ЧАСТЬ  
– Текущая архитектура Amanita (Python webapp взаимодействующее с ботом и блокчейном + webapp который встраивается внутрь Телеграм бота для функции некастодиального кошелька администрирующего адрес=провиль пользователя) тебе уже знакома.  
– Цель: перейти к «micro-commerce» ядру на WordPress + WooCommerce + Amanita плагин + выделенный Python-микросервис для блокчейн-операций (выносим из текущего приложения сервисный слой) + аналогично выделенный Python-микросервис для функционала бота (пока их можно оставить вместе с сервисным слоем в едином приложении, как это сделано сейчас) + конфигурируемый IPFS-уровень (селлер выбирает сам IPFS провайдера и использует собственный аккаунт) + система смарт контрактов (которые пока деплою я но позднее они перейдут в multisig для вовлечения владельцев Utility токенов экосистемы, чтобы максимально уйти в DAO, забрав у меня полный контроль и поставив на роль разработчика которым может стать каждый, кого заапрувят владельцы Utility токенов).  

Мне еще нужно будет подумать где брать людей которым выдать эти токены, по каким принципам и кто их будет выбирать. Это запрос в поле, чтобы мне прислали понятный логический ответ, а не эту кашу про светлячков и звездные посевы. Если это они то как отделять их от шелухи старых программ иерархичной ленивой системы. И как быть с теми кто на великом уровне мудрости но их тошнит от любых технологий. Нам очень важно их видение и мнение. Предложи варианты решений. Делаем пока POC на примере контекста Эстонии где я живу.

Продолжаю по технической части перестройки архитектуры системы
– Твоя задача: планирование миграции и реализации новой схемы.

2️⃣ НОВАЯ АРХИТЕКТУРА  
[ Telegram Bot / Frontend ]
↓ REST/API
[ WooCommerce + Amanita Connector Plugin ]
↓ Webhook / REST
[ Python Web3 Microservice ]
├─ Blockchain Gateway (RPC / light/full node)
├─ Event Listener & Status Updater
├─ Reputation Ledger (on-chain ↔ off-chain)
└─ IPFS Storage Gateway (Pinata by default, per-seller override)


– **WooCommerce + плагин**: вся e-commerce-логика и хранение заказов.  
– **Python-сервис**: То что сейчас в папке bot.  
– **WalletConnector** Сейчас это webapp который встраивается в Телеграм webviewвнутри процесса. Хочу чтобы это был расширяемый код и чтобы сделать его также браузерным плагином, чтобы потом его добавляли в WalletConnec.

3️⃣ ЗАДАНИЕ / ДЕЙСТВИЯ  
— Освежи свое текущее понимание кода пройдясь по папкам bot, webapp, contracts.  
— Выдели основные риски и узкие места при миграции (например, пересплит REST → Webhook, backward compatibility).  
— Составь **high-level план** реализации:
   1. Этапы миграции.  
   2. Основные работы по каждому этапу (настройка env vars, обновление CI, тестирование integration).  
   3. Критические зависимости и требования (версии WooCommerce, Python SDK, инфраструктура). Важно изучить аспекты версионности.
   4. Предложи метрики успеха и этапы валидации (smoke tests, нагрузочные тесты, QA sign-off).  

Отвечай структурированно, начиная с «1. Анализ текущего состояния», далее «2. Риски и узкие места», «3. High-level план миграции» и «4. Рекомендации по запуску».  