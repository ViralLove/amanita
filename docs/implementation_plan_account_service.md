# План реализации: Реорганизация AccountService

## Этап 1: Анализ и подготовка
1. Изучить все методы в BlockchainService, связанные с аккаунтами
2. Определить методы для переноса в AccountService
3. Создать план миграции без нарушения работы системы

## Этап 2: Расширение AccountService
1. Добавить недостающие методы в AccountService:
   - `get_seller_account()`
   - `is_user_activated()`
   - `get_all_activated_users()`
   - `batch_validate_invite_codes()`
2. Обновить существующие методы для работы с синглтоном
3. Добавить типизацию и документацию

## Этап 3: Очистка BlockchainService
1. Удалить методы работы с аккаунтами из BlockchainService
2. Оставить только методы для работы со смарт-контрактами
3. Обновить документацию класса

## Этап 4: Обновление зависимостей
1. Обновить ServiceFactory для корректной работы с AccountService
2. Проверить все места использования методов аккаунтов
3. Обновить импорты где необходимо

## Этап 5: Тестирование
1. Создать тесты для AccountService
2. Проверить работу синглтона
3. Запустить существующие тесты

## Этап 6: Документация
1. Обновить документацию архитектуры
2. Добавить примеры использования
3. Обновить README

## Риски и митигация
- **Риск**: Нарушение работы существующего кода
  - **Митигация**: Поэтапная миграция с сохранением обратной совместимости

- **Риск**: Проблемы с синглтоном
  - **Митигация**: Тщательное тестирование и проверка состояния

- **Риск**: Потеря производительности
  - **Митигация**: Мониторинг производительности на каждом этапе 