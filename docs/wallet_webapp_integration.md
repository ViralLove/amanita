# –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è WebApp –∫–æ—à–µ–ª—å–∫–∞ –≤ Telegram –±–æ—Ç

## –û–ø–∏—Å–∞–Ω–∏–µ
–î–∞–Ω–Ω–æ–µ —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –æ–ø–∏—Å—ã–≤–∞–µ—Ç –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—é WebApp –∫–æ—à–µ–ª—å–∫–∞ –≤ Telegram –±–æ—Ç Amanita. WebApp –ø–æ–∑–≤–æ–ª—è–µ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º —Å–æ–∑–¥–∞–≤–∞—Ç—å –∏ –≤–æ—Å—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞—Ç—å Ethereum –∫–æ—à–µ–ª—å–∫–∏ –ø—Ä—è–º–æ –≤–Ω—É—Ç—Ä–∏ Telegram.

## –ù–∞—Å—Ç—Ä–æ–π–∫–∞

### 1. –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è
–í —Ñ–∞–π–ª–µ `.env` –ø—Ä–æ–µ–∫—Ç–∞ –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å —É–∫–∞–∑–∞–Ω—ã —Å–ª–µ–¥—É—é—â–∏–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ:

```
TELEGRAM_BOT_TOKEN=your_bot_token
WALLET_APP=http://localhost:8080/
```

–î–ª—è production –Ω—É–∂–Ω–æ —É–∫–∞–∑–∞—Ç—å –ø—É–±–ª–∏—á–Ω—ã–π HTTPS URL:

```
WALLET_APP=https://your-domain.com/wallet/
```

### 2. –ó–∞–ø—É—Å–∫ –ª–æ–∫–∞–ª—å–Ω–æ–≥–æ —Å–µ—Ä–≤–µ—Ä–∞ WebApp

–î–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏ –º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –ª–æ–∫–∞–ª—å–Ω—ã–π —Å–µ—Ä–≤–µ—Ä:

```bash
cd webapp
python3 -m http.server 8080
```

### 3. –î–æ—Å—Ç—É–ø –∫ WebApp –∏–∑ Telegram –±–æ—Ç–∞

WebApp –¥–æ—Å—Ç—É–ø–µ–Ω —á–µ—Ä–µ–∑:

1. –ö–æ–º–∞–Ω–¥—É `/wallet` - –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç —Å–æ–æ–±—â–µ–Ω–∏–µ —Å –∫–Ω–æ–ø–∫–æ–π –¥–ª—è –æ—Ç–∫—Ä—ã—Ç–∏—è WebApp
2. –û—Å–Ω–æ–≤–Ω–æ–µ –º–µ–Ω—é (–∫–æ–º–∞–Ω–¥–∞ `/menu`) - –≤–∫–ª—é—á–∞–µ—Ç –∫–Ω–æ–ø–∫—É "üîê –ö—Ä–∏–ø—Ç–æ–∫–æ—à–µ–ª—ë–∫" –¥–ª—è –¥–æ—Å—Ç—É–ø–∞ –∫ WebApp

## –ü—Ä–æ—Ü–µ—Å—Å —Ä–∞–±–æ—Ç—ã

1. –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –Ω–∞–∂–∏–º–∞–µ—Ç –Ω–∞ –∫–Ω–æ–ø–∫—É WebApp
2. –û—Ç–∫—Ä—ã–≤–∞–µ—Ç—Å—è WebApp –≤ –æ–∫–Ω–µ Telegram
3. –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –º–æ–∂–µ—Ç:
   - –°–æ–∑–¥–∞—Ç—å –Ω–æ–≤—ã–π –∫–æ—à–µ–ª—ë–∫ (—Å–≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç—Å—è —Å–ª—É—á–∞–π–Ω–∞—è —Å–∏–¥-—Ñ—Ä–∞–∑–∞)
   - –í–æ—Å—Å—Ç–∞–Ω–æ–≤–∏—Ç—å —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–π –∫–æ—à–µ–ª—ë–∫ –ø–æ —Å–∏–¥-—Ñ—Ä–∞–∑–µ
4. –ê–¥—Ä–µ—Å –∫–æ—à–µ–ª—å–∫–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç—Å—è –æ–±—Ä–∞—Ç–Ω–æ –≤ –±–æ—Ç

## –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –¥–µ—Ç–∞–ª–∏

### –ö–∞–∫ WebApp –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç –¥–∞–Ω–Ω—ã–µ –≤ –±–æ—Ç

WebApp –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –º–µ—Ç–æ–¥ `Telegram.WebApp.sendData()` –¥–ª—è –æ—Ç–ø—Ä–∞–≤–∫–∏ –∞–¥—Ä–µ—Å–∞ –∫–æ—à–µ–ª—å–∫–∞ –æ–±—Ä–∞—Ç–Ω–æ –≤ Telegram –±–æ—Ç:

```javascript
// –í webapp/main.js
function sendAddressToBot() {
  if (Telegram && Telegram.WebApp && Telegram.WebApp.sendData) {
    Telegram.WebApp.sendData(currentWallet.address);
  }
}
```

### –û–±—Ä–∞–±–æ—Ç–∫–∞ –¥–∞–Ω–Ω—ã—Ö –æ—Ç WebApp –≤ –±–æ—Ç–µ

–î–ª—è –ø–æ–ª–Ω–æ–π –æ–±—Ä–∞–±–æ—Ç–∫–∏ –¥–∞–Ω–Ω—ã—Ö –æ—Ç WebApp –Ω—É–∂–Ω–æ —Ä–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –æ–±—Ä–∞–±–æ—Ç—á–∏–∫ web_app_data:

```python
@router.message(content_types=types.ContentType.WEB_APP_DATA)
async def handle_web_app_data(message: types.Message):
    """–û–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç –¥–∞–Ω–Ω—ã–µ –æ—Ç WebApp –∫–æ—à–µ–ª—å–∫–∞"""
    user_id = message.from_user.id
    wallet_address = message.web_app_data.data
    
    logging.info(f"[WALLET] –ü–æ–ª—É—á–µ–Ω –∞–¥—Ä–µ—Å –∫–æ—à–µ–ª—å–∫–∞ –æ—Ç WebApp: {wallet_address}")
    
    # –ó–¥–µ—Å—å –Ω—É–∂–Ω–æ —Å–æ—Ö—Ä–∞–Ω–∏—Ç—å –∞–¥—Ä–µ—Å –∫–æ—à–µ–ª—å–∫–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
    user_settings.set_web3_credentials(user_id, wallet_address, None)
    
    await message.answer(f"–í–∞—à –∫–æ—à–µ–ª—ë–∫ —É—Å–ø–µ—à–Ω–æ –ø–æ–¥–∫–ª—é—á–µ–Ω!\n–ê–¥—Ä–µ—Å: {wallet_address[:10]}...{wallet_address[-8:]}")
```

## –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

- –í —Ç–µ–∫—É—â–µ–π MVP-–≤–µ—Ä—Å–∏–∏ –ø—Ä–∏–≤–∞—Ç–Ω—ã–µ –∫–ª—é—á–∏ —Ö—Ä–∞–Ω—è—Ç—Å—è –≤ localStorage –±—Ä–∞—É–∑–µ—Ä–∞
- –î–ª—è production —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è –¥–æ–±–∞–≤–∏—Ç—å:
  - –®–∏—Ñ—Ä–æ–≤–∞–Ω–∏–µ –ø—Ä–∏–≤–∞—Ç–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö
  - –ó–∞—â–∏—Ç—É –ø–∞—Ä–æ–ª–µ–º
  - –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—É—é –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—é –ø—Ä–∏ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–∏ –∫–æ—à–µ–ª—å–∫–∞

## –î–∞–ª—å–Ω–µ–π—à–µ–µ —Ä–∞–∑–≤–∏—Ç–∏–µ

1. –î–æ–±–∞–≤–∏—Ç—å –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –ø–æ–¥–ø–∏—Å—ã–≤–∞—Ç—å —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏ –Ω–∞–ø—Ä—è–º—É—é –∏–∑ WebApp
2. –ò–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞—Ç—å –±–∞–ª–∞–Ω—Å—ã –∏ –∏—Å—Ç–æ—Ä–∏—é —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π
3. –î–æ–±–∞–≤–∏—Ç—å –ø–æ–¥–¥–µ—Ä–∂–∫—É —Ä–∞–∑–Ω—ã—Ö –±–ª–æ–∫—á–µ–π–Ω–æ–≤ –ø–æ–º–∏–º–æ Ethereum 