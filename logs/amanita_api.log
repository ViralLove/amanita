{"timestamp": "2025-07-12T15:28:57.513720", "level": "INFO", "logger": "amanita_api", "message": "Инициализация AMANITA API приложения", "module": "main", "function": "create_api_app", "line": 112, "log_level": "DEBUG", "log_file": "logs/amanita_api.log", "service_factory_available": true, "asctime": "2025-07-12 15:28:57"}
{"timestamp": "2025-07-12T15:28:57.514423", "level": "INFO", "logger": "amanita_api", "message": "ServiceFactory интегрирован в приложение", "module": "main", "function": "create_api_app", "line": 140, "asctime": "2025-07-12 15:28:57"}
{"timestamp": "2025-07-12T15:28:57.514754", "level": "INFO", "logger": "amanita_api", "message": "FastAPI приложение создано с базовой конфигурацией", "module": "main", "function": "create_api_app", "line": 190, "docs_url": "/docs", "health_endpoint": "/health", "asctime": "2025-07-12 15:28:57"}
{"timestamp": "2025-07-12T15:56:49.667444", "level": "INFO", "logger": "amanita_api", "message": "Запрос к корневому эндпоинту", "module": "main", "function": "root", "line": 146, "endpoint": "/", "asctime": "2025-07-12 15:56:49"}
{"timestamp": "2025-07-12T15:57:05.100203", "level": "INFO", "logger": "amanita_api", "message": "Инициализация AMANITA API приложения", "module": "main", "function": "create_api_app", "line": 112, "log_level": "DEBUG", "log_file": "logs/amanita_api.log", "service_factory_available": true, "asctime": "2025-07-12 15:57:05"}
{"timestamp": "2025-07-12T15:57:05.100461", "level": "INFO", "logger": "amanita_api", "message": "ServiceFactory интегрирован в приложение", "module": "main", "function": "create_api_app", "line": 140, "asctime": "2025-07-12 15:57:05"}
{"timestamp": "2025-07-12T15:57:05.100764", "level": "INFO", "logger": "amanita_api", "message": "FastAPI приложение создано с базовой конфигурацией", "module": "main", "function": "create_api_app", "line": 201, "docs_url": "/docs", "health_endpoint": "/health", "asctime": "2025-07-12 15:57:05"}
{"timestamp": "2025-07-12T15:57:21.830928", "level": "INFO", "logger": "amanita_api", "message": "Hello world запрос", "module": "main", "function": "hello_world", "line": 193, "endpoint": "/hello", "asctime": "2025-07-12 15:57:21"}
{"timestamp": "2025-07-12T15:59:12.441691", "level": "INFO", "logger": "amanita_api", "message": "Hello world запрос", "module": "main", "function": "hello_world", "line": 193, "endpoint": "/hello", "asctime": "2025-07-12 15:59:12"}
{"timestamp": "2025-07-12T16:48:09.439078", "level": "INFO", "logger": "amanita_api", "message": "Инициализация AMANITA API приложения", "module": "main", "function": "create_api_app", "line": 113, "log_level": "DEBUG", "log_file": "logs/amanita_api.log", "service_factory_available": true, "asctime": "2025-07-12 16:48:09"}
{"timestamp": "2025-07-12T16:48:09.439708", "level": "INFO", "logger": "amanita_api", "message": "ApiKeyService интегрирован в HMAC middleware", "module": "main", "function": "create_api_app", "line": 143, "asctime": "2025-07-12 16:48:09"}
{"timestamp": "2025-07-12T16:48:09.439797", "level": "INFO", "logger": "amanita_api", "message": "ServiceFactory интегрирован в приложение", "module": "main", "function": "create_api_app", "line": 152, "asctime": "2025-07-12 16:48:09"}
{"timestamp": "2025-07-12T16:48:09.442262", "level": "INFO", "logger": "amanita_api", "message": "FastAPI приложение создано с базовой конфигурацией", "module": "main", "function": "create_api_app", "line": 232, "docs_url": "/docs", "health_endpoint": "/health", "asctime": "2025-07-12 16:48:09"}
{"timestamp": "2025-07-12T16:48:09.464219", "level": "INFO", "logger": "amanita_api.auth", "message": "HMAC Middleware инициализирован", "module": "auth", "function": "__init__", "line": 56, "timestamp_window": 300, "nonce_cache_ttl": 600, "api_key_service_available": true, "asctime": "2025-07-12 16:48:09"}
{"timestamp": "2025-07-12T16:51:30.042442", "level": "WARNING", "logger": "amanita_api.auth", "message": "HMAC аутентификация неудачна", "module": "auth", "function": "dispatch", "line": 116, "error": "401: Missing required header: X-API-Key", "processing_time_ms": 0.16, "path": "/hello", "method": "GET", "client_ip": "127.0.0.1", "asctime": "2025-07-12 16:51:30"}
{"timestamp": "1752328357", "level": "INFO", "logger": "amanita_api.auth", "message": "HMAC аутентификация успешна", "module": "auth", "function": "dispatch", "line": 96, "api_key": "ak_22bc74537e53698e", "nonce": "b8f5e256-3d7e-4315-baea-94fecea9871e", "processing_time_ms": 1.22, "path": "/auth-test", "method": "POST", "asctime": "2025-07-12 16:52:37"}
{"timestamp": "2025-07-12T16:52:37.959627", "level": "INFO", "logger": "amanita_api", "message": "Auth test запрос", "module": "main", "function": "auth_test", "line": 216, "endpoint": "/auth-test", "seller_address": "ak_22bc74537e53698e", "asctime": "2025-07-12 16:52:37"}
{"timestamp": "2025-07-12T16:52:37.969190", "level": "WARNING", "logger": "amanita_api.auth", "message": "HMAC аутентификация неудачна", "module": "auth", "function": "dispatch", "line": 116, "error": "401: HMAC signature validation failed", "processing_time_ms": 0.11, "path": "/auth-test", "method": "POST", "client_ip": "127.0.0.1", "asctime": "2025-07-12 16:52:37"}
{"timestamp": "2025-07-12T16:52:37.978104", "level": "WARNING", "logger": "amanita_api.auth", "message": "Ошибка валидации API ключа ak_invalidkey123: Неверный API ключ: ak_invalidkey123", "module": "auth", "function": "_validate_api_key", "line": 225, "asctime": "2025-07-12 16:52:37"}
{"timestamp": "2025-07-12T16:52:37.978268", "level": "WARNING", "logger": "amanita_api.auth", "message": "HMAC аутентификация неудачна", "module": "auth", "function": "dispatch", "line": 116, "error": "401: Invalid API key: ak_invalidkey123", "processing_time_ms": 0.28, "path": "/auth-test", "method": "POST", "client_ip": "127.0.0.1", "asctime": "2025-07-12 16:52:37"}
{"timestamp": "1752328357", "level": "INFO", "logger": "amanita_api.auth", "message": "HMAC аутентификация успешна", "module": "auth", "function": "dispatch", "line": 96, "api_key": "ak_22bc74537e53698e", "nonce": "3b2262c8-d9f8-47de-9a6a-9d652aab313b", "processing_time_ms": 0.34, "path": "/hello", "method": "GET", "asctime": "2025-07-12 16:52:37"}
{"timestamp": "2025-07-12T16:52:37.989063", "level": "INFO", "logger": "amanita_api", "message": "Hello world запрос", "module": "main", "function": "hello_world", "line": 205, "endpoint": "/hello", "asctime": "2025-07-12 16:52:37"}
{"timestamp": "2025-07-13T15:01:47.417441", "level": "DEBUG", "logger": "amanita_api.auth", "message": "Очищено 4 старых nonce", "module": "auth", "function": "_cleanup_old_nonces", "line": 290, "asctime": "2025-07-13 15:01:47"}
{"timestamp": "1752408107", "level": "INFO", "logger": "amanita_api.auth", "message": "HMAC аутентификация успешна", "module": "auth", "function": "dispatch", "line": 96, "api_key": "ak_22bc74537e53698e", "nonce": "cb4460cb-b38a-4c27-bcaf-5d6712c0de3d", "processing_time_ms": 14.12, "path": "/auth-test", "method": "POST", "asctime": "2025-07-13 15:01:47"}
{"timestamp": "2025-07-13T15:01:47.448248", "level": "INFO", "logger": "amanita_api", "message": "Auth test запрос", "module": "main", "function": "auth_test", "line": 216, "endpoint": "/auth-test", "seller_address": "ak_22bc74537e53698e", "asctime": "2025-07-13 15:01:47"}
{"timestamp": "2025-07-13T15:01:47.470560", "level": "WARNING", "logger": "amanita_api.auth", "message": "HMAC аутентификация неудачна", "module": "auth", "function": "dispatch", "line": 116, "error": "401: HMAC signature validation failed", "processing_time_ms": 2.68, "path": "/auth-test", "method": "POST", "client_ip": "127.0.0.1", "asctime": "2025-07-13 15:01:47"}
{"timestamp": "2025-07-13T15:01:47.480638", "level": "WARNING", "logger": "amanita_api.auth", "message": "Ошибка валидации API ключа ak_invalidkey123: Неверный API ключ: ak_invalidkey123", "module": "auth", "function": "_validate_api_key", "line": 225, "asctime": "2025-07-13 15:01:47"}
{"timestamp": "2025-07-13T15:01:47.480783", "level": "WARNING", "logger": "amanita_api.auth", "message": "HMAC аутентификация неудачна", "module": "auth", "function": "dispatch", "line": 116, "error": "401: Invalid API key: ak_invalidkey123", "processing_time_ms": 0.25, "path": "/auth-test", "method": "POST", "client_ip": "127.0.0.1", "asctime": "2025-07-13 15:01:47"}
{"timestamp": "2025-07-13T15:18:25.020340", "level": "DEBUG", "logger": "amanita_api.auth", "message": "Очищено 3 старых nonce", "module": "auth", "function": "_cleanup_old_nonces", "line": 290, "asctime": "2025-07-13 15:18:25"}
{"timestamp": "1752409104", "level": "INFO", "logger": "amanita_api.auth", "message": "HMAC аутентификация успешна", "module": "auth", "function": "dispatch", "line": 96, "api_key": "ak_22bc74537e53698e", "nonce": "0c130d49-3239-4101-b2c1-1f4a9fd4428c", "processing_time_ms": 7.4, "path": "/auth-test", "method": "POST", "asctime": "2025-07-13 15:18:25"}
{"timestamp": "2025-07-13T15:18:25.026999", "level": "INFO", "logger": "amanita_api", "message": "Auth test запрос", "module": "main", "function": "auth_test", "line": 216, "endpoint": "/auth-test", "seller_address": "ak_22bc74537e53698e", "asctime": "2025-07-13 15:18:25"}
{"timestamp": "2025-07-13T15:18:25.077059", "level": "WARNING", "logger": "amanita_api.auth", "message": "HMAC аутентификация неудачна", "module": "auth", "function": "dispatch", "line": 116, "error": "401: HMAC signature validation failed", "processing_time_ms": 0.4, "path": "/auth-test", "method": "POST", "client_ip": "127.0.0.1", "asctime": "2025-07-13 15:18:25"}
{"timestamp": "2025-07-13T15:18:25.087345", "level": "WARNING", "logger": "amanita_api.auth", "message": "Ошибка валидации API ключа ak_invalidkey123: Неверный API ключ: ak_invalidkey123", "module": "auth", "function": "_validate_api_key", "line": 225, "asctime": "2025-07-13 15:18:25"}
{"timestamp": "2025-07-13T15:18:25.087455", "level": "WARNING", "logger": "amanita_api.auth", "message": "HMAC аутентификация неудачна", "module": "auth", "function": "dispatch", "line": 116, "error": "401: Invalid API key: ak_invalidkey123", "processing_time_ms": 1.52, "path": "/auth-test", "method": "POST", "client_ip": "127.0.0.1", "asctime": "2025-07-13 15:18:25"}
{"timestamp": "2025-07-13T15:18:25.099096", "level": "WARNING", "logger": "amanita_api.auth", "message": "HMAC аутентификация неудачна", "module": "auth", "function": "dispatch", "line": 116, "error": "401: Missing required header: X-API-Key", "processing_time_ms": 0.02, "path": "/auth-test", "method": "POST", "client_ip": "127.0.0.1", "asctime": "2025-07-13 15:18:25"}
{"timestamp": "1752409123", "level": "INFO", "logger": "amanita_api.auth", "message": "HMAC аутентификация успешна", "module": "auth", "function": "dispatch", "line": 96, "api_key": "ak_22bc74537e53698e", "nonce": "fb418a59-b003-4fed-84a2-1a45795e5606", "processing_time_ms": 0.52, "path": "/auth-test", "method": "POST", "asctime": "2025-07-13 15:18:43"}
{"timestamp": "2025-07-13T15:18:43.092211", "level": "INFO", "logger": "amanita_api", "message": "Auth test запрос", "module": "main", "function": "auth_test", "line": 216, "endpoint": "/auth-test", "seller_address": "ak_22bc74537e53698e", "asctime": "2025-07-13 15:18:43"}
{"timestamp": "2025-07-13T15:18:43.101913", "level": "WARNING", "logger": "amanita_api.auth", "message": "HMAC аутентификация неудачна", "module": "auth", "function": "dispatch", "line": 116, "error": "401: HMAC signature validation failed", "processing_time_ms": 0.09, "path": "/auth-test", "method": "POST", "client_ip": "127.0.0.1", "asctime": "2025-07-13 15:18:43"}
{"timestamp": "2025-07-13T15:18:43.111749", "level": "WARNING", "logger": "amanita_api.auth", "message": "Ошибка валидации API ключа ak_invalidkey123: Неверный API ключ: ak_invalidkey123", "module": "auth", "function": "_validate_api_key", "line": 225, "asctime": "2025-07-13 15:18:43"}
{"timestamp": "2025-07-13T15:18:43.111878", "level": "WARNING", "logger": "amanita_api.auth", "message": "HMAC аутентификация неудачна", "module": "auth", "function": "dispatch", "line": 116, "error": "401: Invalid API key: ak_invalidkey123", "processing_time_ms": 0.62, "path": "/auth-test", "method": "POST", "client_ip": "127.0.0.1", "asctime": "2025-07-13 15:18:43"}
{"timestamp": "2025-07-13T15:18:43.120616", "level": "WARNING", "logger": "amanita_api.auth", "message": "HMAC аутентификация неудачна", "module": "auth", "function": "dispatch", "line": 116, "error": "401: Missing required header: X-API-Key", "processing_time_ms": 0.02, "path": "/auth-test", "method": "POST", "client_ip": "127.0.0.1", "asctime": "2025-07-13 15:18:43"}
{"timestamp": "2025-07-13T15:19:56.105803", "level": "INFO", "logger": "amanita_api", "message": "Инициализация AMANITA API приложения", "module": "main", "function": "create_api_app", "line": 127, "log_level": "DEBUG", "log_file": "logs/amanita_api.log", "service_factory_available": true, "asctime": "2025-07-13 15:19:56"}
{"timestamp": "2025-07-13T15:19:56.106141", "level": "INFO", "logger": "amanita_api", "message": "ApiKeyService интегрирован в HMAC middleware", "module": "main", "function": "create_api_app", "line": 157, "asctime": "2025-07-13 15:19:56"}
{"timestamp": "2025-07-13T15:19:56.106214", "level": "INFO", "logger": "amanita_api", "message": "ServiceFactory интегрирован в приложение", "module": "main", "function": "create_api_app", "line": 166, "asctime": "2025-07-13 15:19:56"}
{"timestamp": "2025-07-13T15:19:56.107830", "level": "INFO", "logger": "amanita_api", "message": "FastAPI приложение создано с базовой конфигурацией", "module": "main", "function": "create_api_app", "line": 346, "docs_url": "/docs", "health_endpoint": "/health", "asctime": "2025-07-13 15:19:56"}
{"timestamp": "2025-07-13T15:19:56.125312", "level": "INFO", "logger": "amanita_api.auth", "message": "HMAC Middleware инициализирован", "module": "auth", "function": "__init__", "line": 56, "timestamp_window": 300, "nonce_cache_ttl": 600, "api_key_service_available": true, "asctime": "2025-07-13 15:19:56"}
{"timestamp": "1752409252", "level": "INFO", "logger": "amanita_api.auth", "message": "HMAC аутентификация успешна", "module": "auth", "function": "dispatch", "line": 101, "api_key": "ak_22bc74537e53698e", "nonce": "54fc827a-1caa-477d-81e4-a52e8c49a77b", "processing_time_ms": 0.95, "path": "/auth-test", "method": "POST", "asctime": "2025-07-13 15:20:52"}
{"timestamp": "2025-07-13T15:20:52.269018", "level": "INFO", "logger": "amanita_api", "message": "Auth test запрос", "module": "main", "function": "auth_test", "line": 328, "endpoint": "/auth-test", "client_address": "unknown", "asctime": "2025-07-13 15:20:52"}
{"timestamp": "2025-07-13T15:20:52.314723", "level": "WARNING", "logger": "amanita_api.auth", "message": "HMAC аутентификация неудачна", "module": "auth", "function": "dispatch", "line": 121, "error": "401: HMAC signature validation failed", "processing_time_ms": 0.11, "path": "/auth-test", "method": "POST", "client_ip": "127.0.0.1", "asctime": "2025-07-13 15:20:52"}
{"timestamp": "2025-07-13T15:20:52.325604", "level": "WARNING", "logger": "amanita_api.auth", "message": "Ошибка валидации API ключа ak_invalidkey123: Неверный API ключ: ak_invalidkey123", "module": "auth", "function": "_validate_api_key", "line": 244, "asctime": "2025-07-13 15:20:52"}
{"timestamp": "2025-07-13T15:20:52.325725", "level": "WARNING", "logger": "amanita_api.auth", "message": "HMAC аутентификация неудачна", "module": "auth", "function": "dispatch", "line": 121, "error": "401: Invalid API key: ak_invalidkey123", "processing_time_ms": 0.56, "path": "/auth-test", "method": "POST", "client_ip": "127.0.0.1", "asctime": "2025-07-13 15:20:52"}
{"timestamp": "2025-07-13T15:20:52.335765", "level": "INFO", "logger": "amanita_api", "message": "Auth test запрос", "module": "main", "function": "auth_test", "line": 328, "endpoint": "/auth-test", "client_address": "unknown", "asctime": "2025-07-13 15:20:52"}
{"timestamp": "2025-07-13T15:21:40.978160", "level": "INFO", "logger": "amanita_api", "message": "Инициализация AMANITA API приложения", "module": "main", "function": "create_api_app", "line": 127, "log_level": "DEBUG", "log_file": "logs/amanita_api.log", "service_factory_available": true, "asctime": "2025-07-13 15:21:40"}
{"timestamp": "2025-07-13T15:21:40.978443", "level": "INFO", "logger": "amanita_api", "message": "ApiKeyService интегрирован в HMAC middleware", "module": "main", "function": "create_api_app", "line": 157, "asctime": "2025-07-13 15:21:40"}
{"timestamp": "2025-07-13T15:21:40.978516", "level": "INFO", "logger": "amanita_api", "message": "ServiceFactory интегрирован в приложение", "module": "main", "function": "create_api_app", "line": 166, "asctime": "2025-07-13 15:21:40"}
{"timestamp": "2025-07-13T15:21:40.980082", "level": "INFO", "logger": "amanita_api", "message": "FastAPI приложение создано с базовой конфигурацией", "module": "main", "function": "create_api_app", "line": 346, "docs_url": "/docs", "health_endpoint": "/health", "asctime": "2025-07-13 15:21:40"}
{"timestamp": "2025-07-13T15:21:40.998752", "level": "INFO", "logger": "amanita_api.auth", "message": "HMAC Middleware инициализирован", "module": "auth", "function": "__init__", "line": 56, "timestamp_window": 300, "nonce_cache_ttl": 600, "api_key_service_available": true, "asctime": "2025-07-13 15:21:40"}
{"timestamp": "2025-07-13T15:21:54.545337", "level": "DEBUG", "logger": "amanita_api", "message": "Health check запрос", "module": "main", "function": "health_check", "line": 205, "endpoint": "/health", "asctime": "2025-07-13 15:21:54"}
{"timestamp": "2025-07-13T15:21:58.081996", "level": "DEBUG", "logger": "amanita_api", "message": "Health check запрос", "module": "main", "function": "health_check", "line": 205, "endpoint": "/health", "asctime": "2025-07-13 15:21:58"}
{"timestamp": "1752409365", "level": "INFO", "logger": "amanita_api.auth", "message": "HMAC аутентификация успешна", "module": "auth", "function": "dispatch", "line": 111, "api_key": "ak_22bc74537e53698e", "nonce": "f570684a-d9be-4541-ba9e-7dabf4da9a88", "processing_time_ms": 1.55, "path": "/auth-test", "method": "POST", "asctime": "2025-07-13 15:22:45"}
{"timestamp": "2025-07-13T15:22:45.335505", "level": "INFO", "logger": "amanita_api", "message": "Auth test запрос", "module": "main", "function": "auth_test", "line": 328, "endpoint": "/auth-test", "client_address": "unknown", "asctime": "2025-07-13 15:22:45"}
{"timestamp": "1752409377", "level": "INFO", "logger": "amanita_api.auth", "message": "HMAC аутентификация успешна", "module": "auth", "function": "dispatch", "line": 111, "api_key": "ak_22bc74537e53698e", "nonce": "d67144e9-c4c5-4d27-a96a-dae9ab6df0a5", "processing_time_ms": 0.44, "path": "/auth-test", "method": "POST", "asctime": "2025-07-13 15:22:57"}
{"timestamp": "2025-07-13T15:22:57.662029", "level": "INFO", "logger": "amanita_api", "message": "Auth test запрос", "module": "main", "function": "auth_test", "line": 328, "endpoint": "/auth-test", "client_address": "unknown", "asctime": "2025-07-13 15:22:57"}
{"timestamp": "2025-07-13T15:22:57.672352", "level": "WARNING", "logger": "amanita_api.auth", "message": "HMAC аутентификация неудачна", "module": "auth", "function": "dispatch", "line": 131, "error": "401: HMAC signature validation failed", "processing_time_ms": 0.17, "path": "/auth-test", "method": "POST", "client_ip": "127.0.0.1", "asctime": "2025-07-13 15:22:57"}
{"timestamp": "2025-07-13T15:22:57.686963", "level": "WARNING", "logger": "amanita_api.auth", "message": "Ошибка валидации API ключа ak_invalidkey123: Неверный API ключ: ak_invalidkey123", "module": "auth", "function": "_validate_api_key", "line": 254, "asctime": "2025-07-13 15:22:57"}
{"timestamp": "2025-07-13T15:22:57.687255", "level": "WARNING", "logger": "amanita_api.auth", "message": "HMAC аутентификация неудачна", "module": "auth", "function": "dispatch", "line": 131, "error": "401: Invalid API key: ak_invalidkey123", "processing_time_ms": 1.33, "path": "/auth-test", "method": "POST", "client_ip": "127.0.0.1", "asctime": "2025-07-13 15:22:57"}
{"timestamp": "1752409431", "level": "INFO", "logger": "amanita_api.auth", "message": "HMAC аутентификация успешна", "module": "auth", "function": "dispatch", "line": 111, "api_key": "ak_22bc74537e53698e", "nonce": "80e89f4f-0891-432d-9d99-e3dcb0de31fe", "processing_time_ms": 0.74, "path": "/auth-test", "method": "POST", "asctime": "2025-07-13 15:23:51"}
{"timestamp": "2025-07-13T15:23:51.646281", "level": "INFO", "logger": "amanita_api", "message": "Auth test запрос", "module": "main", "function": "auth_test", "line": 328, "endpoint": "/auth-test", "client_address": "unknown", "asctime": "2025-07-13 15:23:51"}
{"timestamp": "2025-07-13T15:23:51.687585", "level": "WARNING", "logger": "amanita_api.auth", "message": "HMAC аутентификация неудачна", "module": "auth", "function": "dispatch", "line": 131, "error": "401: HMAC signature validation failed", "processing_time_ms": 0.21, "path": "/auth-test", "method": "POST", "client_ip": "127.0.0.1", "asctime": "2025-07-13 15:23:51"}
{"timestamp": "2025-07-13T15:23:51.711701", "level": "WARNING", "logger": "amanita_api.auth", "message": "Ошибка валидации API ключа ak_invalidkey123: Неверный API ключ: ak_invalidkey123", "module": "auth", "function": "_validate_api_key", "line": 254, "asctime": "2025-07-13 15:23:51"}
{"timestamp": "2025-07-13T15:23:51.712163", "level": "WARNING", "logger": "amanita_api.auth", "message": "HMAC аутентификация неудачна", "module": "auth", "function": "dispatch", "line": 131, "error": "401: Invalid API key: ak_invalidkey123", "processing_time_ms": 2.28, "path": "/auth-test", "method": "POST", "client_ip": "127.0.0.1", "asctime": "2025-07-13 15:23:51"}
{"timestamp": "1752409439", "level": "INFO", "logger": "amanita_api.auth", "message": "HMAC аутентификация успешна", "module": "auth", "function": "dispatch", "line": 111, "api_key": "ak_22bc74537e53698e", "nonce": "dc9ce26d-21fd-4fa8-b0a3-96b29f19d7a7", "processing_time_ms": 0.53, "path": "/auth-test", "method": "POST", "asctime": "2025-07-13 15:23:59"}
{"timestamp": "2025-07-13T15:23:59.149807", "level": "INFO", "logger": "amanita_api", "message": "Auth test запрос", "module": "main", "function": "auth_test", "line": 328, "endpoint": "/auth-test", "client_address": "unknown", "asctime": "2025-07-13 15:23:59"}
{"timestamp": "2025-07-13T15:23:59.159313", "level": "WARNING", "logger": "amanita_api.auth", "message": "HMAC аутентификация неудачна", "module": "auth", "function": "dispatch", "line": 131, "error": "401: HMAC signature validation failed", "processing_time_ms": 0.08, "path": "/auth-test", "method": "POST", "client_ip": "127.0.0.1", "asctime": "2025-07-13 15:23:59"}
{"timestamp": "2025-07-13T15:23:59.169555", "level": "WARNING", "logger": "amanita_api.auth", "message": "Ошибка валидации API ключа ak_invalidkey123: Неверный API ключ: ak_invalidkey123", "module": "auth", "function": "_validate_api_key", "line": 254, "asctime": "2025-07-13 15:23:59"}
{"timestamp": "2025-07-13T15:23:59.169708", "level": "WARNING", "logger": "amanita_api.auth", "message": "HMAC аутентификация неудачна", "module": "auth", "function": "dispatch", "line": 131, "error": "401: Invalid API key: ak_invalidkey123", "processing_time_ms": 0.75, "path": "/auth-test", "method": "POST", "client_ip": "127.0.0.1", "asctime": "2025-07-13 15:23:59"}
{"timestamp": "1752409467", "level": "INFO", "logger": "amanita_api.auth", "message": "HMAC аутентификация успешна", "module": "auth", "function": "dispatch", "line": 111, "api_key": "ak_22bc74537e53698e", "nonce": "2b4d736e-38d5-4d78-8e1c-ba3eb0459fb0", "processing_time_ms": 0.65, "path": "/api-keys/", "method": "POST", "asctime": "2025-07-13 15:24:27"}
{"timestamp": "1752409467", "level": "INFO", "logger": "amanita_api.auth", "message": "HMAC аутентификация успешна", "module": "auth", "function": "dispatch", "line": 111, "api_key": "ak_22bc74537e53698e", "nonce": "4554a008-e48c-4ea0-8e52-367ad53086df", "processing_time_ms": 0.07, "path": "/api-keys/", "method": "POST", "asctime": "2025-07-13 15:24:27"}
{"timestamp": "1752409537", "level": "INFO", "logger": "amanita_api.auth", "message": "HMAC аутентификация успешна", "module": "auth", "function": "dispatch", "line": 111, "api_key": "ak_22bc74537e53698e", "nonce": "bb45dd53-0c02-4e0e-a925-a07874127933", "processing_time_ms": 1.17, "path": "/api-keys/", "method": "POST", "asctime": "2025-07-13 15:25:37"}
{"timestamp": "1752409537", "level": "INFO", "logger": "amanita_api.auth", "message": "HMAC аутентификация успешна", "module": "auth", "function": "dispatch", "line": 111, "api_key": "ak_22bc74537e53698e", "nonce": "62157aac-59ca-4f86-afe0-a5a24b9f82a5", "processing_time_ms": 1.1, "path": "/api-keys/", "method": "POST", "asctime": "2025-07-13 15:25:37"}
{"timestamp": "1752409543", "level": "INFO", "logger": "amanita_api.auth", "message": "HMAC аутентификация успешна", "module": "auth", "function": "dispatch", "line": 111, "api_key": "ak_22bc74537e53698e", "nonce": "74fb6bd0-c4fd-4ece-b5f0-b4d1f906a7de", "processing_time_ms": 6.14, "path": "/auth-test", "method": "POST", "asctime": "2025-07-13 15:25:43"}
{"timestamp": "2025-07-13T15:25:43.700705", "level": "INFO", "logger": "amanita_api", "message": "Auth test запрос", "module": "main", "function": "auth_test", "line": 328, "endpoint": "/auth-test", "client_address": "unknown", "asctime": "2025-07-13 15:25:43"}
{"timestamp": "2025-07-13T15:25:43.710913", "level": "WARNING", "logger": "amanita_api.auth", "message": "HMAC аутентификация неудачна", "module": "auth", "function": "dispatch", "line": 131, "error": "401: HMAC signature validation failed", "processing_time_ms": 0.09, "path": "/auth-test", "method": "POST", "client_ip": "127.0.0.1", "asctime": "2025-07-13 15:25:43"}
{"timestamp": "2025-07-13T15:25:43.721215", "level": "WARNING", "logger": "amanita_api.auth", "message": "Ошибка валидации API ключа ak_invalidkey123: Неверный API ключ: ak_invalidkey123", "module": "auth", "function": "_validate_api_key", "line": 254, "asctime": "2025-07-13 15:25:43"}
{"timestamp": "2025-07-13T15:25:43.721345", "level": "WARNING", "logger": "amanita_api.auth", "message": "HMAC аутентификация неудачна", "module": "auth", "function": "dispatch", "line": 131, "error": "401: Invalid API key: ak_invalidkey123", "processing_time_ms": 0.56, "path": "/auth-test", "method": "POST", "client_ip": "127.0.0.1", "asctime": "2025-07-13 15:25:43"}
{"timestamp": "1752409543", "level": "INFO", "logger": "amanita_api.auth", "message": "HMAC аутентификация успешна", "module": "auth", "function": "dispatch", "line": 111, "api_key": "ak_22bc74537e53698e", "nonce": "33f42f19-fa4a-4755-9790-6e0ffec0aa6f", "processing_time_ms": 0.07, "path": "/api-keys/", "method": "POST", "asctime": "2025-07-13 15:25:43"}
{"timestamp": "1752409543", "level": "INFO", "logger": "amanita_api.auth", "message": "HMAC аутентификация успешна", "module": "auth", "function": "dispatch", "line": 111, "api_key": "ak_22bc74537e53698e", "nonce": "d5c4a80d-4893-42ae-b23d-67e5916a026a", "processing_time_ms": 0.07, "path": "/api-keys/", "method": "POST", "asctime": "2025-07-13 15:25:43"}
{"timestamp": "2025-07-13T15:32:16.534506", "level": "WARNING", "logger": "amanita_api.auth", "message": "Ошибка валидации API ключа test-api-key-12345: Неверный API ключ: test-api-key-12345", "module": "auth", "function": "_validate_api_key", "line": 254, "asctime": "2025-07-13 15:32:16"}
{"timestamp": "2025-07-13T15:32:16.536040", "level": "WARNING", "logger": "amanita_api.auth", "message": "HMAC аутентификация неудачна", "module": "auth", "function": "dispatch", "line": 131, "error": "401: Invalid API key: test-api-key-12345", "processing_time_ms": 7.85, "path": "/auth-test", "method": "POST", "client_ip": "127.0.0.1", "asctime": "2025-07-13 15:32:16"}
{"timestamp": "2025-07-13T15:32:16.585963", "level": "WARNING", "logger": "amanita_api.auth", "message": "Ошибка валидации API ключа test-api-key-12345: Неверный API ключ: test-api-key-12345", "module": "auth", "function": "_validate_api_key", "line": 254, "asctime": "2025-07-13 15:32:16"}
{"timestamp": "2025-07-13T15:32:16.586119", "level": "WARNING", "logger": "amanita_api.auth", "message": "HMAC аутентификация неудачна", "module": "auth", "function": "dispatch", "line": 131, "error": "401: Invalid API key: test-api-key-12345", "processing_time_ms": 0.32, "path": "/auth-test", "method": "POST", "client_ip": "127.0.0.1", "asctime": "2025-07-13 15:32:16"}
{"timestamp": "2025-07-13T15:32:16.595650", "level": "WARNING", "logger": "amanita_api.auth", "message": "Ошибка валидации API ключа ak_invalidkey123: Неверный API ключ: ak_invalidkey123", "module": "auth", "function": "_validate_api_key", "line": 254, "asctime": "2025-07-13 15:32:16"}
{"timestamp": "2025-07-13T15:32:16.595852", "level": "WARNING", "logger": "amanita_api.auth", "message": "HMAC аутентификация неудачна", "module": "auth", "function": "dispatch", "line": 131, "error": "401: Invalid API key: ak_invalidkey123", "processing_time_ms": 0.6, "path": "/auth-test", "method": "POST", "client_ip": "127.0.0.1", "asctime": "2025-07-13 15:32:16"}
{"timestamp": "2025-07-13T15:32:16.627208", "level": "WARNING", "logger": "amanita_api.auth", "message": "Ошибка валидации API ключа test-api-key-12345: Неверный API ключ: test-api-key-12345", "module": "auth", "function": "_validate_api_key", "line": 254, "asctime": "2025-07-13 15:32:16"}
{"timestamp": "2025-07-13T15:32:16.627308", "level": "WARNING", "logger": "amanita_api.auth", "message": "HMAC аутентификация неудачна", "module": "auth", "function": "dispatch", "line": 131, "error": "401: Invalid API key: test-api-key-12345", "processing_time_ms": 0.21, "path": "/api-keys/", "method": "POST", "client_ip": "127.0.0.1", "asctime": "2025-07-13 15:32:16"}
{"timestamp": "2025-07-13T15:32:16.639501", "level": "WARNING", "logger": "amanita_api.auth", "message": "Ошибка валидации API ключа test-api-key-12345: Неверный API ключ: test-api-key-12345", "module": "auth", "function": "_validate_api_key", "line": 254, "asctime": "2025-07-13 15:32:16"}
{"timestamp": "2025-07-13T15:32:16.639592", "level": "WARNING", "logger": "amanita_api.auth", "message": "HMAC аутентификация неудачна", "module": "auth", "function": "dispatch", "line": 131, "error": "401: Invalid API key: test-api-key-12345", "processing_time_ms": 0.42, "path": "/api-keys/", "method": "POST", "client_ip": "127.0.0.1", "asctime": "2025-07-13 15:32:16"}
{"timestamp": "2025-07-13T16:14:34.545546", "level": "WARNING", "logger": "amanita_api.auth", "message": "Ошибка валидации API ключа test-api-key-12345: Неверный API ключ: test-api-key-12345", "module": "auth", "function": "_validate_api_key", "line": 254, "asctime": "2025-07-13 16:14:34"}
{"timestamp": "2025-07-13T16:14:34.548062", "level": "WARNING", "logger": "amanita_api.auth", "message": "HMAC аутентификация неудачна", "module": "auth", "function": "dispatch", "line": 131, "error": "401: Invalid API key: test-api-key-12345", "processing_time_ms": 9.55, "path": "/auth-test", "method": "POST", "client_ip": "127.0.0.1", "asctime": "2025-07-13 16:14:34"}
{"timestamp": "2025-07-13T16:14:34.597518", "level": "WARNING", "logger": "amanita_api.auth", "message": "Ошибка валидации API ключа test-api-key-12345: Неверный API ключ: test-api-key-12345", "module": "auth", "function": "_validate_api_key", "line": 254, "asctime": "2025-07-13 16:14:34"}
{"timestamp": "2025-07-13T16:14:34.597606", "level": "WARNING", "logger": "amanita_api.auth", "message": "HMAC аутентификация неудачна", "module": "auth", "function": "dispatch", "line": 131, "error": "401: Invalid API key: test-api-key-12345", "processing_time_ms": 0.42, "path": "/auth-test", "method": "POST", "client_ip": "127.0.0.1", "asctime": "2025-07-13 16:14:34"}
{"timestamp": "2025-07-13T16:14:34.621482", "level": "WARNING", "logger": "amanita_api.auth", "message": "Ошибка валидации API ключа ak_invalidkey123: Неверный API ключ: ak_invalidkey123", "module": "auth", "function": "_validate_api_key", "line": 254, "asctime": "2025-07-13 16:14:34"}
{"timestamp": "2025-07-13T16:14:34.621819", "level": "WARNING", "logger": "amanita_api.auth", "message": "HMAC аутентификация неудачна", "module": "auth", "function": "dispatch", "line": 131, "error": "401: Invalid API key: ak_invalidkey123", "processing_time_ms": 0.49, "path": "/auth-test", "method": "POST", "client_ip": "127.0.0.1", "asctime": "2025-07-13 16:14:34"}
{"timestamp": "2025-07-13T16:14:34.694681", "level": "WARNING", "logger": "amanita_api.auth", "message": "Ошибка валидации API ключа test-api-key-12345: Неверный API ключ: test-api-key-12345", "module": "auth", "function": "_validate_api_key", "line": 254, "asctime": "2025-07-13 16:14:34"}
{"timestamp": "2025-07-13T16:14:34.694831", "level": "WARNING", "logger": "amanita_api.auth", "message": "HMAC аутентификация неудачна", "module": "auth", "function": "dispatch", "line": 131, "error": "401: Invalid API key: test-api-key-12345", "processing_time_ms": 0.3, "path": "/api-keys/", "method": "POST", "client_ip": "127.0.0.1", "asctime": "2025-07-13 16:14:34"}
{"timestamp": "2025-07-13T16:14:34.710907", "level": "WARNING", "logger": "amanita_api.auth", "message": "Ошибка валидации API ключа test-api-key-12345: Неверный API ключ: test-api-key-12345", "module": "auth", "function": "_validate_api_key", "line": 254, "asctime": "2025-07-13 16:14:34"}
{"timestamp": "2025-07-13T16:14:34.711544", "level": "WARNING", "logger": "amanita_api.auth", "message": "HMAC аутентификация неудачна", "module": "auth", "function": "dispatch", "line": 131, "error": "401: Invalid API key: test-api-key-12345", "processing_time_ms": 0.82, "path": "/api-keys/", "method": "POST", "client_ip": "127.0.0.1", "asctime": "2025-07-13 16:14:34"}
{"timestamp": "2025-07-13T16:17:42.185562", "level": "WARNING", "logger": "amanita_api.auth", "message": "Ошибка валидации API ключа test-api-key-12345: Неверный API ключ: test-api-key-12345", "module": "auth", "function": "_validate_api_key", "line": 254, "asctime": "2025-07-13 16:17:42"}
{"timestamp": "2025-07-13T16:17:42.186157", "level": "WARNING", "logger": "amanita_api.auth", "message": "HMAC аутентификация неудачна", "module": "auth", "function": "dispatch", "line": 131, "error": "401: Invalid API key: test-api-key-12345", "processing_time_ms": 3.85, "path": "/auth-test", "method": "POST", "client_ip": "127.0.0.1", "asctime": "2025-07-13 16:17:42"}
{"timestamp": "2025-07-13T16:17:42.249947", "level": "WARNING", "logger": "amanita_api.auth", "message": "Ошибка валидации API ключа test-api-key-12345: Неверный API ключ: test-api-key-12345", "module": "auth", "function": "_validate_api_key", "line": 254, "asctime": "2025-07-13 16:17:42"}
{"timestamp": "2025-07-13T16:17:42.250156", "level": "WARNING", "logger": "amanita_api.auth", "message": "HMAC аутентификация неудачна", "module": "auth", "function": "dispatch", "line": 131, "error": "401: Invalid API key: test-api-key-12345", "processing_time_ms": 15.68, "path": "/auth-test", "method": "POST", "client_ip": "127.0.0.1", "asctime": "2025-07-13 16:17:42"}
{"timestamp": "2025-07-13T16:17:42.259727", "level": "WARNING", "logger": "amanita_api.auth", "message": "Ошибка валидации API ключа ak_invalidkey123: Неверный API ключ: ak_invalidkey123", "module": "auth", "function": "_validate_api_key", "line": 254, "asctime": "2025-07-13 16:17:42"}
{"timestamp": "2025-07-13T16:17:42.259815", "level": "WARNING", "logger": "amanita_api.auth", "message": "HMAC аутентификация неудачна", "module": "auth", "function": "dispatch", "line": 131, "error": "401: Invalid API key: ak_invalidkey123", "processing_time_ms": 0.22, "path": "/auth-test", "method": "POST", "client_ip": "127.0.0.1", "asctime": "2025-07-13 16:17:42"}
{"timestamp": "2025-07-13T16:17:42.289158", "level": "WARNING", "logger": "amanita_api.auth", "message": "Ошибка валидации API ключа test-api-key-12345: Неверный API ключ: test-api-key-12345", "module": "auth", "function": "_validate_api_key", "line": 254, "asctime": "2025-07-13 16:17:42"}
{"timestamp": "2025-07-13T16:17:42.289241", "level": "WARNING", "logger": "amanita_api.auth", "message": "HMAC аутентификация неудачна", "module": "auth", "function": "dispatch", "line": 131, "error": "401: Invalid API key: test-api-key-12345", "processing_time_ms": 0.21, "path": "/api-keys/", "method": "POST", "client_ip": "127.0.0.1", "asctime": "2025-07-13 16:17:42"}
{"timestamp": "2025-07-13T16:17:42.301207", "level": "WARNING", "logger": "amanita_api.auth", "message": "Ошибка валидации API ключа test-api-key-12345: Неверный API ключ: test-api-key-12345", "module": "auth", "function": "_validate_api_key", "line": 254, "asctime": "2025-07-13 16:17:42"}
{"timestamp": "2025-07-13T16:17:42.301293", "level": "WARNING", "logger": "amanita_api.auth", "message": "HMAC аутентификация неудачна", "module": "auth", "function": "dispatch", "line": 131, "error": "401: Invalid API key: test-api-key-12345", "processing_time_ms": 0.22, "path": "/api-keys/", "method": "POST", "client_ip": "127.0.0.1", "asctime": "2025-07-13 16:17:42"}
{"timestamp": "2025-07-13T16:18:16.974613", "level": "INFO", "logger": "amanita_api", "message": "Инициализация AMANITA API приложения", "module": "main", "function": "create_api_app", "line": 128, "log_level": "DEBUG", "log_file": "logs/amanita_api.log", "service_factory_available": true, "asctime": "2025-07-13 16:18:16"}
{"timestamp": "2025-07-13T16:18:16.975133", "level": "INFO", "logger": "amanita_api", "message": "ApiKeyService интегрирован в HMAC middleware", "module": "main", "function": "create_api_app", "line": 158, "asctime": "2025-07-13 16:18:16"}
{"timestamp": "2025-07-13T16:18:16.975232", "level": "INFO", "logger": "amanita_api", "message": "ServiceFactory интегрирован в приложение", "module": "main", "function": "create_api_app", "line": 167, "asctime": "2025-07-13 16:18:16"}
{"timestamp": "2025-07-13T16:18:16.977115", "level": "INFO", "logger": "amanita_api", "message": "FastAPI приложение создано с базовой конфигурацией", "module": "main", "function": "create_api_app", "line": 347, "docs_url": "/docs", "health_endpoint": "/health", "asctime": "2025-07-13 16:18:16"}
{"timestamp": "2025-07-13T16:18:16.998791", "level": "INFO", "logger": "amanita_api.auth", "message": "HMAC Middleware инициализирован", "module": "auth", "function": "__init__", "line": 56, "timestamp_window": 300, "nonce_cache_ttl": 600, "api_key_service_available": true, "asctime": "2025-07-13 16:18:16"}
{"timestamp": "2025-07-13T16:49:28.195538", "level": "INFO", "logger": "amanita_api", "message": "Инициализация AMANITA API приложения", "module": "main", "function": "create_api_app", "line": 128, "log_level": "DEBUG", "log_file": "logs/amanita_api.log", "service_factory_available": true, "asctime": "2025-07-13 16:49:28"}
{"timestamp": "2025-07-13T16:49:28.195970", "level": "INFO", "logger": "amanita_api", "message": "ApiKeyService интегрирован в HMAC middleware", "module": "main", "function": "create_api_app", "line": 158, "asctime": "2025-07-13 16:49:28"}
{"timestamp": "2025-07-13T16:49:28.196047", "level": "INFO", "logger": "amanita_api", "message": "ServiceFactory интегрирован в приложение", "module": "main", "function": "create_api_app", "line": 167, "asctime": "2025-07-13 16:49:28"}
{"timestamp": "2025-07-13T16:49:28.197587", "level": "INFO", "logger": "amanita_api", "message": "FastAPI приложение создано с базовой конфигурацией", "module": "main", "function": "create_api_app", "line": 347, "docs_url": "/docs", "health_endpoint": "/health", "asctime": "2025-07-13 16:49:28"}
{"timestamp": "2025-07-13T16:49:28.215622", "level": "INFO", "logger": "amanita_api.auth", "message": "HMAC Middleware инициализирован", "module": "auth", "function": "__init__", "line": 56, "timestamp_window": 300, "nonce_cache_ttl": 600, "api_key_service_available": true, "asctime": "2025-07-13 16:49:28"}
{"timestamp": "2025-07-13T16:51:12.905008", "level": "WARNING", "logger": "amanita_api.auth", "message": "Ошибка валидации API ключа test-api-key-12345: Неверный API ключ: test-api-key-12345", "module": "auth", "function": "_validate_api_key", "line": 262, "asctime": "2025-07-13 16:51:12"}
{"timestamp": "2025-07-13T16:51:12.909380", "level": "WARNING", "logger": "amanita_api.auth", "message": "HMAC аутентификация неудачна", "module": "auth", "function": "dispatch", "line": 139, "error": "401: Invalid API key: test-api-key-12345", "processing_time_ms": 13.99, "path": "/auth-test", "method": "POST", "client_ip": "127.0.0.1", "asctime": "2025-07-13 16:51:12"}
{"timestamp": "2025-07-13T16:51:12.971165", "level": "WARNING", "logger": "amanita_api.auth", "message": "Ошибка валидации API ключа test-api-key-12345: Неверный API ключ: test-api-key-12345", "module": "auth", "function": "_validate_api_key", "line": 262, "asctime": "2025-07-13 16:51:12"}
{"timestamp": "2025-07-13T16:51:12.971721", "level": "WARNING", "logger": "amanita_api.auth", "message": "HMAC аутентификация неудачна", "module": "auth", "function": "dispatch", "line": 139, "error": "401: Invalid API key: test-api-key-12345", "processing_time_ms": 2.23, "path": "/auth-test", "method": "POST", "client_ip": "127.0.0.1", "asctime": "2025-07-13 16:51:12"}
{"timestamp": "2025-07-13T16:51:12.983094", "level": "WARNING", "logger": "amanita_api.auth", "message": "Ошибка валидации API ключа ak_invalidkey123: Неверный API ключ: ak_invalidkey123", "module": "auth", "function": "_validate_api_key", "line": 262, "asctime": "2025-07-13 16:51:12"}
{"timestamp": "2025-07-13T16:51:12.983211", "level": "WARNING", "logger": "amanita_api.auth", "message": "HMAC аутентификация неудачна", "module": "auth", "function": "dispatch", "line": 139, "error": "401: Invalid API key: ak_invalidkey123", "processing_time_ms": 0.28, "path": "/auth-test", "method": "POST", "client_ip": "127.0.0.1", "asctime": "2025-07-13 16:51:12"}
{"timestamp": "2025-07-13T16:51:13.005971", "level": "INFO", "logger": "amanita_api", "message": "Auth test запрос", "module": "main", "function": "auth_test", "line": 329, "endpoint": "/auth-test", "client_address": "unknown", "asctime": "2025-07-13 16:51:13"}
{"timestamp": "2025-07-13T16:51:13.033649", "level": "WARNING", "logger": "amanita_api.auth", "message": "Ошибка валидации API ключа test-api-key-12345: Неверный API ключ: test-api-key-12345", "module": "auth", "function": "_validate_api_key", "line": 262, "asctime": "2025-07-13 16:51:13"}
{"timestamp": "2025-07-13T16:51:13.033778", "level": "WARNING", "logger": "amanita_api.auth", "message": "HMAC аутентификация неудачна", "module": "auth", "function": "dispatch", "line": 139, "error": "401: Invalid API key: test-api-key-12345", "processing_time_ms": 0.31, "path": "/api-keys/", "method": "POST", "client_ip": "127.0.0.1", "asctime": "2025-07-13 16:51:13"}
{"timestamp": "2025-07-13T16:51:13.049864", "level": "WARNING", "logger": "amanita_api.auth", "message": "Ошибка валидации API ключа test-api-key-12345: Неверный API ключ: test-api-key-12345", "module": "auth", "function": "_validate_api_key", "line": 262, "asctime": "2025-07-13 16:51:13"}
{"timestamp": "2025-07-13T16:51:13.049963", "level": "WARNING", "logger": "amanita_api.auth", "message": "HMAC аутентификация неудачна", "module": "auth", "function": "dispatch", "line": 139, "error": "401: Invalid API key: test-api-key-12345", "processing_time_ms": 0.27, "path": "/api-keys/", "method": "POST", "client_ip": "127.0.0.1", "asctime": "2025-07-13 16:51:13"}
{"timestamp": "1752414870", "level": "INFO", "logger": "amanita_api.auth", "message": "HMAC аутентификация успешна", "module": "auth", "function": "dispatch", "line": 119, "api_key": "ak_22bc74537e53698e", "nonce": "45971520-ec9f-4efd-b121-3fc6e989bd15", "processing_time_ms": 11.99, "path": "/auth-test", "method": "POST", "asctime": "2025-07-13 16:54:30"}
{"timestamp": "2025-07-13T16:54:30.162178", "level": "INFO", "logger": "amanita_api", "message": "Auth test запрос", "module": "main", "function": "auth_test", "line": 329, "endpoint": "/auth-test", "client_address": "unknown", "asctime": "2025-07-13 16:54:30"}
{"timestamp": "2025-07-13T16:54:30.208179", "level": "WARNING", "logger": "amanita_api.auth", "message": "Ошибка валидации API ключа test-api-key-12345: Неверный API ключ: test-api-key-12345", "module": "auth", "function": "_validate_api_key", "line": 262, "asctime": "2025-07-13 16:54:30"}
{"timestamp": "2025-07-13T16:54:30.208415", "level": "WARNING", "logger": "amanita_api.auth", "message": "HMAC аутентификация неудачна", "module": "auth", "function": "dispatch", "line": 139, "error": "401: Invalid API key: test-api-key-12345", "processing_time_ms": 2.04, "path": "/api-keys/", "method": "POST", "client_ip": "127.0.0.1", "asctime": "2025-07-13 16:54:30"}
{"timestamp": "2025-07-13T16:54:30.277873", "level": "WARNING", "logger": "amanita_api.auth", "message": "Ошибка валидации API ключа test-api-key-12345: Неверный API ключ: test-api-key-12345", "module": "auth", "function": "_validate_api_key", "line": 262, "asctime": "2025-07-13 16:54:30"}
{"timestamp": "2025-07-13T16:54:30.277976", "level": "WARNING", "logger": "amanita_api.auth", "message": "HMAC аутентификация неудачна", "module": "auth", "function": "dispatch", "line": 139, "error": "401: Invalid API key: test-api-key-12345", "processing_time_ms": 0.26, "path": "/api-keys/", "method": "POST", "client_ip": "127.0.0.1", "asctime": "2025-07-13 16:54:30"}
{"timestamp": "1752414989", "level": "INFO", "logger": "amanita_api.auth", "message": "HMAC аутентификация успешна", "module": "auth", "function": "dispatch", "line": 119, "api_key": "ak_22bc74537e53698e", "nonce": "6629ed5e-8460-4bf3-afa6-ca057ef73302", "processing_time_ms": 13.08, "path": "/auth-test", "method": "POST", "asctime": "2025-07-13 16:56:29"}
{"timestamp": "2025-07-13T16:56:29.083470", "level": "INFO", "logger": "amanita_api", "message": "Auth test запрос", "module": "main", "function": "auth_test", "line": 329, "endpoint": "/auth-test", "client_address": "unknown", "asctime": "2025-07-13 16:56:29"}
{"timestamp": "1752414989", "level": "INFO", "logger": "amanita_api.auth", "message": "HMAC аутентификация успешна", "module": "auth", "function": "dispatch", "line": 119, "api_key": "ak_22bc74537e53698e", "nonce": "9cbaa9af-23e4-4137-b344-55065d517aba", "processing_time_ms": 0.12, "path": "/auth-test", "method": "POST", "asctime": "2025-07-13 16:56:29"}
{"timestamp": "2025-07-13T16:56:29.099760", "level": "INFO", "logger": "amanita_api", "message": "Auth test запрос", "module": "main", "function": "auth_test", "line": 329, "endpoint": "/auth-test", "client_address": "unknown", "asctime": "2025-07-13 16:56:29"}
{"timestamp": "1752414989", "level": "INFO", "logger": "amanita_api.auth", "message": "HMAC аутентификация успешна", "module": "auth", "function": "dispatch", "line": 119, "api_key": "ak_22bc74537e53698e", "nonce": "b6e298a1-4536-4980-a2a4-1f4de6501888", "processing_time_ms": 0.98, "path": "/nonexistent-endpoint", "method": "POST", "asctime": "2025-07-13 16:56:29"}
{"timestamp": "2025-07-13T16:56:29.142222", "level": "INFO", "logger": "amanita_api", "message": "Auth test запрос", "module": "main", "function": "auth_test", "line": 329, "endpoint": "/auth-test", "client_address": "unknown", "asctime": "2025-07-13 16:56:29"}
{"timestamp": "1752414993", "level": "INFO", "logger": "amanita_api.auth", "message": "HMAC аутентификация успешна", "module": "auth", "function": "dispatch", "line": 119, "api_key": "ak_22bc74537e53698e", "nonce": "4ccb22ad-a33f-4599-90ef-66f12fb82464", "processing_time_ms": 0.58, "path": "/auth-test", "method": "POST", "asctime": "2025-07-13 16:56:33"}
{"timestamp": "2025-07-13T16:56:33.766754", "level": "INFO", "logger": "amanita_api", "message": "Auth test запрос", "module": "main", "function": "auth_test", "line": 329, "endpoint": "/auth-test", "client_address": "unknown", "asctime": "2025-07-13 16:56:33"}
{"timestamp": "2025-07-13T16:56:33.777256", "level": "WARNING", "logger": "amanita_api.auth", "message": "HMAC аутентификация неудачна", "module": "auth", "function": "dispatch", "line": 139, "error": "401: HMAC signature validation failed", "processing_time_ms": 0.34, "path": "/auth-test", "method": "POST", "client_ip": "127.0.0.1", "asctime": "2025-07-13 16:56:33"}
{"timestamp": "2025-07-13T16:56:33.790274", "level": "WARNING", "logger": "amanita_api.auth", "message": "Ошибка валидации API ключа ak_invalidkey123: Неверный API ключ: ak_invalidkey123", "module": "auth", "function": "_validate_api_key", "line": 262, "asctime": "2025-07-13 16:56:33"}
{"timestamp": "2025-07-13T16:56:33.790401", "level": "WARNING", "logger": "amanita_api.auth", "message": "HMAC аутентификация неудачна", "module": "auth", "function": "dispatch", "line": 139, "error": "401: Invalid API key: ak_invalidkey123", "processing_time_ms": 1.0, "path": "/auth-test", "method": "POST", "client_ip": "127.0.0.1", "asctime": "2025-07-13 16:56:33"}
{"timestamp": "2025-07-13T16:56:33.819558", "level": "INFO", "logger": "amanita_api", "message": "Auth test запрос", "module": "main", "function": "auth_test", "line": 329, "endpoint": "/auth-test", "client_address": "unknown", "asctime": "2025-07-13 16:56:33"}
{"timestamp": "1752414993", "level": "INFO", "logger": "amanita_api.auth", "message": "HMAC аутентификация успешна", "module": "auth", "function": "dispatch", "line": 119, "api_key": "ak_22bc74537e53698e", "nonce": "50a0cba3-2d79-40e0-9f47-96b2cc64bb8d", "processing_time_ms": 0.1, "path": "/auth-test", "method": "POST", "asctime": "2025-07-13 16:56:33"}
{"timestamp": "2025-07-13T16:56:33.844811", "level": "INFO", "logger": "amanita_api", "message": "Auth test запрос", "module": "main", "function": "auth_test", "line": 329, "endpoint": "/auth-test", "client_address": "unknown", "asctime": "2025-07-13 16:56:33"}
{"timestamp": "1752414993", "level": "INFO", "logger": "amanita_api.auth", "message": "HMAC аутентификация успешна", "module": "auth", "function": "dispatch", "line": 119, "api_key": "ak_22bc74537e53698e", "nonce": "a1c2657d-be1a-443d-a06d-e8727c8ee1ea", "processing_time_ms": 0.09, "path": "/nonexistent-endpoint", "method": "POST", "asctime": "2025-07-13 16:56:33"}
{"timestamp": "2025-07-13T16:56:33.867408", "level": "INFO", "logger": "amanita_api", "message": "Auth test запрос", "module": "main", "function": "auth_test", "line": 329, "endpoint": "/auth-test", "client_address": "unknown", "asctime": "2025-07-13 16:56:33"}
{"timestamp": "2025-07-13T17:02:04.187584", "level": "DEBUG", "logger": "amanita_api.auth", "message": "Очищено 5 старых nonce", "module": "auth", "function": "_cleanup_old_nonces", "line": 327, "asctime": "2025-07-13 17:02:04"}
{"timestamp": "1752415324", "level": "INFO", "logger": "amanita_api.auth", "message": "HMAC аутентификация успешна", "module": "auth", "function": "dispatch", "line": 119, "api_key": "ak_22bc74537e53698e", "nonce": "36ab7b54-82ab-44c2-9616-27425043a03f", "processing_time_ms": 15.92, "path": "/auth-test", "method": "POST", "asctime": "2025-07-13 17:02:04"}
{"timestamp": "2025-07-13T17:02:04.203662", "level": "INFO", "logger": "amanita_api", "message": "Auth test запрос", "module": "main", "function": "auth_test", "line": 329, "endpoint": "/auth-test", "client_address": "unknown", "asctime": "2025-07-13 17:02:04"}
{"timestamp": "2025-07-13T17:02:04.245406", "level": "WARNING", "logger": "amanita_api.auth", "message": "HMAC аутентификация неудачна", "module": "auth", "function": "dispatch", "line": 139, "error": "401: HMAC signature validation failed", "processing_time_ms": 0.38, "path": "/auth-test", "method": "POST", "client_ip": "127.0.0.1", "asctime": "2025-07-13 17:02:04"}
{"timestamp": "2025-07-13T17:02:04.264755", "level": "WARNING", "logger": "amanita_api.auth", "message": "Ошибка валидации API ключа ak_invalidkey123: Неверный API ключ: ak_invalidkey123", "module": "auth", "function": "_validate_api_key", "line": 262, "asctime": "2025-07-13 17:02:04"}
{"timestamp": "2025-07-13T17:02:04.265171", "level": "WARNING", "logger": "amanita_api.auth", "message": "HMAC аутентификация неудачна", "module": "auth", "function": "dispatch", "line": 139, "error": "401: Invalid API key: ak_invalidkey123", "processing_time_ms": 1.87, "path": "/auth-test", "method": "POST", "client_ip": "127.0.0.1", "asctime": "2025-07-13 17:02:04"}
{"timestamp": "2025-07-13T17:02:04.280723", "level": "INFO", "logger": "amanita_api", "message": "Auth test запрос", "module": "main", "function": "auth_test", "line": 329, "endpoint": "/auth-test", "client_address": "unknown", "asctime": "2025-07-13 17:02:04"}
{"timestamp": "1752415324", "level": "INFO", "logger": "amanita_api.auth", "message": "HMAC аутентификация успешна", "module": "auth", "function": "dispatch", "line": 119, "api_key": "ak_22bc74537e53698e", "nonce": "39c29d04-ed8e-4e5c-8e51-49c73f0b2906", "processing_time_ms": 0.08, "path": "/auth-test", "method": "POST", "asctime": "2025-07-13 17:02:04"}
{"timestamp": "2025-07-13T17:02:04.319650", "level": "INFO", "logger": "amanita_api", "message": "Auth test запрос", "module": "main", "function": "auth_test", "line": 329, "endpoint": "/auth-test", "client_address": "unknown", "asctime": "2025-07-13 17:02:04"}
{"timestamp": "1752415324", "level": "INFO", "logger": "amanita_api.auth", "message": "HMAC аутентификация успешна", "module": "auth", "function": "dispatch", "line": 119, "api_key": "ak_22bc74537e53698e", "nonce": "5ad3a28e-3918-478f-ba94-2c98833e0f49", "processing_time_ms": 0.07, "path": "/nonexistent-endpoint", "method": "POST", "asctime": "2025-07-13 17:02:04"}
{"timestamp": "2025-07-13T17:02:04.348088", "level": "INFO", "logger": "amanita_api", "message": "Auth test запрос", "module": "main", "function": "auth_test", "line": 329, "endpoint": "/auth-test", "client_address": "unknown", "asctime": "2025-07-13 17:02:04"}
{"timestamp": "2025-07-23T13:30:23.540674", "level": "INFO", "logger": "amanita_api", "message": "Инициализация AMANITA API приложения", "module": "main", "function": "create_api_app", "line": 128, "log_level": "DEBUG", "log_file": "logs/amanita_api.log", "service_factory_available": true, "asctime": "2025-07-23 13:30:23"}
{"timestamp": "2025-07-23T13:30:23.541399", "level": "INFO", "logger": "amanita_api", "message": "ApiKeyService интегрирован в HMAC middleware", "module": "main", "function": "create_api_app", "line": 158, "asctime": "2025-07-23 13:30:23"}
{"timestamp": "2025-07-23T13:30:23.541487", "level": "INFO", "logger": "amanita_api", "message": "ServiceFactory интегрирован в приложение", "module": "main", "function": "create_api_app", "line": 167, "asctime": "2025-07-23 13:30:23"}
{"timestamp": "2025-07-23T13:30:23.544295", "level": "INFO", "logger": "amanita_api", "message": "FastAPI приложение создано с базовой конфигурацией", "module": "main", "function": "create_api_app", "line": 350, "docs_url": "/docs", "health_endpoint": "/health", "asctime": "2025-07-23 13:30:23"}
{"timestamp": "2025-07-23T13:30:23.604579", "level": "INFO", "logger": "amanita_api.auth", "message": "HMAC Middleware инициализирован", "module": "auth", "function": "__init__", "line": 56, "timestamp_window": 300, "nonce_cache_ttl": 600, "api_key_service_available": true, "asctime": "2025-07-23 13:30:23"}
{"timestamp": "1753266654", "level": "INFO", "logger": "amanita_api.auth", "message": "HMAC аутентификация успешна", "module": "auth", "function": "dispatch", "line": 119, "api_key": "ak_22bc74537e53698e", "nonce": "31fb526e-ab0e-4d56-9f9e-50193417cca5", "processing_time_ms": 0.7, "path": "/auth-test", "method": "POST", "asctime": "2025-07-23 13:30:54"}
{"timestamp": "2025-07-23T13:30:54.604089", "level": "INFO", "logger": "amanita_api", "message": "Auth test запрос", "module": "main", "function": "auth_test", "line": 329, "endpoint": "/auth-test", "client_address": "unknown", "asctime": "2025-07-23 13:30:54"}
{"timestamp": "2025-07-23T13:30:54.615628", "level": "WARNING", "logger": "amanita_api.auth", "message": "HMAC аутентификация неудачна", "module": "auth", "function": "dispatch", "line": 139, "error": "401: HMAC signature validation failed", "processing_time_ms": 0.1, "path": "/auth-test", "method": "POST", "client_ip": "127.0.0.1", "asctime": "2025-07-23 13:30:54"}
{"timestamp": "2025-07-23T13:30:54.624442", "level": "WARNING", "logger": "amanita_api.auth", "message": "Ошибка валидации API ключа ak_invalidkey123: Неверный API ключ: ak_invalidkey123", "module": "auth", "function": "_validate_api_key", "line": 262, "asctime": "2025-07-23 13:30:54"}
{"timestamp": "2025-07-23T13:30:54.624559", "level": "WARNING", "logger": "amanita_api.auth", "message": "HMAC аутентификация неудачна", "module": "auth", "function": "dispatch", "line": 139, "error": "401: Invalid API key: ak_invalidkey123", "processing_time_ms": 0.86, "path": "/auth-test", "method": "POST", "client_ip": "127.0.0.1", "asctime": "2025-07-23 13:30:54"}
{"timestamp": "2025-07-23T13:30:54.635140", "level": "INFO", "logger": "amanita_api", "message": "Auth test запрос", "module": "main", "function": "auth_test", "line": 329, "endpoint": "/auth-test", "client_address": "unknown", "asctime": "2025-07-23 13:30:54"}
{"timestamp": "1753266654", "level": "INFO", "logger": "amanita_api.auth", "message": "HMAC аутентификация успешна", "module": "auth", "function": "dispatch", "line": 119, "api_key": "ak_22bc74537e53698e", "nonce": "82da3afa-fd49-48d8-bf33-064d427107a2", "processing_time_ms": 0.07, "path": "/auth-test", "method": "POST", "asctime": "2025-07-23 13:30:54"}
{"timestamp": "2025-07-23T13:30:54.653461", "level": "INFO", "logger": "amanita_api", "message": "Auth test запрос", "module": "main", "function": "auth_test", "line": 329, "endpoint": "/auth-test", "client_address": "unknown", "asctime": "2025-07-23 13:30:54"}
{"timestamp": "1753266654", "level": "INFO", "logger": "amanita_api.auth", "message": "HMAC аутентификация успешна", "module": "auth", "function": "dispatch", "line": 119, "api_key": "ak_22bc74537e53698e", "nonce": "9f3e4649-b0a2-44f2-a6fb-e73a8f9aa8f5", "processing_time_ms": 0.15, "path": "/nonexistent-endpoint", "method": "POST", "asctime": "2025-07-23 13:30:54"}
{"timestamp": "2025-07-23T13:30:54.674051", "level": "INFO", "logger": "amanita_api", "message": "Auth test запрос", "module": "main", "function": "auth_test", "line": 329, "endpoint": "/auth-test", "client_address": "unknown", "asctime": "2025-07-23 13:30:54"}
{"timestamp": "2025-07-23T13:43:01.784498", "level": "DEBUG", "logger": "amanita_api.auth", "message": "Очищено 5 старых nonce", "module": "auth", "function": "_cleanup_old_nonces", "line": 327, "asctime": "2025-07-23 13:43:01"}
{"timestamp": "1753267381", "level": "INFO", "logger": "amanita_api.auth", "message": "HMAC аутентификация успешна", "module": "auth", "function": "dispatch", "line": 119, "api_key": "ak_22bc74537e53698e", "nonce": "b88b441d-04af-4890-a722-35a6b805f102", "processing_time_ms": 11.53, "path": "/auth-test", "method": "POST", "asctime": "2025-07-23 13:43:01"}
{"timestamp": "2025-07-23T13:43:01.792603", "level": "INFO", "logger": "amanita_api", "message": "Auth test запрос", "module": "main", "function": "auth_test", "line": 329, "endpoint": "/auth-test", "client_address": "unknown", "asctime": "2025-07-23 13:43:01"}
{"timestamp": "2025-07-23T13:43:01.803452", "level": "WARNING", "logger": "amanita_api.auth", "message": "HMAC аутентификация неудачна", "module": "auth", "function": "dispatch", "line": 139, "error": "401: HMAC signature validation failed", "processing_time_ms": 0.4, "path": "/auth-test", "method": "POST", "client_ip": "127.0.0.1", "asctime": "2025-07-23 13:43:01"}
{"timestamp": "2025-07-23T13:43:01.813244", "level": "WARNING", "logger": "amanita_api.auth", "message": "Ошибка валидации API ключа ak_invalidkey123: Неверный API ключ: ak_invalidkey123", "module": "auth", "function": "_validate_api_key", "line": 262, "asctime": "2025-07-23 13:43:01"}
{"timestamp": "2025-07-23T13:43:01.813388", "level": "WARNING", "logger": "amanita_api.auth", "message": "HMAC аутентификация неудачна", "module": "auth", "function": "dispatch", "line": 139, "error": "401: Invalid API key: ak_invalidkey123", "processing_time_ms": 1.38, "path": "/auth-test", "method": "POST", "client_ip": "127.0.0.1", "asctime": "2025-07-23 13:43:01"}
{"timestamp": "2025-07-23T13:43:01.824999", "level": "INFO", "logger": "amanita_api", "message": "Auth test запрос", "module": "main", "function": "auth_test", "line": 329, "endpoint": "/auth-test", "client_address": "unknown", "asctime": "2025-07-23 13:43:01"}
{"timestamp": "1753267381", "level": "INFO", "logger": "amanita_api.auth", "message": "HMAC аутентификация успешна", "module": "auth", "function": "dispatch", "line": 119, "api_key": "ak_22bc74537e53698e", "nonce": "22e6d61b-1879-4891-8720-20c1aa77185d", "processing_time_ms": 0.08, "path": "/auth-test", "method": "POST", "asctime": "2025-07-23 13:43:01"}
{"timestamp": "2025-07-23T13:43:01.844740", "level": "INFO", "logger": "amanita_api", "message": "Auth test запрос", "module": "main", "function": "auth_test", "line": 329, "endpoint": "/auth-test", "client_address": "unknown", "asctime": "2025-07-23 13:43:01"}
{"timestamp": "1753267381", "level": "INFO", "logger": "amanita_api.auth", "message": "HMAC аутентификация успешна", "module": "auth", "function": "dispatch", "line": 119, "api_key": "ak_22bc74537e53698e", "nonce": "788cd858-aff1-4407-8a36-0856d38b4d72", "processing_time_ms": 0.07, "path": "/nonexistent-endpoint", "method": "POST", "asctime": "2025-07-23 13:43:01"}
{"timestamp": "2025-07-23T13:43:01.868060", "level": "INFO", "logger": "amanita_api", "message": "Auth test запрос", "module": "main", "function": "auth_test", "line": 329, "endpoint": "/auth-test", "client_address": "unknown", "asctime": "2025-07-23 13:43:01"}
{"timestamp": "2025-07-23T14:08:34.081719", "level": "DEBUG", "logger": "amanita_api.auth", "message": "Очищено 5 старых nonce", "module": "auth", "function": "_cleanup_old_nonces", "line": 327, "asctime": "2025-07-23 14:08:34"}
{"timestamp": "1753268914", "level": "INFO", "logger": "amanita_api.auth", "message": "HMAC аутентификация успешна", "module": "auth", "function": "dispatch", "line": 119, "api_key": "ak_22bc74537e53698e", "nonce": "72a88057-c753-4222-876a-523ae86ef35f", "processing_time_ms": 3.62, "path": "/auth-test", "method": "POST", "asctime": "2025-07-23 14:08:34"}
{"timestamp": "2025-07-23T14:08:34.084744", "level": "INFO", "logger": "amanita_api", "message": "Auth test запрос", "module": "main", "function": "auth_test", "line": 329, "endpoint": "/auth-test", "client_address": "unknown", "asctime": "2025-07-23 14:08:34"}
{"timestamp": "2025-07-23T14:08:34.103392", "level": "WARNING", "logger": "amanita_api.auth", "message": "HMAC аутентификация неудачна", "module": "auth", "function": "dispatch", "line": 139, "error": "401: HMAC signature validation failed", "processing_time_ms": 0.12, "path": "/auth-test", "method": "POST", "client_ip": "127.0.0.1", "asctime": "2025-07-23 14:08:34"}
{"timestamp": "2025-07-23T14:08:34.113573", "level": "WARNING", "logger": "amanita_api.auth", "message": "Ошибка валидации API ключа ak_invalidkey123: Неверный API ключ: ak_invalidkey123", "module": "auth", "function": "_validate_api_key", "line": 262, "asctime": "2025-07-23 14:08:34"}
{"timestamp": "2025-07-23T14:08:34.113777", "level": "WARNING", "logger": "amanita_api.auth", "message": "HMAC аутентификация неудачна", "module": "auth", "function": "dispatch", "line": 139, "error": "401: Invalid API key: ak_invalidkey123", "processing_time_ms": 1.11, "path": "/auth-test", "method": "POST", "client_ip": "127.0.0.1", "asctime": "2025-07-23 14:08:34"}
{"timestamp": "2025-07-23T14:08:34.122580", "level": "INFO", "logger": "amanita_api", "message": "Auth test запрос", "module": "main", "function": "auth_test", "line": 329, "endpoint": "/auth-test", "client_address": "unknown", "asctime": "2025-07-23 14:08:34"}
{"timestamp": "1753268914", "level": "INFO", "logger": "amanita_api.auth", "message": "HMAC аутентификация успешна", "module": "auth", "function": "dispatch", "line": 119, "api_key": "ak_22bc74537e53698e", "nonce": "d5450db0-7fea-43b8-a0a4-5fbb9eda56cc", "processing_time_ms": 0.09, "path": "/auth-test", "method": "POST", "asctime": "2025-07-23 14:08:34"}
{"timestamp": "2025-07-23T14:08:34.143733", "level": "INFO", "logger": "amanita_api", "message": "Auth test запрос", "module": "main", "function": "auth_test", "line": 329, "endpoint": "/auth-test", "client_address": "unknown", "asctime": "2025-07-23 14:08:34"}
{"timestamp": "1753268914", "level": "INFO", "logger": "amanita_api.auth", "message": "HMAC аутентификация успешна", "module": "auth", "function": "dispatch", "line": 119, "api_key": "ak_22bc74537e53698e", "nonce": "e5a782c9-57df-4577-bb4e-c00e53ad8b94", "processing_time_ms": 0.06, "path": "/nonexistent-endpoint", "method": "POST", "asctime": "2025-07-23 14:08:34"}
{"timestamp": "2025-07-23T14:08:34.164637", "level": "INFO", "logger": "amanita_api", "message": "Auth test запрос", "module": "main", "function": "auth_test", "line": 329, "endpoint": "/auth-test", "client_address": "unknown", "asctime": "2025-07-23 14:08:34"}
{"timestamp": "1753268919", "level": "INFO", "logger": "amanita_api.auth", "message": "HMAC аутентификация успешна", "module": "auth", "function": "dispatch", "line": 119, "api_key": "ak_22bc74537e53698e", "nonce": "d367380a-28d2-40c1-86c3-d1e70fdd0e9c", "processing_time_ms": 0.8, "path": "/auth-test", "method": "POST", "asctime": "2025-07-23 14:08:39"}
{"timestamp": "2025-07-23T14:08:39.642317", "level": "INFO", "logger": "amanita_api", "message": "Auth test запрос", "module": "main", "function": "auth_test", "line": 329, "endpoint": "/auth-test", "client_address": "unknown", "asctime": "2025-07-23 14:08:39"}
{"timestamp": "2025-07-23T14:08:39.651729", "level": "WARNING", "logger": "amanita_api.auth", "message": "HMAC аутентификация неудачна", "module": "auth", "function": "dispatch", "line": 139, "error": "401: HMAC signature validation failed", "processing_time_ms": 0.11, "path": "/auth-test", "method": "POST", "client_ip": "127.0.0.1", "asctime": "2025-07-23 14:08:39"}
{"timestamp": "2025-07-23T14:08:39.661271", "level": "WARNING", "logger": "amanita_api.auth", "message": "Ошибка валидации API ключа ak_invalidkey123: Неверный API ключ: ak_invalidkey123", "module": "auth", "function": "_validate_api_key", "line": 262, "asctime": "2025-07-23 14:08:39"}
{"timestamp": "2025-07-23T14:08:39.661387", "level": "WARNING", "logger": "amanita_api.auth", "message": "HMAC аутентификация неудачна", "module": "auth", "function": "dispatch", "line": 139, "error": "401: Invalid API key: ak_invalidkey123", "processing_time_ms": 0.56, "path": "/auth-test", "method": "POST", "client_ip": "127.0.0.1", "asctime": "2025-07-23 14:08:39"}
{"timestamp": "2025-07-23T14:08:39.670765", "level": "INFO", "logger": "amanita_api", "message": "Auth test запрос", "module": "main", "function": "auth_test", "line": 329, "endpoint": "/auth-test", "client_address": "unknown", "asctime": "2025-07-23 14:08:39"}
{"timestamp": "1753268919", "level": "INFO", "logger": "amanita_api.auth", "message": "HMAC аутентификация успешна", "module": "auth", "function": "dispatch", "line": 119, "api_key": "ak_22bc74537e53698e", "nonce": "793499b6-1c05-497e-8ac1-dd6c1cd76bcb", "processing_time_ms": 0.09, "path": "/auth-test", "method": "POST", "asctime": "2025-07-23 14:08:39"}
{"timestamp": "2025-07-23T14:08:39.694297", "level": "INFO", "logger": "amanita_api", "message": "Auth test запрос", "module": "main", "function": "auth_test", "line": 329, "endpoint": "/auth-test", "client_address": "unknown", "asctime": "2025-07-23 14:08:39"}
{"timestamp": "1753268919", "level": "INFO", "logger": "amanita_api.auth", "message": "HMAC аутентификация успешна", "module": "auth", "function": "dispatch", "line": 119, "api_key": "ak_22bc74537e53698e", "nonce": "5589807d-31e0-4ec3-8ca8-638649814d58", "processing_time_ms": 0.07, "path": "/nonexistent-endpoint", "method": "POST", "asctime": "2025-07-23 14:08:39"}
{"timestamp": "2025-07-23T14:08:39.713693", "level": "INFO", "logger": "amanita_api", "message": "Auth test запрос", "module": "main", "function": "auth_test", "line": 329, "endpoint": "/auth-test", "client_address": "unknown", "asctime": "2025-07-23 14:08:39"}
{"timestamp": "2025-07-23T15:38:15.738715", "level": "DEBUG", "logger": "amanita_api.auth", "message": "Очищено 10 старых nonce", "module": "auth", "function": "_cleanup_old_nonces", "line": 327, "asctime": "2025-07-23 15:38:15"}
{"timestamp": "1753274295", "level": "INFO", "logger": "amanita_api.auth", "message": "HMAC аутентификация успешна", "module": "auth", "function": "dispatch", "line": 119, "api_key": "ak_22bc74537e53698e", "nonce": "ff4d99e8-de3a-4c77-ba4d-47fe69aacf01", "processing_time_ms": 20.97, "path": "/products/upload", "method": "POST", "asctime": "2025-07-23 15:38:15"}
{"timestamp": "1753274483", "level": "INFO", "logger": "amanita_api.auth", "message": "HMAC аутентификация успешна", "module": "auth", "function": "dispatch", "line": 119, "api_key": "ak_22bc74537e53698e", "nonce": "36a8e372-845f-495d-809b-86cfc965b479", "processing_time_ms": 1.02, "path": "/products/upload", "method": "POST", "asctime": "2025-07-23 15:41:23"}
{"timestamp": "1753274500", "level": "INFO", "logger": "amanita_api.auth", "message": "HMAC аутентификация успешна", "module": "auth", "function": "dispatch", "line": 119, "api_key": "ak_22bc74537e53698e", "nonce": "b89b9da9-ca0d-4011-a4ff-61f4ec8cb559", "processing_time_ms": 0.53, "path": "/products/upload", "method": "POST", "asctime": "2025-07-23 15:41:40"}
{"timestamp": "1753274787", "level": "INFO", "logger": "amanita_api.auth", "message": "HMAC аутентификация успешна", "module": "auth", "function": "dispatch", "line": 119, "api_key": "ak_22bc74537e53698e", "nonce": "8c519fcd-a008-4e70-96e0-5c5154e97ba1", "processing_time_ms": 1.54, "path": "/products/upload", "method": "POST", "asctime": "2025-07-23 15:46:27"}
{"timestamp": "2025-07-23T15:47:03.653572", "level": "INFO", "logger": "amanita_api", "message": "Инициализация AMANITA API приложения", "module": "main", "function": "create_api_app", "line": 128, "log_level": "DEBUG", "log_file": "logs/amanita_api.log", "service_factory_available": true, "asctime": "2025-07-23 15:47:03"}
{"timestamp": "2025-07-23T15:47:03.653951", "level": "INFO", "logger": "amanita_api", "message": "ApiKeyService интегрирован в HMAC middleware", "module": "main", "function": "create_api_app", "line": 158, "asctime": "2025-07-23 15:47:03"}
{"timestamp": "2025-07-23T15:47:03.654045", "level": "INFO", "logger": "amanita_api", "message": "ServiceFactory интегрирован в приложение", "module": "main", "function": "create_api_app", "line": 167, "asctime": "2025-07-23 15:47:03"}
{"timestamp": "2025-07-23T15:47:03.657064", "level": "INFO", "logger": "amanita_api", "message": "FastAPI приложение создано с базовой конфигурацией", "module": "main", "function": "create_api_app", "line": 350, "docs_url": "/docs", "health_endpoint": "/health", "asctime": "2025-07-23 15:47:03"}
{"timestamp": "2025-07-23T15:47:03.676447", "level": "INFO", "logger": "amanita_api.auth", "message": "HMAC Middleware инициализирован", "module": "auth", "function": "__init__", "line": 56, "timestamp_window": 300, "nonce_cache_ttl": 600, "api_key_service_available": true, "asctime": "2025-07-23 15:47:03"}
{"timestamp": "1753274838", "level": "INFO", "logger": "amanita_api.auth", "message": "HMAC аутентификация успешна", "module": "auth", "function": "dispatch", "line": 119, "api_key": "ak_22bc74537e53698e", "nonce": "5ca006bd-f089-477e-80dc-a29631043d85", "processing_time_ms": 0.42, "path": "/products/upload", "method": "POST", "asctime": "2025-07-23 15:47:18"}
{"timestamp": "2025-07-23T15:49:28.193452", "level": "INFO", "logger": "amanita_api", "message": "Инициализация AMANITA API приложения", "module": "main", "function": "create_api_app", "line": 128, "log_level": "DEBUG", "log_file": "logs/amanita_api.log", "service_factory_available": true, "asctime": "2025-07-23 15:49:28"}
{"timestamp": "2025-07-23T15:49:28.193956", "level": "INFO", "logger": "amanita_api", "message": "ApiKeyService интегрирован в HMAC middleware", "module": "main", "function": "create_api_app", "line": 158, "asctime": "2025-07-23 15:49:28"}
{"timestamp": "2025-07-23T15:49:28.194060", "level": "INFO", "logger": "amanita_api", "message": "ServiceFactory интегрирован в приложение", "module": "main", "function": "create_api_app", "line": 167, "asctime": "2025-07-23 15:49:28"}
{"timestamp": "2025-07-23T15:49:28.196829", "level": "INFO", "logger": "amanita_api", "message": "FastAPI приложение создано с базовой конфигурацией", "module": "main", "function": "create_api_app", "line": 350, "docs_url": "/docs", "health_endpoint": "/health", "asctime": "2025-07-23 15:49:28"}
{"timestamp": "2025-07-23T15:49:28.216960", "level": "INFO", "logger": "amanita_api.auth", "message": "HMAC Middleware инициализирован", "module": "auth", "function": "__init__", "line": 56, "timestamp_window": 300, "nonce_cache_ttl": 600, "api_key_service_available": true, "asctime": "2025-07-23 15:49:28"}
{"timestamp": "1753274973", "level": "INFO", "logger": "amanita_api.auth", "message": "HMAC аутентификация успешна", "module": "auth", "function": "dispatch", "line": 119, "api_key": "ak_22bc74537e53698e", "nonce": "403b236d-e773-4120-85d4-3f0b3cbbb0ff", "processing_time_ms": 0.4, "path": "/products/upload", "method": "POST", "asctime": "2025-07-23 15:49:33"}
{"timestamp": "1753275368", "level": "INFO", "logger": "amanita_api.auth", "message": "HMAC аутентификация успешна", "module": "auth", "function": "dispatch", "line": 119, "api_key": "ak_22bc74537e53698e", "nonce": "4e810c67-c21a-4072-aeb2-378a68253e3a", "processing_time_ms": 3.26, "path": "/products/upload", "method": "POST", "asctime": "2025-07-23 15:56:09"}
{"timestamp": "2025-07-23T15:56:34.949242", "level": "INFO", "logger": "amanita_api", "message": "Инициализация AMANITA API приложения", "module": "main", "function": "create_api_app", "line": 128, "log_level": "DEBUG", "log_file": "logs/amanita_api.log", "service_factory_available": true, "asctime": "2025-07-23 15:56:34"}
{"timestamp": "2025-07-23T15:56:34.950004", "level": "INFO", "logger": "amanita_api", "message": "ApiKeyService интегрирован в HMAC middleware", "module": "main", "function": "create_api_app", "line": 158, "asctime": "2025-07-23 15:56:34"}
{"timestamp": "2025-07-23T15:56:34.950168", "level": "INFO", "logger": "amanita_api", "message": "ServiceFactory интегрирован в приложение", "module": "main", "function": "create_api_app", "line": 167, "asctime": "2025-07-23 15:56:34"}
{"timestamp": "2025-07-23T15:56:34.953038", "level": "INFO", "logger": "amanita_api", "message": "FastAPI приложение создано с базовой конфигурацией", "module": "main", "function": "create_api_app", "line": 350, "docs_url": "/docs", "health_endpoint": "/health", "asctime": "2025-07-23 15:56:34"}
{"timestamp": "2025-07-23T15:56:34.971291", "level": "INFO", "logger": "amanita_api.auth", "message": "HMAC Middleware инициализирован", "module": "auth", "function": "__init__", "line": 56, "timestamp_window": 300, "nonce_cache_ttl": 600, "api_key_service_available": true, "asctime": "2025-07-23 15:56:34"}
{"timestamp": "1753275397", "level": "INFO", "logger": "amanita_api.auth", "message": "HMAC аутентификация успешна", "module": "auth", "function": "dispatch", "line": 119, "api_key": "ak_22bc74537e53698e", "nonce": "08afecb9-0c40-422a-a962-f38b82e63073", "processing_time_ms": 0.48, "path": "/products/upload", "method": "POST", "asctime": "2025-07-23 15:56:37"}
{"timestamp": "2025-07-23T15:59:36.940827", "level": "INFO", "logger": "amanita_api", "message": "Инициализация AMANITA API приложения", "module": "main", "function": "create_api_app", "line": 128, "log_level": "DEBUG", "log_file": "logs/amanita_api.log", "service_factory_available": true, "asctime": "2025-07-23 15:59:36"}
{"timestamp": "2025-07-23T15:59:36.941121", "level": "INFO", "logger": "amanita_api", "message": "ApiKeyService интегрирован в HMAC middleware", "module": "main", "function": "create_api_app", "line": 158, "asctime": "2025-07-23 15:59:36"}
{"timestamp": "2025-07-23T15:59:36.941194", "level": "INFO", "logger": "amanita_api", "message": "ServiceFactory интегрирован в приложение", "module": "main", "function": "create_api_app", "line": 167, "asctime": "2025-07-23 15:59:36"}
{"timestamp": "2025-07-23T15:59:36.943583", "level": "INFO", "logger": "amanita_api", "message": "FastAPI приложение создано с базовой конфигурацией", "module": "main", "function": "create_api_app", "line": 350, "docs_url": "/docs", "health_endpoint": "/health", "asctime": "2025-07-23 15:59:36"}
{"timestamp": "2025-07-23T15:59:36.962236", "level": "INFO", "logger": "amanita_api.auth", "message": "HMAC Middleware инициализирован", "module": "auth", "function": "__init__", "line": 56, "timestamp_window": 300, "nonce_cache_ttl": 600, "api_key_service_available": true, "asctime": "2025-07-23 15:59:36"}
{"timestamp": "1753275584", "level": "INFO", "logger": "amanita_api.auth", "message": "HMAC аутентификация успешна", "module": "auth", "function": "dispatch", "line": 119, "api_key": "ak_22bc74537e53698e", "nonce": "465d612a-15d0-4765-a74f-961abdf19130", "processing_time_ms": 1.66, "path": "/products/upload", "method": "POST", "asctime": "2025-07-23 15:59:45"}
{"timestamp": "1753275747", "level": "INFO", "logger": "amanita_api.auth", "message": "HMAC аутентификация успешна", "module": "auth", "function": "dispatch", "line": 119, "api_key": "ak_22bc74537e53698e", "nonce": "61b1fd0d-a65d-49f0-b83e-6e5355b653f9", "processing_time_ms": 9.0, "path": "/products/upload", "method": "POST", "asctime": "2025-07-23 16:02:27"}
{"timestamp": "1753275911", "level": "INFO", "logger": "amanita_api.auth", "message": "HMAC аутентификация успешна", "module": "auth", "function": "dispatch", "line": 119, "api_key": "ak_22bc74537e53698e", "nonce": "b2b1cee5-66ef-4e50-8187-53dfba94dc7d", "processing_time_ms": 0.62, "path": "/products/upload", "method": "POST", "asctime": "2025-07-23 16:05:11"}
{"timestamp": "1753276135", "level": "INFO", "logger": "amanita_api.auth", "message": "HMAC аутентификация успешна", "module": "auth", "function": "dispatch", "line": 119, "api_key": "ak_22bc74537e53698e", "nonce": "c9eb9ca5-6be4-4fa2-8d97-b1b80c7c8bad", "processing_time_ms": 1.4, "path": "/products/upload", "method": "POST", "asctime": "2025-07-23 16:08:55"}
{"timestamp": "1753276206", "level": "INFO", "logger": "amanita_api.auth", "message": "HMAC аутентификация успешна", "module": "auth", "function": "dispatch", "line": 119, "api_key": "ak_22bc74537e53698e", "nonce": "765d53ca-83cf-43cb-b041-2c435db388bd", "processing_time_ms": 0.79, "path": "/products/upload", "method": "POST", "asctime": "2025-07-23 16:10:06"}
{"timestamp": "2025-07-23T16:11:17.825912", "level": "INFO", "logger": "amanita_api", "message": "Инициализация AMANITA API приложения", "module": "main", "function": "create_api_app", "line": 128, "log_level": "DEBUG", "log_file": "logs/amanita_api.log", "service_factory_available": true, "asctime": "2025-07-23 16:11:17"}
{"timestamp": "2025-07-23T16:11:17.826250", "level": "INFO", "logger": "amanita_api", "message": "ApiKeyService интегрирован в HMAC middleware", "module": "main", "function": "create_api_app", "line": 158, "asctime": "2025-07-23 16:11:17"}
{"timestamp": "2025-07-23T16:11:17.826371", "level": "INFO", "logger": "amanita_api", "message": "ServiceFactory интегрирован в приложение", "module": "main", "function": "create_api_app", "line": 167, "asctime": "2025-07-23 16:11:17"}
{"timestamp": "2025-07-23T16:11:17.828370", "level": "INFO", "logger": "amanita_api", "message": "FastAPI приложение создано с базовой конфигурацией", "module": "main", "function": "create_api_app", "line": 350, "docs_url": "/docs", "health_endpoint": "/health", "asctime": "2025-07-23 16:11:17"}
{"timestamp": "2025-07-23T16:11:17.847581", "level": "INFO", "logger": "amanita_api.auth", "message": "HMAC Middleware инициализирован", "module": "auth", "function": "__init__", "line": 56, "timestamp_window": 300, "nonce_cache_ttl": 600, "api_key_service_available": true, "asctime": "2025-07-23 16:11:17"}
{"timestamp": "1753276282", "level": "INFO", "logger": "amanita_api.auth", "message": "HMAC аутентификация успешна", "module": "auth", "function": "dispatch", "line": 119, "api_key": "ak_22bc74537e53698e", "nonce": "011d603c-9699-450d-9bed-4e97e1505e80", "processing_time_ms": 0.61, "path": "/products/upload", "method": "POST", "asctime": "2025-07-23 16:11:22"}
{"timestamp": "2025-07-24T08:39:07.906916", "level": "DEBUG", "logger": "amanita_api.auth", "message": "Очищено 1 старых nonce", "module": "auth", "function": "_cleanup_old_nonces", "line": 327, "asctime": "2025-07-24 08:39:07"}
{"timestamp": "1753335547", "level": "INFO", "logger": "amanita_api.auth", "message": "HMAC аутентификация успешна", "module": "auth", "function": "dispatch", "line": 119, "api_key": "ak_22bc74537e53698e", "nonce": "f656e4d9-9b87-40fd-bb8e-3dde5fc3e2ab", "processing_time_ms": 14.03, "path": "/products/upload", "method": "POST", "asctime": "2025-07-24 08:39:07"}
{"timestamp": "1753335549", "level": "INFO", "logger": "amanita_api.auth", "message": "HMAC аутентификация успешна", "module": "auth", "function": "dispatch", "line": 119, "api_key": "ak_22bc74537e53698e", "nonce": "641eea63-194f-46c6-9b57-dbb16c0f96ed", "processing_time_ms": 2.35, "path": "/products/upload", "method": "POST", "asctime": "2025-07-24 08:39:09"}
{"timestamp": "2025-07-24T09:35:12.776214", "level": "DEBUG", "logger": "amanita_api.auth", "message": "Очищено 2 старых nonce", "module": "auth", "function": "_cleanup_old_nonces", "line": 327, "asctime": "2025-07-24 09:35:12"}
{"timestamp": "1753338912", "level": "INFO", "logger": "amanita_api.auth", "message": "HMAC аутентификация успешна", "module": "auth", "function": "dispatch", "line": 119, "api_key": "ak_22bc74537e53698e", "nonce": "b5d1dc6e-2e39-489d-961d-763128f8f724", "processing_time_ms": 9.21, "path": "/products/upload", "method": "POST", "asctime": "2025-07-24 09:35:12"}
{"timestamp": "2025-07-24T12:54:14.542007", "level": "DEBUG", "logger": "amanita_api.auth", "message": "Очищено 1 старых nonce", "module": "auth", "function": "_cleanup_old_nonces", "line": 327, "asctime": "2025-07-24 12:54:14"}
{"timestamp": "1753350854", "level": "INFO", "logger": "amanita_api.auth", "message": "HMAC аутентификация успешна", "module": "auth", "function": "dispatch", "line": 119, "api_key": "ak_22bc74537e53698e", "nonce": "e3e8be35-ff0f-4460-a2d3-96f5f05bfc3f", "processing_time_ms": 8.68, "path": "/products/upload", "method": "POST", "asctime": "2025-07-24 12:54:14"}
{"timestamp": "1753350952", "level": "INFO", "logger": "amanita_api.auth", "message": "HMAC аутентификация успешна", "module": "auth", "function": "dispatch", "line": 119, "api_key": "ak_22bc74537e53698e", "nonce": "66adb872-b528-4e49-9395-3aef6b509c1c", "processing_time_ms": 2.17, "path": "/products/upload", "method": "POST", "asctime": "2025-07-24 12:55:52"}
{"timestamp": "2025-07-24T13:05:53.918785", "level": "DEBUG", "logger": "amanita_api.auth", "message": "Очищено 2 старых nonce", "module": "auth", "function": "_cleanup_old_nonces", "line": 327, "asctime": "2025-07-24 13:05:53"}
{"timestamp": "1753351553", "level": "INFO", "logger": "amanita_api.auth", "message": "HMAC аутентификация успешна", "module": "auth", "function": "dispatch", "line": 119, "api_key": "ak_22bc74537e53698e", "nonce": "4c2ebddf-76c9-4fa1-aa77-2486b4fd3645", "processing_time_ms": 7.46, "path": "/products/upload", "method": "POST", "asctime": "2025-07-24 13:05:53"}
{"timestamp": "2025-07-24T13:23:02.581600", "level": "DEBUG", "logger": "amanita_api.auth", "message": "Очищено 1 старых nonce", "module": "auth", "function": "_cleanup_old_nonces", "line": 327, "asctime": "2025-07-24 13:23:02"}
{"timestamp": "1753352582", "level": "INFO", "logger": "amanita_api.auth", "message": "HMAC аутентификация успешна", "module": "auth", "function": "dispatch", "line": 119, "api_key": "ak_22bc74537e53698e", "nonce": "67514a63-2fcc-4fad-9da3-88580e100fb7", "processing_time_ms": 33.73, "path": "/products/upload", "method": "POST", "asctime": "2025-07-24 13:23:02"}
{"timestamp": "2025-07-25T14:10:41.245183", "level": "DEBUG", "logger": "amanita_api.auth", "message": "Очищено 1 старых nonce", "module": "auth", "function": "_cleanup_old_nonces", "line": 327, "asctime": "2025-07-25 14:10:41"}
{"timestamp": "1753441841", "level": "INFO", "logger": "amanita_api.auth", "message": "HMAC аутентификация успешна", "module": "auth", "function": "dispatch", "line": 119, "api_key": "ak_22bc74537e53698e", "nonce": "80e4b5f5-d952-4c92-b909-a40d12dd3811", "processing_time_ms": 26.9, "path": "/products/upload", "method": "POST", "asctime": "2025-07-25 14:10:41"}
{"timestamp": "2025-07-25T14:10:52.941742", "level": "INFO", "logger": "amanita_api", "message": "Инициализация AMANITA API приложения", "module": "main", "function": "create_api_app", "line": 52, "log_level": "INFO", "log_file": null, "service_factory_available": false, "asctime": "2025-07-25 14:10:52"}
{"timestamp": "2025-07-25T14:10:52.951206", "level": "INFO", "logger": "amanita_api", "message": "FastAPI приложение создано с базовой конфигурацией", "module": "main", "function": "create_api_app", "line": 274, "docs_url": "/docs", "health_endpoint": "/health", "asctime": "2025-07-25 14:10:52"}
{"timestamp": "2025-07-25T14:10:52.979617", "level": "INFO", "logger": "amanita_api", "message": "=== Инициализация AMANITA Telegram Bot + API Server ===", "module": "main", "function": "<module>", "line": 55, "asctime": "2025-07-25 14:10:52"}
{"timestamp": "2025-07-25T14:10:52.980898", "level": "INFO", "logger": "amanita_api", "message": "Инициализация ServiceFactory...", "module": "main", "function": "main", "line": 62, "asctime": "2025-07-25 14:10:52"}
{"timestamp": "2025-07-25T14:10:52.981065", "level": "INFO", "logger": "amanita_api", "message": "ServiceFactory успешно инициализирован", "module": "main", "function": "main", "line": 64, "asctime": "2025-07-25 14:10:52"}
{"timestamp": "2025-07-25T14:10:52.981137", "level": "INFO", "logger": "amanita_api", "message": "Создание экземпляра бота...", "module": "main", "function": "main", "line": 67, "asctime": "2025-07-25 14:10:52"}
{"timestamp": "2025-07-25T14:10:53.108594", "level": "INFO", "logger": "amanita_api", "message": "Бот успешно создан: @AmanitaEarth_Iveta_bot (ID: 8080572149)", "module": "main", "function": "main", "line": 77, "asctime": "2025-07-25 14:10:53"}
{"timestamp": "2025-07-25T14:10:53.108823", "level": "INFO", "logger": "amanita_api", "message": "Инициализация диспетчера...", "module": "main", "function": "main", "line": 80, "asctime": "2025-07-25 14:10:53"}
{"timestamp": "2025-07-25T14:10:53.109473", "level": "INFO", "logger": "amanita_api", "message": "Регистрация обработчиков...", "module": "main", "function": "main", "line": 85, "asctime": "2025-07-25 14:10:53"}
{"timestamp": "2025-07-25T14:10:53.109587", "level": "INFO", "logger": "amanita_api", "message": "Все обработчики успешно зарегистрированы", "module": "main", "function": "main", "line": 92, "asctime": "2025-07-25 14:10:53"}
{"timestamp": "2025-07-25T14:10:53.109668", "level": "INFO", "logger": "amanita_api", "message": "Запуск фоновой загрузки каталога продуктов...", "module": "main", "function": "main", "line": 96, "asctime": "2025-07-25 14:10:53"}
{"timestamp": "2025-07-25T14:10:53.109746", "level": "INFO", "logger": "amanita_api", "message": "Фоновая задача по загрузке каталога запущена", "module": "main", "function": "main", "line": 102, "asctime": "2025-07-25 14:10:53"}
{"timestamp": "2025-07-25T14:10:53.109813", "level": "INFO", "logger": "amanita_api", "message": "Создание FastAPI приложения...", "module": "main", "function": "main", "line": 106, "asctime": "2025-07-25 14:10:53"}
{"timestamp": "2025-07-25T14:10:53.109885", "level": "INFO", "logger": "amanita_api", "message": "Инициализация AMANITA API приложения", "module": "main", "function": "create_api_app", "line": 52, "log_level": "DEBUG", "log_file": "logs/amanita_api.log", "service_factory_available": true, "asctime": "2025-07-25 14:10:53"}
{"timestamp": "2025-07-25T14:10:53.110291", "level": "INFO", "logger": "amanita_api", "message": "ApiKeyService интегрирован в HMAC middleware", "module": "main", "function": "create_api_app", "line": 82, "asctime": "2025-07-25 14:10:53"}
{"timestamp": "2025-07-25T14:10:53.110369", "level": "INFO", "logger": "amanita_api", "message": "ServiceFactory интегрирован в приложение", "module": "main", "function": "create_api_app", "line": 91, "asctime": "2025-07-25 14:10:53"}
{"timestamp": "2025-07-25T14:10:53.112950", "level": "INFO", "logger": "amanita_api", "message": "FastAPI приложение создано с базовой конфигурацией", "module": "main", "function": "create_api_app", "line": 274, "docs_url": "/docs", "health_endpoint": "/health", "asctime": "2025-07-25 14:10:53"}
{"timestamp": "2025-07-25T14:10:53.113107", "level": "INFO", "logger": "amanita_api", "message": "FastAPI приложение создано с логированием: DEBUG -> logs/amanita_api.log", "module": "main", "function": "main", "line": 114, "asctime": "2025-07-25 14:10:53"}
{"timestamp": "2025-07-25T14:10:53.113178", "level": "INFO", "logger": "amanita_api", "message": "Настройка uvicorn сервера...", "module": "main", "function": "main", "line": 117, "asctime": "2025-07-25 14:10:53"}
{"timestamp": "2025-07-25T14:10:53.114143", "level": "INFO", "logger": "amanita_api", "message": "Uvicorn сервер настроен", "module": "main", "function": "main", "line": 126, "asctime": "2025-07-25 14:10:53"}
{"timestamp": "2025-07-25T14:10:53.114345", "level": "INFO", "logger": "amanita_api", "message": "Запуск бота и API сервера параллельно...", "module": "main", "function": "main", "line": 129, "asctime": "2025-07-25 14:10:53"}
{"timestamp": "2025-07-25T14:10:53.114430", "level": "INFO", "logger": "amanita_api", "message": "=== AMANITA Bot + API Server запущены и готовы к работе ===", "module": "main", "function": "main", "line": 131, "asctime": "2025-07-25 14:10:53"}
{"timestamp": "2025-07-25T14:10:53.132157", "level": "INFO", "logger": "amanita_api.auth", "message": "HMAC Middleware инициализирован", "module": "auth", "function": "__init__", "line": 56, "timestamp_window": 300, "nonce_cache_ttl": 600, "api_key_service_available": true, "asctime": "2025-07-25 14:10:53"}
{"timestamp": "2025-07-25T14:11:59.040134", "level": "INFO", "logger": "amanita_api", "message": "Фоновая загрузка каталога завершена!", "module": "main", "function": "preload_catalog", "line": 100, "asctime": "2025-07-25 14:11:59"}
{"timestamp": "1753442370", "level": "INFO", "logger": "amanita_api.auth", "message": "HMAC аутентификация успешна", "module": "auth", "function": "dispatch", "line": 119, "api_key": "ak_22bc74537e53698e", "nonce": "de33bcfb-b3b2-4614-8292-86f53e71cc95", "processing_time_ms": 11.77, "path": "/products/upload", "method": "POST", "asctime": "2025-07-25 14:19:30"}
{"timestamp": "2025-07-26T10:57:24.152618", "level": "INFO", "logger": "amanita_api", "message": "=== Бот остановлен ===", "module": "main", "function": "main", "line": 145, "asctime": "2025-07-26 10:57:24"}
{"timestamp": "2025-07-26T10:57:24.159681", "level": "INFO", "logger": "amanita_api", "message": "=== AMANITA Bot + API Server остановлены ===", "module": "main", "function": "main", "line": 147, "asctime": "2025-07-26 10:57:24"}
{"timestamp": "2025-07-26T10:57:31.271373", "level": "INFO", "logger": "amanita_api", "message": "Инициализация AMANITA API приложения", "module": "main", "function": "create_api_app", "line": 52, "log_level": "INFO", "log_file": null, "service_factory_available": false, "asctime": "2025-07-26 10:57:31"}
{"timestamp": "2025-07-26T10:57:31.280571", "level": "INFO", "logger": "amanita_api", "message": "FastAPI приложение создано с базовой конфигурацией", "module": "main", "function": "create_api_app", "line": 274, "docs_url": "/docs", "health_endpoint": "/health", "asctime": "2025-07-26 10:57:31"}
{"timestamp": "2025-07-26T10:57:31.296258", "level": "INFO", "logger": "amanita_api", "message": "=== Инициализация AMANITA Telegram Bot + API Server ===", "module": "main", "function": "<module>", "line": 55, "asctime": "2025-07-26 10:57:31"}
{"timestamp": "2025-07-26T10:57:31.301611", "level": "INFO", "logger": "amanita_api", "message": "Инициализация ServiceFactory...", "module": "main", "function": "main", "line": 62, "asctime": "2025-07-26 10:57:31"}
{"timestamp": "2025-07-26T10:57:31.302537", "level": "INFO", "logger": "amanita_api", "message": "ServiceFactory успешно инициализирован", "module": "main", "function": "main", "line": 64, "asctime": "2025-07-26 10:57:31"}
{"timestamp": "2025-07-26T10:57:31.302677", "level": "INFO", "logger": "amanita_api", "message": "Создание экземпляра бота...", "module": "main", "function": "main", "line": 67, "asctime": "2025-07-26 10:57:31"}
{"timestamp": "2025-07-26T10:57:31.424705", "level": "INFO", "logger": "amanita_api", "message": "Бот успешно создан: @AmanitaEarth_Iveta_bot (ID: 8080572149)", "module": "main", "function": "main", "line": 77, "asctime": "2025-07-26 10:57:31"}
{"timestamp": "2025-07-26T10:57:31.424923", "level": "INFO", "logger": "amanita_api", "message": "Инициализация диспетчера...", "module": "main", "function": "main", "line": 80, "asctime": "2025-07-26 10:57:31"}
{"timestamp": "2025-07-26T10:57:31.425576", "level": "INFO", "logger": "amanita_api", "message": "Регистрация обработчиков...", "module": "main", "function": "main", "line": 85, "asctime": "2025-07-26 10:57:31"}
{"timestamp": "2025-07-26T10:57:31.425691", "level": "INFO", "logger": "amanita_api", "message": "Все обработчики успешно зарегистрированы", "module": "main", "function": "main", "line": 92, "asctime": "2025-07-26 10:57:31"}
{"timestamp": "2025-07-26T10:57:31.425774", "level": "INFO", "logger": "amanita_api", "message": "Запуск фоновой загрузки каталога продуктов...", "module": "main", "function": "main", "line": 96, "asctime": "2025-07-26 10:57:31"}
{"timestamp": "2025-07-26T10:57:31.425856", "level": "INFO", "logger": "amanita_api", "message": "Фоновая задача по загрузке каталога запущена", "module": "main", "function": "main", "line": 102, "asctime": "2025-07-26 10:57:31"}
{"timestamp": "2025-07-26T10:57:31.425924", "level": "INFO", "logger": "amanita_api", "message": "Создание FastAPI приложения...", "module": "main", "function": "main", "line": 106, "asctime": "2025-07-26 10:57:31"}
{"timestamp": "2025-07-26T10:57:31.425998", "level": "INFO", "logger": "amanita_api", "message": "Инициализация AMANITA API приложения", "module": "main", "function": "create_api_app", "line": 52, "log_level": "DEBUG", "log_file": "logs/amanita_api.log", "service_factory_available": true, "asctime": "2025-07-26 10:57:31"}
{"timestamp": "2025-07-26T10:57:31.426408", "level": "INFO", "logger": "amanita_api", "message": "ApiKeyService интегрирован в HMAC middleware", "module": "main", "function": "create_api_app", "line": 82, "asctime": "2025-07-26 10:57:31"}
{"timestamp": "2025-07-26T10:57:31.426487", "level": "INFO", "logger": "amanita_api", "message": "ServiceFactory интегрирован в приложение", "module": "main", "function": "create_api_app", "line": 91, "asctime": "2025-07-26 10:57:31"}
{"timestamp": "2025-07-26T10:57:31.431010", "level": "INFO", "logger": "amanita_api", "message": "FastAPI приложение создано с базовой конфигурацией", "module": "main", "function": "create_api_app", "line": 274, "docs_url": "/docs", "health_endpoint": "/health", "asctime": "2025-07-26 10:57:31"}
{"timestamp": "2025-07-26T10:57:31.431163", "level": "INFO", "logger": "amanita_api", "message": "FastAPI приложение создано с логированием: DEBUG -> logs/amanita_api.log", "module": "main", "function": "main", "line": 114, "asctime": "2025-07-26 10:57:31"}
{"timestamp": "2025-07-26T10:57:31.431246", "level": "INFO", "logger": "amanita_api", "message": "Настройка uvicorn сервера...", "module": "main", "function": "main", "line": 117, "asctime": "2025-07-26 10:57:31"}
{"timestamp": "2025-07-26T10:57:31.431913", "level": "INFO", "logger": "amanita_api", "message": "Uvicorn сервер настроен", "module": "main", "function": "main", "line": 126, "asctime": "2025-07-26 10:57:31"}
{"timestamp": "2025-07-26T10:57:31.432063", "level": "INFO", "logger": "amanita_api", "message": "Запуск бота и API сервера параллельно...", "module": "main", "function": "main", "line": 129, "asctime": "2025-07-26 10:57:31"}
{"timestamp": "2025-07-26T10:57:31.432138", "level": "INFO", "logger": "amanita_api", "message": "=== AMANITA Bot + API Server запущены и готовы к работе ===", "module": "main", "function": "main", "line": 131, "asctime": "2025-07-26 10:57:31"}
{"timestamp": "2025-07-26T10:57:31.490297", "level": "INFO", "logger": "amanita_api.auth", "message": "HMAC Middleware инициализирован", "module": "auth", "function": "__init__", "line": 56, "timestamp_window": 300, "nonce_cache_ttl": 600, "api_key_service_available": true, "asctime": "2025-07-26 10:57:31"}
{"timestamp": "2025-07-26T10:58:39.344222", "level": "INFO", "logger": "amanita_api", "message": "Фоновая загрузка каталога завершена!", "module": "main", "function": "preload_catalog", "line": 100, "asctime": "2025-07-26 10:58:39"}
{"timestamp": "2025-07-26T12:51:40.232051", "level": "INFO", "logger": "amanita_api", "message": "Инициализация AMANITA API приложения", "module": "main", "function": "create_api_app", "line": 52, "log_level": "INFO", "log_file": null, "service_factory_available": false, "asctime": "2025-07-26 12:51:40"}
{"timestamp": "2025-07-26T12:51:40.242685", "level": "INFO", "logger": "amanita_api", "message": "FastAPI приложение создано с базовой конфигурацией", "module": "main", "function": "create_api_app", "line": 274, "docs_url": "/docs", "health_endpoint": "/health", "asctime": "2025-07-26 12:51:40"}
{"timestamp": "2025-07-26T12:51:40.242938", "level": "INFO", "logger": "amanita_api", "message": "Инициализация AMANITA API приложения", "module": "main", "function": "create_api_app", "line": 52, "log_level": "INFO", "log_file": null, "service_factory_available": false, "asctime": "2025-07-26 12:51:40"}
{"timestamp": "2025-07-26T12:51:40.244751", "level": "INFO", "logger": "amanita_api", "message": "FastAPI приложение создано с базовой конфигурацией", "module": "main", "function": "create_api_app", "line": 274, "docs_url": "/docs", "health_endpoint": "/health", "asctime": "2025-07-26 12:51:40"}
{"timestamp": "2025-07-26T12:51:40.246314", "level": "INFO", "logger": "amanita_api.auth", "message": "HMAC Middleware инициализирован", "module": "auth", "function": "__init__", "line": 56, "timestamp_window": 300, "nonce_cache_ttl": 600, "api_key_service_available": false, "asctime": "2025-07-26 12:51:40"}
{"timestamp": "2025-07-26T12:51:40.246717", "level": "INFO", "logger": "amanita_api", "message": "Запрос к корневому эндпоинту", "module": "main", "function": "root", "line": 121, "endpoint": "/", "asctime": "2025-07-26 12:51:40"}
{"timestamp": "2025-07-26T15:01:18.500601", "level": "INFO", "logger": "amanita_api", "message": "Инициализация AMANITA API приложения", "module": "main", "function": "create_api_app", "line": 52, "log_level": "INFO", "log_file": null, "service_factory_available": false, "asctime": "2025-07-26 15:01:18"}
{"timestamp": "2025-07-26T15:01:18.511033", "level": "INFO", "logger": "amanita_api", "message": "FastAPI приложение создано с базовой конфигурацией", "module": "main", "function": "create_api_app", "line": 274, "docs_url": "/docs", "health_endpoint": "/health", "asctime": "2025-07-26 15:01:18"}
{"timestamp": "2025-07-26T15:01:18.511352", "level": "INFO", "logger": "amanita_api", "message": "Инициализация AMANITA API приложения", "module": "main", "function": "create_api_app", "line": 52, "log_level": "INFO", "log_file": null, "service_factory_available": false, "asctime": "2025-07-26 15:01:18"}
{"timestamp": "2025-07-26T15:01:18.513137", "level": "INFO", "logger": "amanita_api", "message": "FastAPI приложение создано с базовой конфигурацией", "module": "main", "function": "create_api_app", "line": 274, "docs_url": "/docs", "health_endpoint": "/health", "asctime": "2025-07-26 15:01:18"}
{"timestamp": "2025-07-26T15:01:18.514633", "level": "INFO", "logger": "amanita_api.auth", "message": "HMAC Middleware инициализирован", "module": "auth", "function": "__init__", "line": 56, "timestamp_window": 300, "nonce_cache_ttl": 600, "api_key_service_available": false, "asctime": "2025-07-26 15:01:18"}
{"timestamp": "2025-07-26T15:01:18.515035", "level": "INFO", "logger": "amanita_api", "message": "Запрос к корневому эндпоинту", "module": "main", "function": "root", "line": 121, "endpoint": "/", "asctime": "2025-07-26 15:01:18"}
{"timestamp": "2025-07-26T15:04:26.612936", "level": "INFO", "logger": "amanita_api", "message": "Инициализация AMANITA API приложения", "module": "main", "function": "create_api_app", "line": 52, "log_level": "INFO", "log_file": null, "service_factory_available": false, "asctime": "2025-07-26 15:04:26"}
{"timestamp": "2025-07-26T15:04:26.621578", "level": "INFO", "logger": "amanita_api", "message": "FastAPI приложение создано с базовой конфигурацией", "module": "main", "function": "create_api_app", "line": 274, "docs_url": "/docs", "health_endpoint": "/health", "asctime": "2025-07-26 15:04:26"}
{"timestamp": "2025-07-26T15:04:26.621911", "level": "INFO", "logger": "amanita_api", "message": "Инициализация AMANITA API приложения", "module": "main", "function": "create_api_app", "line": 52, "log_level": "INFO", "log_file": null, "service_factory_available": false, "asctime": "2025-07-26 15:04:26"}
{"timestamp": "2025-07-26T15:04:26.624046", "level": "INFO", "logger": "amanita_api", "message": "FastAPI приложение создано с базовой конфигурацией", "module": "main", "function": "create_api_app", "line": 274, "docs_url": "/docs", "health_endpoint": "/health", "asctime": "2025-07-26 15:04:26"}
{"timestamp": "2025-07-26T15:04:26.626271", "level": "INFO", "logger": "amanita_api.auth", "message": "HMAC Middleware инициализирован", "module": "auth", "function": "__init__", "line": 56, "timestamp_window": 300, "nonce_cache_ttl": 600, "api_key_service_available": false, "asctime": "2025-07-26 15:04:26"}
{"timestamp": "2025-07-26T15:04:26.626841", "level": "INFO", "logger": "amanita_api", "message": "Запрос к корневому эндпоинту", "module": "main", "function": "root", "line": 121, "endpoint": "/", "asctime": "2025-07-26 15:04:26"}
{"timestamp": "2025-07-26T15:11:13.590084", "level": "INFO", "logger": "amanita_api", "message": "Инициализация AMANITA API приложения", "module": "main", "function": "create_api_app", "line": 52, "log_level": "INFO", "log_file": null, "service_factory_available": false, "asctime": "2025-07-26 15:11:13"}
{"timestamp": "2025-07-26T15:11:13.599634", "level": "INFO", "logger": "amanita_api", "message": "FastAPI приложение создано с базовой конфигурацией", "module": "main", "function": "create_api_app", "line": 274, "docs_url": "/docs", "health_endpoint": "/health", "asctime": "2025-07-26 15:11:13"}
{"timestamp": "2025-07-26T15:11:13.599895", "level": "INFO", "logger": "amanita_api", "message": "Инициализация AMANITA API приложения", "module": "main", "function": "create_api_app", "line": 52, "log_level": "INFO", "log_file": null, "service_factory_available": false, "asctime": "2025-07-26 15:11:13"}
{"timestamp": "2025-07-26T15:11:13.601559", "level": "INFO", "logger": "amanita_api", "message": "FastAPI приложение создано с базовой конфигурацией", "module": "main", "function": "create_api_app", "line": 274, "docs_url": "/docs", "health_endpoint": "/health", "asctime": "2025-07-26 15:11:13"}
{"timestamp": "2025-07-26T15:11:13.603242", "level": "INFO", "logger": "amanita_api.auth", "message": "HMAC Middleware инициализирован", "module": "auth", "function": "__init__", "line": 56, "timestamp_window": 300, "nonce_cache_ttl": 600, "api_key_service_available": false, "asctime": "2025-07-26 15:11:13"}
{"timestamp": "2025-07-26T15:11:13.603632", "level": "INFO", "logger": "amanita_api", "message": "Запрос к корневому эндпоинту", "module": "main", "function": "root", "line": 121, "endpoint": "/", "asctime": "2025-07-26 15:11:13"}
{"timestamp": "2025-07-26T15:14:28.612035", "level": "INFO", "logger": "amanita_api", "message": "Инициализация AMANITA API приложения", "module": "main", "function": "create_api_app", "line": 52, "log_level": "INFO", "log_file": null, "service_factory_available": false, "asctime": "2025-07-26 15:14:28"}
{"timestamp": "2025-07-26T15:14:28.619984", "level": "INFO", "logger": "amanita_api", "message": "FastAPI приложение создано с базовой конфигурацией", "module": "main", "function": "create_api_app", "line": 274, "docs_url": "/docs", "health_endpoint": "/health", "asctime": "2025-07-26 15:14:28"}
{"timestamp": "2025-07-26T15:14:28.620234", "level": "INFO", "logger": "amanita_api", "message": "Инициализация AMANITA API приложения", "module": "main", "function": "create_api_app", "line": 52, "log_level": "INFO", "log_file": null, "service_factory_available": false, "asctime": "2025-07-26 15:14:28"}
{"timestamp": "2025-07-26T15:14:28.622152", "level": "INFO", "logger": "amanita_api", "message": "FastAPI приложение создано с базовой конфигурацией", "module": "main", "function": "create_api_app", "line": 274, "docs_url": "/docs", "health_endpoint": "/health", "asctime": "2025-07-26 15:14:28"}
{"timestamp": "2025-07-26T15:14:28.623701", "level": "INFO", "logger": "amanita_api.auth", "message": "HMAC Middleware инициализирован", "module": "auth", "function": "__init__", "line": 56, "timestamp_window": 300, "nonce_cache_ttl": 600, "api_key_service_available": false, "asctime": "2025-07-26 15:14:28"}
{"timestamp": "2025-07-26T15:14:28.624479", "level": "INFO", "logger": "amanita_api", "message": "Запрос к корневому эндпоинту", "module": "main", "function": "root", "line": 121, "endpoint": "/", "asctime": "2025-07-26 15:14:28"}
{"timestamp": "2025-07-26T15:16:16.228485", "level": "INFO", "logger": "amanita_api", "message": "Инициализация AMANITA API приложения", "module": "main", "function": "create_api_app", "line": 52, "log_level": "INFO", "log_file": null, "service_factory_available": false, "asctime": "2025-07-26 15:16:16"}
{"timestamp": "2025-07-26T15:16:16.238752", "level": "INFO", "logger": "amanita_api", "message": "FastAPI приложение создано с базовой конфигурацией", "module": "main", "function": "create_api_app", "line": 274, "docs_url": "/docs", "health_endpoint": "/health", "asctime": "2025-07-26 15:16:16"}
{"timestamp": "2025-07-26T15:16:16.239109", "level": "INFO", "logger": "amanita_api", "message": "Инициализация AMANITA API приложения", "module": "main", "function": "create_api_app", "line": 52, "log_level": "INFO", "log_file": null, "service_factory_available": false, "asctime": "2025-07-26 15:16:16"}
{"timestamp": "2025-07-26T15:16:16.240864", "level": "INFO", "logger": "amanita_api", "message": "FastAPI приложение создано с базовой конфигурацией", "module": "main", "function": "create_api_app", "line": 274, "docs_url": "/docs", "health_endpoint": "/health", "asctime": "2025-07-26 15:16:16"}
{"timestamp": "2025-07-26T15:16:16.242404", "level": "INFO", "logger": "amanita_api.auth", "message": "HMAC Middleware инициализирован", "module": "auth", "function": "__init__", "line": 56, "timestamp_window": 300, "nonce_cache_ttl": 600, "api_key_service_available": false, "asctime": "2025-07-26 15:16:16"}
{"timestamp": "2025-07-26T15:16:16.242817", "level": "INFO", "logger": "amanita_api", "message": "Запрос к корневому эндпоинту", "module": "main", "function": "root", "line": 121, "endpoint": "/", "asctime": "2025-07-26 15:16:16"}
{"timestamp": "2025-07-26T15:28:49.605180", "level": "INFO", "logger": "amanita_api", "message": "Инициализация AMANITA API приложения", "module": "main", "function": "create_api_app", "line": 52, "log_level": "INFO", "log_file": null, "service_factory_available": false, "asctime": "2025-07-26 15:28:49"}
{"timestamp": "2025-07-26T15:28:49.613746", "level": "INFO", "logger": "amanita_api", "message": "FastAPI приложение создано с базовой конфигурацией", "module": "main", "function": "create_api_app", "line": 274, "docs_url": "/docs", "health_endpoint": "/health", "asctime": "2025-07-26 15:28:49"}
{"timestamp": "2025-07-26T15:28:49.613991", "level": "INFO", "logger": "amanita_api", "message": "Инициализация AMANITA API приложения", "module": "main", "function": "create_api_app", "line": 52, "log_level": "INFO", "log_file": null, "service_factory_available": false, "asctime": "2025-07-26 15:28:49"}
{"timestamp": "2025-07-26T15:28:49.615743", "level": "INFO", "logger": "amanita_api", "message": "FastAPI приложение создано с базовой конфигурацией", "module": "main", "function": "create_api_app", "line": 274, "docs_url": "/docs", "health_endpoint": "/health", "asctime": "2025-07-26 15:28:49"}
{"timestamp": "2025-07-26T15:28:49.617647", "level": "INFO", "logger": "amanita_api.auth", "message": "HMAC Middleware инициализирован", "module": "auth", "function": "__init__", "line": 56, "timestamp_window": 300, "nonce_cache_ttl": 600, "api_key_service_available": false, "asctime": "2025-07-26 15:28:49"}
{"timestamp": "2025-07-26T15:28:49.618082", "level": "INFO", "logger": "amanita_api", "message": "Запрос к корневому эндпоинту", "module": "main", "function": "root", "line": 121, "endpoint": "/", "asctime": "2025-07-26 15:28:49"}
{"timestamp": "1753533712", "level": "INFO", "logger": "amanita_api.auth", "message": "HMAC аутентификация успешна", "module": "auth", "function": "dispatch", "line": 119, "api_key": "ak_22bc74537e53698e", "nonce": "313cd088-1d64-436c-97ee-10f8405b4b6a", "processing_time_ms": 12.51, "path": "/products/upload", "method": "POST", "asctime": "2025-07-26 15:41:53"}
{"timestamp": "2025-07-26T16:00:32.623745", "level": "INFO", "logger": "amanita_api", "message": "Инициализация AMANITA API приложения", "module": "main", "function": "create_api_app", "line": 52, "log_level": "INFO", "log_file": null, "service_factory_available": false, "asctime": "2025-07-26 16:00:32"}
{"timestamp": "2025-07-26T16:00:32.635785", "level": "INFO", "logger": "amanita_api", "message": "FastAPI приложение создано с базовой конфигурацией", "module": "main", "function": "create_api_app", "line": 274, "docs_url": "/docs", "health_endpoint": "/health", "asctime": "2025-07-26 16:00:32"}
{"timestamp": "2025-07-26T16:00:32.635995", "level": "INFO", "logger": "amanita_api", "message": "Инициализация AMANITA API приложения", "module": "main", "function": "create_api_app", "line": 52, "log_level": "INFO", "log_file": null, "service_factory_available": false, "asctime": "2025-07-26 16:00:32"}
{"timestamp": "2025-07-26T16:00:32.637780", "level": "INFO", "logger": "amanita_api", "message": "FastAPI приложение создано с базовой конфигурацией", "module": "main", "function": "create_api_app", "line": 274, "docs_url": "/docs", "health_endpoint": "/health", "asctime": "2025-07-26 16:00:32"}
{"timestamp": "2025-07-26T16:00:32.645142", "level": "INFO", "logger": "amanita_api.auth", "message": "HMAC Middleware инициализирован", "module": "auth", "function": "__init__", "line": 56, "timestamp_window": 300, "nonce_cache_ttl": 600, "api_key_service_available": false, "asctime": "2025-07-26 16:00:32"}
{"timestamp": "2025-07-26T16:00:32.645583", "level": "WARNING", "logger": "amanita_api.auth", "message": "HMAC аутентификация неудачна", "module": "auth", "function": "dispatch", "line": 139, "error": "401: HMAC signature validation failed", "processing_time_ms": 0.1, "path": "/products/upload", "method": "POST", "client_ip": "testclient", "asctime": "2025-07-26 16:00:32"}
{"timestamp": "2025-07-26T16:00:56.343728", "level": "DEBUG", "logger": "amanita_api.auth", "message": "Очищено 1 старых nonce", "module": "auth", "function": "_cleanup_old_nonces", "line": 327, "asctime": "2025-07-26 16:00:56"}
{"timestamp": "1753534856", "level": "INFO", "logger": "amanita_api.auth", "message": "HMAC аутентификация успешна", "module": "auth", "function": "dispatch", "line": 119, "api_key": "ak_22bc74537e53698e", "nonce": "6f56acf1-5866-4179-9939-5e3c4c6352f6", "processing_time_ms": 17.62, "path": "/products/upload", "method": "POST", "asctime": "2025-07-26 16:00:56"}
{"timestamp": "2025-07-26T16:01:18.076154", "level": "INFO", "logger": "amanita_api", "message": "=== Бот остановлен ===", "module": "main", "function": "main", "line": 145, "asctime": "2025-07-26 16:01:18"}
{"timestamp": "2025-07-26T16:01:18.076937", "level": "INFO", "logger": "amanita_api", "message": "=== AMANITA Bot + API Server остановлены ===", "module": "main", "function": "main", "line": 147, "asctime": "2025-07-26 16:01:18"}
{"timestamp": "2025-07-26T16:01:25.440945", "level": "INFO", "logger": "amanita_api", "message": "Инициализация AMANITA API приложения", "module": "main", "function": "create_api_app", "line": 52, "log_level": "INFO", "log_file": null, "service_factory_available": false, "asctime": "2025-07-26 16:01:25"}
{"timestamp": "2025-07-26T16:01:25.453353", "level": "INFO", "logger": "amanita_api", "message": "FastAPI приложение создано с базовой конфигурацией", "module": "main", "function": "create_api_app", "line": 274, "docs_url": "/docs", "health_endpoint": "/health", "asctime": "2025-07-26 16:01:25"}
{"timestamp": "2025-07-26T16:01:25.472270", "level": "INFO", "logger": "amanita_api", "message": "=== Инициализация AMANITA Telegram Bot + API Server ===", "module": "main", "function": "<module>", "line": 55, "asctime": "2025-07-26 16:01:25"}
{"timestamp": "2025-07-26T16:01:25.473852", "level": "INFO", "logger": "amanita_api", "message": "Инициализация ServiceFactory...", "module": "main", "function": "main", "line": 62, "asctime": "2025-07-26 16:01:25"}
{"timestamp": "2025-07-26T16:01:25.474101", "level": "INFO", "logger": "amanita_api", "message": "ServiceFactory успешно инициализирован", "module": "main", "function": "main", "line": 64, "asctime": "2025-07-26 16:01:25"}
{"timestamp": "2025-07-26T16:01:25.474172", "level": "INFO", "logger": "amanita_api", "message": "Создание экземпляра бота...", "module": "main", "function": "main", "line": 67, "asctime": "2025-07-26 16:01:25"}
{"timestamp": "2025-07-26T16:01:25.593878", "level": "INFO", "logger": "amanita_api", "message": "Бот успешно создан: @AmanitaEarth_Iveta_bot (ID: 8080572149)", "module": "main", "function": "main", "line": 77, "asctime": "2025-07-26 16:01:25"}
{"timestamp": "2025-07-26T16:01:25.594170", "level": "INFO", "logger": "amanita_api", "message": "Инициализация диспетчера...", "module": "main", "function": "main", "line": 80, "asctime": "2025-07-26 16:01:25"}
{"timestamp": "2025-07-26T16:01:25.594838", "level": "INFO", "logger": "amanita_api", "message": "Регистрация обработчиков...", "module": "main", "function": "main", "line": 85, "asctime": "2025-07-26 16:01:25"}
{"timestamp": "2025-07-26T16:01:25.595125", "level": "INFO", "logger": "amanita_api", "message": "Все обработчики успешно зарегистрированы", "module": "main", "function": "main", "line": 92, "asctime": "2025-07-26 16:01:25"}
{"timestamp": "2025-07-26T16:01:25.595221", "level": "INFO", "logger": "amanita_api", "message": "Запуск фоновой загрузки каталога продуктов...", "module": "main", "function": "main", "line": 96, "asctime": "2025-07-26 16:01:25"}
{"timestamp": "2025-07-26T16:01:25.595329", "level": "INFO", "logger": "amanita_api", "message": "Фоновая задача по загрузке каталога запущена", "module": "main", "function": "main", "line": 102, "asctime": "2025-07-26 16:01:25"}
{"timestamp": "2025-07-26T16:01:25.595420", "level": "INFO", "logger": "amanita_api", "message": "Создание FastAPI приложения...", "module": "main", "function": "main", "line": 106, "asctime": "2025-07-26 16:01:25"}
{"timestamp": "2025-07-26T16:01:25.595493", "level": "INFO", "logger": "amanita_api", "message": "Инициализация AMANITA API приложения", "module": "main", "function": "create_api_app", "line": 52, "log_level": "DEBUG", "log_file": "logs/amanita_api.log", "service_factory_available": true, "asctime": "2025-07-26 16:01:25"}
{"timestamp": "2025-07-26T16:01:25.595944", "level": "INFO", "logger": "amanita_api", "message": "ApiKeyService интегрирован в HMAC middleware", "module": "main", "function": "create_api_app", "line": 82, "asctime": "2025-07-26 16:01:25"}
{"timestamp": "2025-07-26T16:01:25.596018", "level": "INFO", "logger": "amanita_api", "message": "ServiceFactory интегрирован в приложение", "module": "main", "function": "create_api_app", "line": 91, "asctime": "2025-07-26 16:01:25"}
{"timestamp": "2025-07-26T16:01:25.599367", "level": "INFO", "logger": "amanita_api", "message": "FastAPI приложение создано с базовой конфигурацией", "module": "main", "function": "create_api_app", "line": 274, "docs_url": "/docs", "health_endpoint": "/health", "asctime": "2025-07-26 16:01:25"}
{"timestamp": "2025-07-26T16:01:25.599547", "level": "INFO", "logger": "amanita_api", "message": "FastAPI приложение создано с логированием: DEBUG -> logs/amanita_api.log", "module": "main", "function": "main", "line": 114, "asctime": "2025-07-26 16:01:25"}
{"timestamp": "2025-07-26T16:01:25.599614", "level": "INFO", "logger": "amanita_api", "message": "Настройка uvicorn сервера...", "module": "main", "function": "main", "line": 117, "asctime": "2025-07-26 16:01:25"}
{"timestamp": "2025-07-26T16:01:25.600592", "level": "INFO", "logger": "amanita_api", "message": "Uvicorn сервер настроен", "module": "main", "function": "main", "line": 126, "asctime": "2025-07-26 16:01:25"}
{"timestamp": "2025-07-26T16:01:25.600757", "level": "INFO", "logger": "amanita_api", "message": "Запуск бота и API сервера параллельно...", "module": "main", "function": "main", "line": 129, "asctime": "2025-07-26 16:01:25"}
{"timestamp": "2025-07-26T16:01:25.600823", "level": "INFO", "logger": "amanita_api", "message": "=== AMANITA Bot + API Server запущены и готовы к работе ===", "module": "main", "function": "main", "line": 131, "asctime": "2025-07-26 16:01:25"}
{"timestamp": "2025-07-26T16:01:25.620224", "level": "INFO", "logger": "amanita_api.auth", "message": "HMAC Middleware инициализирован", "module": "auth", "function": "__init__", "line": 56, "timestamp_window": 300, "nonce_cache_ttl": 600, "api_key_service_available": true, "asctime": "2025-07-26 16:01:25"}
{"timestamp": "2025-07-26T16:01:47.759734", "level": "INFO", "logger": "amanita_api", "message": "Инициализация AMANITA API приложения", "module": "main", "function": "create_api_app", "line": 52, "log_level": "INFO", "log_file": null, "service_factory_available": false, "asctime": "2025-07-26 16:01:47"}
{"timestamp": "2025-07-26T16:01:47.768487", "level": "INFO", "logger": "amanita_api", "message": "FastAPI приложение создано с базовой конфигурацией", "module": "main", "function": "create_api_app", "line": 274, "docs_url": "/docs", "health_endpoint": "/health", "asctime": "2025-07-26 16:01:47"}
{"timestamp": "2025-07-26T16:01:47.768675", "level": "INFO", "logger": "amanita_api", "message": "Инициализация AMANITA API приложения", "module": "main", "function": "create_api_app", "line": 52, "log_level": "INFO", "log_file": null, "service_factory_available": false, "asctime": "2025-07-26 16:01:47"}
{"timestamp": "2025-07-26T16:01:47.770512", "level": "INFO", "logger": "amanita_api", "message": "FastAPI приложение создано с базовой конфигурацией", "module": "main", "function": "create_api_app", "line": 274, "docs_url": "/docs", "health_endpoint": "/health", "asctime": "2025-07-26 16:01:47"}
{"timestamp": "2025-07-26T16:01:47.777882", "level": "INFO", "logger": "amanita_api.auth", "message": "HMAC Middleware инициализирован", "module": "auth", "function": "__init__", "line": 56, "timestamp_window": 300, "nonce_cache_ttl": 600, "api_key_service_available": false, "asctime": "2025-07-26 16:01:47"}
{"timestamp": "2025-07-26T16:01:47.778225", "level": "WARNING", "logger": "amanita_api.auth", "message": "HMAC аутентификация неудачна", "module": "auth", "function": "dispatch", "line": 139, "error": "401: HMAC signature validation failed", "processing_time_ms": 0.08, "path": "/products/upload", "method": "POST", "client_ip": "testclient", "asctime": "2025-07-26 16:01:47"}
{"timestamp": "2025-07-26T16:02:40.785887", "level": "INFO", "logger": "amanita_api", "message": "Фоновая загрузка каталога завершена!", "module": "main", "function": "preload_catalog", "line": 100, "asctime": "2025-07-26 16:02:40"}
{"timestamp": "1753534965", "level": "INFO", "logger": "amanita_api.auth", "message": "HMAC аутентификация успешна", "module": "auth", "function": "dispatch", "line": 119, "api_key": "ak_22bc74537e53698e", "nonce": "6b99a298-f0b7-42c1-8f1f-a07123dc6fbc", "processing_time_ms": 3.98, "path": "/products/upload", "method": "POST", "asctime": "2025-07-26 16:02:45"}
{"timestamp": "1753535016", "level": "INFO", "logger": "amanita_api.auth", "message": "HMAC аутентификация успешна", "module": "auth", "function": "dispatch", "line": 119, "api_key": "ak_22bc74537e53698e", "nonce": "13120aba-421f-4372-9428-b0d08d28e578", "processing_time_ms": 6.18, "path": "/products/upload", "method": "POST", "asctime": "2025-07-26 16:03:36"}
{"timestamp": "2025-07-26T16:17:46.146356", "level": "DEBUG", "logger": "amanita_api.auth", "message": "Очищено 2 старых nonce", "module": "auth", "function": "_cleanup_old_nonces", "line": 327, "asctime": "2025-07-26 16:17:46"}
{"timestamp": "1753535866", "level": "INFO", "logger": "amanita_api.auth", "message": "HMAC аутентификация успешна", "module": "auth", "function": "dispatch", "line": 119, "api_key": "ak_22bc74537e53698e", "nonce": "53ea83c5-229f-4d3b-b41e-719009c1bd30", "processing_time_ms": 28.94, "path": "/products/upload", "method": "POST", "asctime": "2025-07-26 16:17:46"}
{"timestamp": "2025-07-26T16:47:08.266364", "level": "DEBUG", "logger": "amanita_api.auth", "message": "Очищено 1 старых nonce", "module": "auth", "function": "_cleanup_old_nonces", "line": 327, "asctime": "2025-07-26 16:47:08"}
{"timestamp": "1753537628", "level": "INFO", "logger": "amanita_api.auth", "message": "HMAC аутентификация успешна", "module": "auth", "function": "dispatch", "line": 119, "api_key": "ak_22bc74537e53698e", "nonce": "f1947bc3-6748-4bc8-a178-75558b33bac4", "processing_time_ms": 23.11, "path": "/products/upload", "method": "POST", "asctime": "2025-07-26 16:47:08"}
{"timestamp": "1753538163", "level": "INFO", "logger": "amanita_api.auth", "message": "HMAC аутентификация успешна", "module": "auth", "function": "dispatch", "line": 119, "api_key": "ak_22bc74537e53698e", "nonce": "9cb0f7e2-f9e4-4b9e-9fc3-cc17cd9b1d31", "processing_time_ms": 22.44, "path": "/products/upload", "method": "POST", "asctime": "2025-07-26 16:56:03"}
{"timestamp": "2025-07-26T17:01:31.856784", "level": "DEBUG", "logger": "amanita_api.auth", "message": "Очищено 1 старых nonce", "module": "auth", "function": "_cleanup_old_nonces", "line": 327, "asctime": "2025-07-26 17:01:31"}
{"timestamp": "1753538491", "level": "INFO", "logger": "amanita_api.auth", "message": "HMAC аутентификация успешна", "module": "auth", "function": "dispatch", "line": 119, "api_key": "ak_22bc74537e53698e", "nonce": "1a02fab5-0d15-41b2-b81f-857ba920993f", "processing_time_ms": 12.5, "path": "/products/upload", "method": "POST", "asctime": "2025-07-26 17:01:31"}
{"timestamp": "2025-07-27T14:23:56.385905", "level": "DEBUG", "logger": "amanita_api.auth", "message": "Очищено 2 старых nonce", "module": "auth", "function": "_cleanup_old_nonces", "line": 327, "asctime": "2025-07-27 14:23:56"}
{"timestamp": "1753615436", "level": "INFO", "logger": "amanita_api.auth", "message": "HMAC аутентификация успешна", "module": "auth", "function": "dispatch", "line": 119, "api_key": "ak_22bc74537e53698e", "nonce": "881855ad-0bda-4ffe-94ae-692b3e63215c", "processing_time_ms": 28.18, "path": "/products/upload", "method": "POST", "asctime": "2025-07-27 14:23:56"}
{"timestamp": "2025-07-27T14:34:39.436518", "level": "DEBUG", "logger": "amanita_api.auth", "message": "Очищено 1 старых nonce", "module": "auth", "function": "_cleanup_old_nonces", "line": 327, "asctime": "2025-07-27 14:34:39"}
{"timestamp": "1753616079", "level": "INFO", "logger": "amanita_api.auth", "message": "HMAC аутентификация успешна", "module": "auth", "function": "dispatch", "line": 119, "api_key": "ak_22bc74537e53698e", "nonce": "e64b9205-f88a-407b-92d0-2267d2570b42", "processing_time_ms": 40.89, "path": "/products/8", "method": "PUT", "asctime": "2025-07-27 14:34:39"}
{"timestamp": "1753616079", "level": "INFO", "logger": "amanita_api.auth", "message": "HMAC аутентификация успешна", "module": "auth", "function": "dispatch", "line": 119, "api_key": "ak_22bc74537e53698e", "nonce": "8ae1674d-7c36-4262-a310-a58e8beb6237", "processing_time_ms": 0.42, "path": "/products/8/status", "method": "POST", "asctime": "2025-07-27 14:34:39"}
{"timestamp": "2025-07-27T14:34:51.665474", "level": "INFO", "logger": "amanita_api", "message": "=== Бот остановлен ===", "module": "main", "function": "main", "line": 145, "asctime": "2025-07-27 14:34:51"}
{"timestamp": "2025-07-27T14:34:51.666699", "level": "INFO", "logger": "amanita_api", "message": "=== AMANITA Bot + API Server остановлены ===", "module": "main", "function": "main", "line": 147, "asctime": "2025-07-27 14:34:51"}
{"timestamp": "2025-07-27T14:34:57.233720", "level": "INFO", "logger": "amanita_api", "message": "Инициализация AMANITA API приложения", "module": "main", "function": "create_api_app", "line": 52, "log_level": "INFO", "log_file": null, "service_factory_available": false, "asctime": "2025-07-27 14:34:57"}
{"timestamp": "2025-07-27T14:34:57.246157", "level": "INFO", "logger": "amanita_api", "message": "FastAPI приложение создано с базовой конфигурацией", "module": "main", "function": "create_api_app", "line": 274, "docs_url": "/docs", "health_endpoint": "/health", "asctime": "2025-07-27 14:34:57"}
{"timestamp": "2025-07-27T14:34:57.266404", "level": "INFO", "logger": "amanita_api", "message": "=== Инициализация AMANITA Telegram Bot + API Server ===", "module": "main", "function": "<module>", "line": 55, "asctime": "2025-07-27 14:34:57"}
{"timestamp": "2025-07-27T14:34:57.266913", "level": "INFO", "logger": "amanita_api", "message": "Инициализация ServiceFactory...", "module": "main", "function": "main", "line": 62, "asctime": "2025-07-27 14:34:57"}
{"timestamp": "2025-07-27T14:34:57.267004", "level": "INFO", "logger": "amanita_api", "message": "ServiceFactory успешно инициализирован", "module": "main", "function": "main", "line": 64, "asctime": "2025-07-27 14:34:57"}
{"timestamp": "2025-07-27T14:34:57.267099", "level": "INFO", "logger": "amanita_api", "message": "Создание экземпляра бота...", "module": "main", "function": "main", "line": 67, "asctime": "2025-07-27 14:34:57"}
{"timestamp": "2025-07-27T14:34:57.385038", "level": "INFO", "logger": "amanita_api", "message": "Бот успешно создан: @AmanitaEarth_Iveta_bot (ID: 8080572149)", "module": "main", "function": "main", "line": 77, "asctime": "2025-07-27 14:34:57"}
{"timestamp": "2025-07-27T14:34:57.385261", "level": "INFO", "logger": "amanita_api", "message": "Инициализация диспетчера...", "module": "main", "function": "main", "line": 80, "asctime": "2025-07-27 14:34:57"}
{"timestamp": "2025-07-27T14:34:57.385782", "level": "INFO", "logger": "amanita_api", "message": "Регистрация обработчиков...", "module": "main", "function": "main", "line": 85, "asctime": "2025-07-27 14:34:57"}
{"timestamp": "2025-07-27T14:34:57.385946", "level": "INFO", "logger": "amanita_api", "message": "Все обработчики успешно зарегистрированы", "module": "main", "function": "main", "line": 92, "asctime": "2025-07-27 14:34:57"}
{"timestamp": "2025-07-27T14:34:57.386035", "level": "INFO", "logger": "amanita_api", "message": "Запуск фоновой загрузки каталога продуктов...", "module": "main", "function": "main", "line": 96, "asctime": "2025-07-27 14:34:57"}
{"timestamp": "2025-07-27T14:34:57.386122", "level": "INFO", "logger": "amanita_api", "message": "Фоновая задача по загрузке каталога запущена", "module": "main", "function": "main", "line": 102, "asctime": "2025-07-27 14:34:57"}
{"timestamp": "2025-07-27T14:34:57.386186", "level": "INFO", "logger": "amanita_api", "message": "Создание FastAPI приложения...", "module": "main", "function": "main", "line": 106, "asctime": "2025-07-27 14:34:57"}
{"timestamp": "2025-07-27T14:34:57.386254", "level": "INFO", "logger": "amanita_api", "message": "Инициализация AMANITA API приложения", "module": "main", "function": "create_api_app", "line": 52, "log_level": "DEBUG", "log_file": "logs/amanita_api.log", "service_factory_available": true, "asctime": "2025-07-27 14:34:57"}
{"timestamp": "2025-07-27T14:34:57.386674", "level": "INFO", "logger": "amanita_api", "message": "ApiKeyService интегрирован в HMAC middleware", "module": "main", "function": "create_api_app", "line": 82, "asctime": "2025-07-27 14:34:57"}
{"timestamp": "2025-07-27T14:34:57.386750", "level": "INFO", "logger": "amanita_api", "message": "ServiceFactory интегрирован в приложение", "module": "main", "function": "create_api_app", "line": 91, "asctime": "2025-07-27 14:34:57"}
{"timestamp": "2025-07-27T14:34:57.391117", "level": "INFO", "logger": "amanita_api", "message": "FastAPI приложение создано с базовой конфигурацией", "module": "main", "function": "create_api_app", "line": 274, "docs_url": "/docs", "health_endpoint": "/health", "asctime": "2025-07-27 14:34:57"}
{"timestamp": "2025-07-27T14:34:57.391557", "level": "INFO", "logger": "amanita_api", "message": "FastAPI приложение создано с логированием: DEBUG -> logs/amanita_api.log", "module": "main", "function": "main", "line": 114, "asctime": "2025-07-27 14:34:57"}
{"timestamp": "2025-07-27T14:34:57.391656", "level": "INFO", "logger": "amanita_api", "message": "Настройка uvicorn сервера...", "module": "main", "function": "main", "line": 117, "asctime": "2025-07-27 14:34:57"}
{"timestamp": "2025-07-27T14:34:57.392861", "level": "INFO", "logger": "amanita_api", "message": "Uvicorn сервер настроен", "module": "main", "function": "main", "line": 126, "asctime": "2025-07-27 14:34:57"}
{"timestamp": "2025-07-27T14:34:57.393531", "level": "INFO", "logger": "amanita_api", "message": "Запуск бота и API сервера параллельно...", "module": "main", "function": "main", "line": 129, "asctime": "2025-07-27 14:34:57"}
{"timestamp": "2025-07-27T14:34:57.394312", "level": "INFO", "logger": "amanita_api", "message": "=== AMANITA Bot + API Server запущены и готовы к работе ===", "module": "main", "function": "main", "line": 131, "asctime": "2025-07-27 14:34:57"}
{"timestamp": "2025-07-27T14:34:57.412709", "level": "INFO", "logger": "amanita_api.auth", "message": "HMAC Middleware инициализирован", "module": "auth", "function": "__init__", "line": 56, "timestamp_window": 300, "nonce_cache_ttl": 600, "api_key_service_available": true, "asctime": "2025-07-27 14:34:57"}
{"timestamp": "1753616187", "level": "INFO", "logger": "amanita_api.auth", "message": "HMAC аутентификация успешна", "module": "auth", "function": "dispatch", "line": 119, "api_key": "ak_22bc74537e53698e", "nonce": "bc34b6fe-b225-44c6-af93-1e3c1c455b40", "processing_time_ms": 5.22, "path": "/products/8", "method": "PUT", "asctime": "2025-07-27 14:36:27"}
{"timestamp": "1753616187", "level": "INFO", "logger": "amanita_api.auth", "message": "HMAC аутентификация успешна", "module": "auth", "function": "dispatch", "line": 119, "api_key": "ak_22bc74537e53698e", "nonce": "5d8c65ad-f3d8-450d-af7a-e649fa0a6d45", "processing_time_ms": 0.13, "path": "/products/8/status", "method": "POST", "asctime": "2025-07-27 14:36:27"}
{"timestamp": "2025-07-27T14:54:06.801365", "level": "INFO", "logger": "amanita_api", "message": "=== Бот остановлен ===", "module": "main", "function": "main", "line": 145, "asctime": "2025-07-27 14:54:06"}
{"timestamp": "2025-07-27T14:54:06.826144", "level": "INFO", "logger": "amanita_api", "message": "=== AMANITA Bot + API Server остановлены ===", "module": "main", "function": "main", "line": 147, "asctime": "2025-07-27 14:54:06"}
{"timestamp": "2025-08-10T14:43:10.753154", "level": "INFO", "logger": "amanita_api", "message": "Инициализация AMANITA API приложения", "module": "main", "function": "create_api_app", "line": 52, "log_level": "INFO", "log_file": null, "service_factory_available": false, "asctime": "2025-08-10 14:43:10"}
{"timestamp": "2025-08-10T14:43:10.767258", "level": "INFO", "logger": "amanita_api", "message": "FastAPI приложение создано с базовой конфигурацией", "module": "main", "function": "create_api_app", "line": 274, "docs_url": "/docs", "health_endpoint": "/health", "asctime": "2025-08-10 14:43:10"}
{"timestamp": "2025-08-10T14:43:10.768252", "level": "ERROR", "logger": "amanita_api", "message": "Не найден TELEGRAM_BOT_TOKEN в .env файле", "module": "main", "function": "<module>", "line": 52, "asctime": "2025-08-10 14:43:10"}
{"timestamp": "2025-08-10T14:43:40.063655", "level": "INFO", "logger": "amanita_api", "message": "Инициализация AMANITA API приложения", "module": "main", "function": "create_api_app", "line": 52, "log_level": "INFO", "log_file": null, "service_factory_available": false, "asctime": "2025-08-10 14:43:40"}
{"timestamp": "2025-08-10T14:43:40.075835", "level": "INFO", "logger": "amanita_api", "message": "FastAPI приложение создано с базовой конфигурацией", "module": "main", "function": "create_api_app", "line": 274, "docs_url": "/docs", "health_endpoint": "/health", "asctime": "2025-08-10 14:43:40"}
{"timestamp": "2025-08-10T14:43:40.076959", "level": "INFO", "logger": "amanita_api", "message": "=== Инициализация AMANITA Telegram Bot + API Server ===", "module": "main", "function": "<module>", "line": 55, "asctime": "2025-08-10 14:43:40"}
{"timestamp": "2025-08-10T14:43:40.079531", "level": "INFO", "logger": "amanita_api", "message": "Инициализация ServiceFactory...", "module": "main", "function": "main", "line": 62, "asctime": "2025-08-10 14:43:40"}
{"timestamp": "2025-08-10T14:43:40.079693", "level": "INFO", "logger": "amanita_api", "message": "ServiceFactory успешно инициализирован", "module": "main", "function": "main", "line": 64, "asctime": "2025-08-10 14:43:40"}
{"timestamp": "2025-08-10T14:43:40.079746", "level": "INFO", "logger": "amanita_api", "message": "Создание экземпляра бота...", "module": "main", "function": "main", "line": 67, "asctime": "2025-08-10 14:43:40"}
{"timestamp": "2025-08-10T14:43:40.079810", "level": "ERROR", "logger": "amanita_api", "message": "Ошибка в функции main(): Token is invalid!", "module": "main", "function": "main", "line": 140, "asctime": "2025-08-10 14:43:40"}
{"timestamp": "2025-08-10T14:43:40.081924", "level": "ERROR", "logger": "amanita_api", "message": "Трассировка ошибки: Traceback (most recent call last):\n  File \"/Users/eslinko/Development/🍄Amanita/bot/main.py\", line 68, in main\n    bot = Bot(\n          ^^^^\n  File \"/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/aiogram/client/bot.py\", line 266, in __init__\n    validate_token(token)\n  File \"/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/aiogram/utils/token.py\", line 27, in validate_token\n    raise TokenValidationError(\"Token is invalid!\")\naiogram.utils.token.TokenValidationError: Token is invalid!\n", "module": "main", "function": "main", "line": 142, "asctime": "2025-08-10 14:43:40"}
{"timestamp": "2025-08-10T14:43:40.082044", "level": "INFO", "logger": "amanita_api", "message": "=== AMANITA Bot + API Server остановлены ===", "module": "main", "function": "main", "line": 147, "asctime": "2025-08-10 14:43:40"}
{"timestamp": "2025-08-10T14:45:57.158392", "level": "INFO", "logger": "amanita_api", "message": "Инициализация AMANITA API приложения", "module": "main", "function": "create_api_app", "line": 52, "log_level": "INFO", "log_file": null, "service_factory_available": false, "asctime": "2025-08-10 14:45:57"}
{"timestamp": "2025-08-10T14:45:57.173743", "level": "INFO", "logger": "amanita_api", "message": "FastAPI приложение создано с базовой конфигурацией", "module": "main", "function": "create_api_app", "line": 274, "docs_url": "/docs", "health_endpoint": "/health", "asctime": "2025-08-10 14:45:57"}
{"timestamp": "2025-08-10T14:45:57.174927", "level": "INFO", "logger": "amanita_api", "message": "=== Инициализация AMANITA Telegram Bot + API Server ===", "module": "main", "function": "<module>", "line": 55, "asctime": "2025-08-10 14:45:57"}
{"timestamp": "2025-08-10T14:45:57.177116", "level": "INFO", "logger": "amanita_api", "message": "Инициализация ServiceFactory...", "module": "main", "function": "main", "line": 62, "asctime": "2025-08-10 14:45:57"}
{"timestamp": "2025-08-10T14:45:57.177335", "level": "INFO", "logger": "amanita_api", "message": "ServiceFactory успешно инициализирован", "module": "main", "function": "main", "line": 64, "asctime": "2025-08-10 14:45:57"}
{"timestamp": "2025-08-10T14:45:57.177563", "level": "INFO", "logger": "amanita_api", "message": "Создание экземпляра бота...", "module": "main", "function": "main", "line": 67, "asctime": "2025-08-10 14:45:57"}
{"timestamp": "2025-08-10T14:46:00.114735", "level": "INFO", "logger": "amanita_api", "message": "Бот успешно создан: @Amanita_0_Iveta_bot (ID: 8083902706)", "module": "main", "function": "main", "line": 77, "asctime": "2025-08-10 14:46:00"}
{"timestamp": "2025-08-10T14:46:00.115582", "level": "INFO", "logger": "amanita_api", "message": "Инициализация диспетчера...", "module": "main", "function": "main", "line": 80, "asctime": "2025-08-10 14:46:00"}
{"timestamp": "2025-08-10T14:46:00.116842", "level": "INFO", "logger": "amanita_api", "message": "Регистрация обработчиков...", "module": "main", "function": "main", "line": 85, "asctime": "2025-08-10 14:46:00"}
{"timestamp": "2025-08-10T14:46:00.117034", "level": "INFO", "logger": "amanita_api", "message": "Все обработчики успешно зарегистрированы", "module": "main", "function": "main", "line": 92, "asctime": "2025-08-10 14:46:00"}
{"timestamp": "2025-08-10T14:46:00.117170", "level": "INFO", "logger": "amanita_api", "message": "Запуск фоновой загрузки каталога продуктов...", "module": "main", "function": "main", "line": 96, "asctime": "2025-08-10 14:46:00"}
{"timestamp": "2025-08-10T14:46:00.117347", "level": "INFO", "logger": "amanita_api", "message": "Фоновая задача по загрузке каталога запущена", "module": "main", "function": "main", "line": 102, "asctime": "2025-08-10 14:46:00"}
{"timestamp": "2025-08-10T14:46:00.117459", "level": "INFO", "logger": "amanita_api", "message": "Создание FastAPI приложения...", "module": "main", "function": "main", "line": 106, "asctime": "2025-08-10 14:46:00"}
{"timestamp": "2025-08-10T14:46:00.117602", "level": "INFO", "logger": "amanita_api", "message": "Инициализация AMANITA API приложения", "module": "main", "function": "create_api_app", "line": 52, "log_level": "INFO", "log_file": "logs/amanita_api.log", "service_factory_available": true, "asctime": "2025-08-10 14:46:00"}
{"timestamp": "2025-08-10T14:46:00.118531", "level": "INFO", "logger": "amanita_api", "message": "ApiKeyService интегрирован в HMAC middleware", "module": "main", "function": "create_api_app", "line": 82, "asctime": "2025-08-10 14:46:00"}
{"timestamp": "2025-08-10T14:46:00.118673", "level": "INFO", "logger": "amanita_api", "message": "ServiceFactory интегрирован в приложение", "module": "main", "function": "create_api_app", "line": 91, "asctime": "2025-08-10 14:46:00"}
{"timestamp": "2025-08-10T14:46:00.126822", "level": "INFO", "logger": "amanita_api", "message": "FastAPI приложение создано с базовой конфигурацией", "module": "main", "function": "create_api_app", "line": 274, "docs_url": "/docs", "health_endpoint": "/health", "asctime": "2025-08-10 14:46:00"}
{"timestamp": "2025-08-10T14:46:00.127071", "level": "INFO", "logger": "amanita_api", "message": "FastAPI приложение создано с логированием: INFO -> logs/amanita_api.log", "module": "main", "function": "main", "line": 114, "asctime": "2025-08-10 14:46:00"}
{"timestamp": "2025-08-10T14:46:00.127184", "level": "INFO", "logger": "amanita_api", "message": "Настройка uvicorn сервера...", "module": "main", "function": "main", "line": 117, "asctime": "2025-08-10 14:46:00"}
{"timestamp": "2025-08-10T14:46:00.128171", "level": "INFO", "logger": "amanita_api", "message": "Uvicorn сервер настроен", "module": "main", "function": "main", "line": 126, "asctime": "2025-08-10 14:46:00"}
{"timestamp": "2025-08-10T14:46:00.128393", "level": "INFO", "logger": "amanita_api", "message": "Запуск бота и API сервера параллельно...", "module": "main", "function": "main", "line": 129, "asctime": "2025-08-10 14:46:00"}
{"timestamp": "2025-08-10T14:46:00.128515", "level": "INFO", "logger": "amanita_api", "message": "=== AMANITA Bot + API Server запущены и готовы к работе ===", "module": "main", "function": "main", "line": 131, "asctime": "2025-08-10 14:46:00"}
{"timestamp": "2025-08-10T14:46:00.214537", "level": "INFO", "logger": "amanita_api.auth", "message": "HMAC Middleware инициализирован", "module": "auth", "function": "__init__", "line": 56, "timestamp_window": 300, "nonce_cache_ttl": 600, "api_key_service_available": true, "asctime": "2025-08-10 14:46:00"}
{"timestamp": "2025-08-10T14:47:02.600726", "level": "INFO", "logger": "amanita_api", "message": "Фоновая загрузка каталога завершена!", "module": "main", "function": "preload_catalog", "line": 100, "asctime": "2025-08-10 14:47:02"}
{"timestamp": "2025-08-10T14:59:07.121734", "level": "WARNING", "logger": "amanita_api.auth", "message": "Ошибка валидации API ключа test-api-key-12345: Неверный API ключ: test-api-key-12345", "module": "auth", "function": "_validate_api_key", "line": 262, "asctime": "2025-08-10 14:59:07"}
{"timestamp": "2025-08-10T14:59:07.131667", "level": "WARNING", "logger": "amanita_api.auth", "message": "HMAC аутентификация неудачна", "module": "auth", "function": "dispatch", "line": 139, "error": "401: Invalid API key: test-api-key-12345", "processing_time_ms": 21.34, "path": "/products/upload", "method": "POST", "client_ip": "127.0.0.1", "asctime": "2025-08-10 14:59:07"}
{"timestamp": "2025-08-10T14:59:07.293681", "level": "WARNING", "logger": "amanita_api.auth", "message": "Ошибка валидации API ключа test-api-key-12345: Неверный API ключ: test-api-key-12345", "module": "auth", "function": "_validate_api_key", "line": 262, "asctime": "2025-08-10 14:59:07"}
{"timestamp": "2025-08-10T14:59:07.293833", "level": "WARNING", "logger": "amanita_api.auth", "message": "HMAC аутентификация неудачна", "module": "auth", "function": "dispatch", "line": 139, "error": "401: Invalid API key: test-api-key-12345", "processing_time_ms": 0.35, "path": "/products/8", "method": "PUT", "client_ip": "127.0.0.1", "asctime": "2025-08-10 14:59:07"}
{"timestamp": "2025-08-10T14:59:07.353069", "level": "WARNING", "logger": "amanita_api.auth", "message": "Ошибка валидации API ключа test-api-key-12345: Неверный API ключ: test-api-key-12345", "module": "auth", "function": "_validate_api_key", "line": 262, "asctime": "2025-08-10 14:59:07"}
{"timestamp": "2025-08-10T14:59:07.353408", "level": "WARNING", "logger": "amanita_api.auth", "message": "HMAC аутентификация неудачна", "module": "auth", "function": "dispatch", "line": 139, "error": "401: Invalid API key: test-api-key-12345", "processing_time_ms": 2.81, "path": "/products/8/status", "method": "POST", "client_ip": "127.0.0.1", "asctime": "2025-08-10 14:59:07"}
{"timestamp": "2025-08-10T15:04:08.627090", "level": "WARNING", "logger": "amanita_api.auth", "message": "Ошибка валидации API ключа test-api-key-12345: Неверный API ключ: test-api-key-12345", "module": "auth", "function": "_validate_api_key", "line": 262, "asctime": "2025-08-10 15:04:08"}
{"timestamp": "2025-08-10T15:04:08.627790", "level": "WARNING", "logger": "amanita_api.auth", "message": "HMAC аутентификация неудачна", "module": "auth", "function": "dispatch", "line": 139, "error": "401: Invalid API key: test-api-key-12345", "processing_time_ms": 1.34, "path": "/products/upload", "method": "POST", "client_ip": "127.0.0.1", "asctime": "2025-08-10 15:04:08"}
{"timestamp": "2025-08-10T15:04:08.780760", "level": "WARNING", "logger": "amanita_api.auth", "message": "Ошибка валидации API ключа test-api-key-12345: Неверный API ключ: test-api-key-12345", "module": "auth", "function": "_validate_api_key", "line": 262, "asctime": "2025-08-10 15:04:08"}
{"timestamp": "2025-08-10T15:04:08.780872", "level": "WARNING", "logger": "amanita_api.auth", "message": "HMAC аутентификация неудачна", "module": "auth", "function": "dispatch", "line": 139, "error": "401: Invalid API key: test-api-key-12345", "processing_time_ms": 0.25, "path": "/products/8", "method": "PUT", "client_ip": "127.0.0.1", "asctime": "2025-08-10 15:04:08"}
{"timestamp": "2025-08-10T15:04:08.829829", "level": "WARNING", "logger": "amanita_api.auth", "message": "Ошибка валидации API ключа test-api-key-12345: Неверный API ключ: test-api-key-12345", "module": "auth", "function": "_validate_api_key", "line": 262, "asctime": "2025-08-10 15:04:08"}
{"timestamp": "2025-08-10T15:04:08.829940", "level": "WARNING", "logger": "amanita_api.auth", "message": "HMAC аутентификация неудачна", "module": "auth", "function": "dispatch", "line": 139, "error": "401: Invalid API key: test-api-key-12345", "processing_time_ms": 0.47, "path": "/products/8/status", "method": "POST", "client_ip": "127.0.0.1", "asctime": "2025-08-10 15:04:08"}
{"timestamp": "2025-08-10T15:10:18.828648", "level": "WARNING", "logger": "amanita_api.auth", "message": "Ошибка валидации API ключа test-api-key-12345: Неверный API ключ: test-api-key-12345", "module": "auth", "function": "_validate_api_key", "line": 262, "asctime": "2025-08-10 15:10:18"}
{"timestamp": "2025-08-10T15:10:18.829268", "level": "WARNING", "logger": "amanita_api.auth", "message": "HMAC аутентификация неудачна", "module": "auth", "function": "dispatch", "line": 139, "error": "401: Invalid API key: test-api-key-12345", "processing_time_ms": 1.79, "path": "/products/upload", "method": "POST", "client_ip": "127.0.0.1", "asctime": "2025-08-10 15:10:18"}
{"timestamp": "2025-08-10T15:10:19.015729", "level": "WARNING", "logger": "amanita_api.auth", "message": "Ошибка валидации API ключа test-api-key-12345: Неверный API ключ: test-api-key-12345", "module": "auth", "function": "_validate_api_key", "line": 262, "asctime": "2025-08-10 15:10:19"}
{"timestamp": "2025-08-10T15:10:19.015912", "level": "WARNING", "logger": "amanita_api.auth", "message": "HMAC аутентификация неудачна", "module": "auth", "function": "dispatch", "line": 139, "error": "401: Invalid API key: test-api-key-12345", "processing_time_ms": 0.61, "path": "/products/8", "method": "PUT", "client_ip": "127.0.0.1", "asctime": "2025-08-10 15:10:19"}
{"timestamp": "2025-08-10T15:10:19.072310", "level": "WARNING", "logger": "amanita_api.auth", "message": "Ошибка валидации API ключа test-api-key-12345: Неверный API ключ: test-api-key-12345", "module": "auth", "function": "_validate_api_key", "line": 262, "asctime": "2025-08-10 15:10:19"}
{"timestamp": "2025-08-10T15:10:19.072524", "level": "WARNING", "logger": "amanita_api.auth", "message": "HMAC аутентификация неудачна", "module": "auth", "function": "dispatch", "line": 139, "error": "401: Invalid API key: test-api-key-12345", "processing_time_ms": 0.38, "path": "/products/8/status", "method": "POST", "client_ip": "127.0.0.1", "asctime": "2025-08-10 15:10:19"}
{"timestamp": "2025-08-10T15:28:01.350180", "level": "WARNING", "logger": "amanita_api.auth", "message": "Ошибка валидации API ключа test-api-key-12345: Неверный API ключ: test-api-key-12345", "module": "auth", "function": "_validate_api_key", "line": 262, "asctime": "2025-08-10 15:28:01"}
{"timestamp": "2025-08-10T15:28:01.351750", "level": "WARNING", "logger": "amanita_api.auth", "message": "HMAC аутентификация неудачна", "module": "auth", "function": "dispatch", "line": 139, "error": "401: Invalid API key: test-api-key-12345", "processing_time_ms": 5.31, "path": "/products/upload", "method": "POST", "client_ip": "127.0.0.1", "asctime": "2025-08-10 15:28:01"}
{"timestamp": "2025-08-10T15:28:01.539207", "level": "WARNING", "logger": "amanita_api.auth", "message": "Ошибка валидации API ключа test-api-key-12345: Неверный API ключ: test-api-key-12345", "module": "auth", "function": "_validate_api_key", "line": 262, "asctime": "2025-08-10 15:28:01"}
{"timestamp": "2025-08-10T15:28:01.539519", "level": "WARNING", "logger": "amanita_api.auth", "message": "HMAC аутентификация неудачна", "module": "auth", "function": "dispatch", "line": 139, "error": "401: Invalid API key: test-api-key-12345", "processing_time_ms": 0.46, "path": "/products/8", "method": "PUT", "client_ip": "127.0.0.1", "asctime": "2025-08-10 15:28:01"}
{"timestamp": "2025-08-10T15:28:01.618057", "level": "WARNING", "logger": "amanita_api.auth", "message": "Ошибка валидации API ключа test-api-key-12345: Неверный API ключ: test-api-key-12345", "module": "auth", "function": "_validate_api_key", "line": 262, "asctime": "2025-08-10 15:28:01"}
{"timestamp": "2025-08-10T15:28:01.618176", "level": "WARNING", "logger": "amanita_api.auth", "message": "HMAC аутентификация неудачна", "module": "auth", "function": "dispatch", "line": 139, "error": "401: Invalid API key: test-api-key-12345", "processing_time_ms": 0.25, "path": "/products/8/status", "method": "POST", "client_ip": "127.0.0.1", "asctime": "2025-08-10 15:28:01"}
{"timestamp": "2025-08-10T15:29:45.092100", "level": "WARNING", "logger": "amanita_api.auth", "message": "Ошибка валидации API ключа test-api-key-12345: Неверный API ключ: test-api-key-12345", "module": "auth", "function": "_validate_api_key", "line": 262, "asctime": "2025-08-10 15:29:45"}
{"timestamp": "2025-08-10T15:29:45.092734", "level": "WARNING", "logger": "amanita_api.auth", "message": "HMAC аутентификация неудачна", "module": "auth", "function": "dispatch", "line": 139, "error": "401: Invalid API key: test-api-key-12345", "processing_time_ms": 1.55, "path": "/products/upload", "method": "POST", "client_ip": "127.0.0.1", "asctime": "2025-08-10 15:29:45"}
{"timestamp": "2025-08-10T15:29:45.276955", "level": "WARNING", "logger": "amanita_api.auth", "message": "Ошибка валидации API ключа test-api-key-12345: Неверный API ключ: test-api-key-12345", "module": "auth", "function": "_validate_api_key", "line": 262, "asctime": "2025-08-10 15:29:45"}
{"timestamp": "2025-08-10T15:29:45.277075", "level": "WARNING", "logger": "amanita_api.auth", "message": "HMAC аутентификация неудачна", "module": "auth", "function": "dispatch", "line": 139, "error": "401: Invalid API key: test-api-key-12345", "processing_time_ms": 0.26, "path": "/products/8", "method": "PUT", "client_ip": "127.0.0.1", "asctime": "2025-08-10 15:29:45"}
{"timestamp": "2025-08-10T15:29:45.335163", "level": "WARNING", "logger": "amanita_api.auth", "message": "Ошибка валидации API ключа test-api-key-12345: Неверный API ключ: test-api-key-12345", "module": "auth", "function": "_validate_api_key", "line": 262, "asctime": "2025-08-10 15:29:45"}
{"timestamp": "2025-08-10T15:29:45.335298", "level": "WARNING", "logger": "amanita_api.auth", "message": "HMAC аутентификация неудачна", "module": "auth", "function": "dispatch", "line": 139, "error": "401: Invalid API key: test-api-key-12345", "processing_time_ms": 0.27, "path": "/products/8/status", "method": "POST", "client_ip": "127.0.0.1", "asctime": "2025-08-10 15:29:45"}
{"timestamp": "2025-08-10T16:13:14.579429", "level": "WARNING", "logger": "amanita_api.auth", "message": "Ошибка валидации API ключа test-api-key-12345: Неверный API ключ: test-api-key-12345", "module": "auth", "function": "_validate_api_key", "line": 262, "asctime": "2025-08-10 16:13:14"}
{"timestamp": "2025-08-10T16:13:14.581461", "level": "WARNING", "logger": "amanita_api.auth", "message": "HMAC аутентификация неудачна", "module": "auth", "function": "dispatch", "line": 139, "error": "401: Invalid API key: test-api-key-12345", "processing_time_ms": 6.06, "path": "/products/upload", "method": "POST", "client_ip": "127.0.0.1", "asctime": "2025-08-10 16:13:14"}
{"timestamp": "2025-08-10T16:13:14.769935", "level": "WARNING", "logger": "amanita_api.auth", "message": "Ошибка валидации API ключа test-api-key-12345: Неверный API ключ: test-api-key-12345", "module": "auth", "function": "_validate_api_key", "line": 262, "asctime": "2025-08-10 16:13:14"}
{"timestamp": "2025-08-10T16:13:14.770056", "level": "WARNING", "logger": "amanita_api.auth", "message": "HMAC аутентификация неудачна", "module": "auth", "function": "dispatch", "line": 139, "error": "401: Invalid API key: test-api-key-12345", "processing_time_ms": 0.25, "path": "/products/8", "method": "PUT", "client_ip": "127.0.0.1", "asctime": "2025-08-10 16:13:14"}
{"timestamp": "2025-08-10T16:13:14.820271", "level": "WARNING", "logger": "amanita_api.auth", "message": "Ошибка валидации API ключа test-api-key-12345: Неверный API ключ: test-api-key-12345", "module": "auth", "function": "_validate_api_key", "line": 262, "asctime": "2025-08-10 16:13:14"}
{"timestamp": "2025-08-10T16:13:14.822562", "level": "WARNING", "logger": "amanita_api.auth", "message": "HMAC аутентификация неудачна", "module": "auth", "function": "dispatch", "line": 139, "error": "401: Invalid API key: test-api-key-12345", "processing_time_ms": 2.39, "path": "/products/8/status", "method": "POST", "client_ip": "127.0.0.1", "asctime": "2025-08-10 16:13:14"}
{"timestamp": "2025-08-10T16:13:20.675562", "level": "WARNING", "logger": "amanita_api.auth", "message": "Ошибка валидации API ключа test-api-key-12345: Неверный API ключ: test-api-key-12345", "module": "auth", "function": "_validate_api_key", "line": 262, "asctime": "2025-08-10 16:13:20"}
{"timestamp": "2025-08-10T16:13:20.676444", "level": "WARNING", "logger": "amanita_api.auth", "message": "HMAC аутентификация неудачна", "module": "auth", "function": "dispatch", "line": 139, "error": "401: Invalid API key: test-api-key-12345", "processing_time_ms": 1.99, "path": "/products/upload", "method": "POST", "client_ip": "127.0.0.1", "asctime": "2025-08-10 16:13:20"}
{"timestamp": "2025-08-10T16:13:20.879463", "level": "WARNING", "logger": "amanita_api.auth", "message": "Ошибка валидации API ключа test-api-key-12345: Неверный API ключ: test-api-key-12345", "module": "auth", "function": "_validate_api_key", "line": 262, "asctime": "2025-08-10 16:13:20"}
{"timestamp": "2025-08-10T16:13:20.879607", "level": "WARNING", "logger": "amanita_api.auth", "message": "HMAC аутентификация неудачна", "module": "auth", "function": "dispatch", "line": 139, "error": "401: Invalid API key: test-api-key-12345", "processing_time_ms": 0.32, "path": "/products/8", "method": "PUT", "client_ip": "127.0.0.1", "asctime": "2025-08-10 16:13:20"}
{"timestamp": "2025-08-10T16:13:20.938778", "level": "WARNING", "logger": "amanita_api.auth", "message": "Ошибка валидации API ключа test-api-key-12345: Неверный API ключ: test-api-key-12345", "module": "auth", "function": "_validate_api_key", "line": 262, "asctime": "2025-08-10 16:13:20"}
{"timestamp": "2025-08-10T16:13:20.938950", "level": "WARNING", "logger": "amanita_api.auth", "message": "HMAC аутентификация неудачна", "module": "auth", "function": "dispatch", "line": 139, "error": "401: Invalid API key: test-api-key-12345", "processing_time_ms": 0.43, "path": "/products/8/status", "method": "POST", "client_ip": "127.0.0.1", "asctime": "2025-08-10 16:13:20"}
{"timestamp": "2025-08-10T16:24:55.634479", "level": "WARNING", "logger": "amanita_api.auth", "message": "Ошибка валидации API ключа ak_2df6887342484f4b: Неверный API ключ: ak_2df6887342484f4b", "module": "auth", "function": "_validate_api_key", "line": 262, "asctime": "2025-08-10 16:24:55"}
{"timestamp": "2025-08-10T16:24:55.635259", "level": "WARNING", "logger": "amanita_api.auth", "message": "HMAC аутентификация неудачна", "module": "auth", "function": "dispatch", "line": 139, "error": "401: Invalid API key: ak_2df6887342484f4b", "processing_time_ms": 20.23, "path": "/auth-test", "method": "POST", "client_ip": "127.0.0.1", "asctime": "2025-08-10 16:24:55"}
{"timestamp": "2025-08-10T16:25:10.225313", "level": "INFO", "logger": "amanita_api", "message": "=== Бот остановлен ===", "module": "main", "function": "main", "line": 145, "asctime": "2025-08-10 16:25:10"}
{"timestamp": "2025-08-10T16:25:10.226734", "level": "INFO", "logger": "amanita_api", "message": "=== AMANITA Bot + API Server остановлены ===", "module": "main", "function": "main", "line": 147, "asctime": "2025-08-10 16:25:10"}
{"timestamp": "2025-08-10T16:25:14.325255", "level": "INFO", "logger": "amanita_api", "message": "Инициализация AMANITA API приложения", "module": "main", "function": "create_api_app", "line": 52, "log_level": "INFO", "log_file": null, "service_factory_available": false, "asctime": "2025-08-10 16:25:14"}
{"timestamp": "2025-08-10T16:25:14.339898", "level": "INFO", "logger": "amanita_api", "message": "FastAPI приложение создано с базовой конфигурацией", "module": "main", "function": "create_api_app", "line": 275, "docs_url": "/docs", "health_endpoint": "/health", "asctime": "2025-08-10 16:25:14"}
{"timestamp": "2025-08-10T16:25:14.341006", "level": "INFO", "logger": "amanita_api", "message": "=== Инициализация AMANITA Telegram Bot + API Server ===", "module": "main", "function": "<module>", "line": 55, "asctime": "2025-08-10 16:25:14"}
{"timestamp": "2025-08-10T16:25:14.341262", "level": "INFO", "logger": "amanita_api", "message": "Инициализация ServiceFactory...", "module": "main", "function": "main", "line": 62, "asctime": "2025-08-10 16:25:14"}
{"timestamp": "2025-08-10T16:25:14.341320", "level": "INFO", "logger": "amanita_api", "message": "ServiceFactory успешно инициализирован", "module": "main", "function": "main", "line": 64, "asctime": "2025-08-10 16:25:14"}
{"timestamp": "2025-08-10T16:25:14.341362", "level": "INFO", "logger": "amanita_api", "message": "Создание экземпляра бота...", "module": "main", "function": "main", "line": 67, "asctime": "2025-08-10 16:25:14"}
{"timestamp": "2025-08-10T16:25:14.463440", "level": "INFO", "logger": "amanita_api", "message": "Бот успешно создан: @Amanita_0_Iveta_bot (ID: 8083902706)", "module": "main", "function": "main", "line": 77, "asctime": "2025-08-10 16:25:14"}
{"timestamp": "2025-08-10T16:25:14.463691", "level": "INFO", "logger": "amanita_api", "message": "Инициализация диспетчера...", "module": "main", "function": "main", "line": 80, "asctime": "2025-08-10 16:25:14"}
{"timestamp": "2025-08-10T16:25:14.464168", "level": "INFO", "logger": "amanita_api", "message": "Регистрация обработчиков...", "module": "main", "function": "main", "line": 85, "asctime": "2025-08-10 16:25:14"}
{"timestamp": "2025-08-10T16:25:14.464264", "level": "INFO", "logger": "amanita_api", "message": "Все обработчики успешно зарегистрированы", "module": "main", "function": "main", "line": 92, "asctime": "2025-08-10 16:25:14"}
{"timestamp": "2025-08-10T16:25:14.464343", "level": "INFO", "logger": "amanita_api", "message": "Запуск фоновой загрузки каталога продуктов...", "module": "main", "function": "main", "line": 96, "asctime": "2025-08-10 16:25:14"}
{"timestamp": "2025-08-10T16:25:14.464425", "level": "INFO", "logger": "amanita_api", "message": "Фоновая задача по загрузке каталога запущена", "module": "main", "function": "main", "line": 102, "asctime": "2025-08-10 16:25:14"}
{"timestamp": "2025-08-10T16:25:14.464493", "level": "INFO", "logger": "amanita_api", "message": "Создание FastAPI приложения...", "module": "main", "function": "main", "line": 106, "asctime": "2025-08-10 16:25:14"}
{"timestamp": "2025-08-10T16:25:14.464562", "level": "INFO", "logger": "amanita_api", "message": "Инициализация AMANITA API приложения", "module": "main", "function": "create_api_app", "line": 52, "log_level": "INFO", "log_file": "logs/amanita_api.log", "service_factory_available": true, "asctime": "2025-08-10 16:25:14"}
{"timestamp": "2025-08-10T16:25:14.464828", "level": "INFO", "logger": "amanita_api", "message": "ApiKeyService интегрирован в HMAC middleware", "module": "main", "function": "create_api_app", "line": 82, "asctime": "2025-08-10 16:25:14"}
{"timestamp": "2025-08-10T16:25:14.464903", "level": "INFO", "logger": "amanita_api", "message": "ServiceFactory интегрирован в приложение", "module": "main", "function": "create_api_app", "line": 91, "asctime": "2025-08-10 16:25:14"}
{"timestamp": "2025-08-10T16:25:14.469578", "level": "INFO", "logger": "amanita_api", "message": "FastAPI приложение создано с базовой конфигурацией", "module": "main", "function": "create_api_app", "line": 275, "docs_url": "/docs", "health_endpoint": "/health", "asctime": "2025-08-10 16:25:14"}
{"timestamp": "2025-08-10T16:25:14.469758", "level": "INFO", "logger": "amanita_api", "message": "FastAPI приложение создано с логированием: INFO -> logs/amanita_api.log", "module": "main", "function": "main", "line": 114, "asctime": "2025-08-10 16:25:14"}
{"timestamp": "2025-08-10T16:25:14.469834", "level": "INFO", "logger": "amanita_api", "message": "Настройка uvicorn сервера...", "module": "main", "function": "main", "line": 117, "asctime": "2025-08-10 16:25:14"}
{"timestamp": "2025-08-10T16:25:14.470313", "level": "INFO", "logger": "amanita_api", "message": "Uvicorn сервер настроен", "module": "main", "function": "main", "line": 126, "asctime": "2025-08-10 16:25:14"}
{"timestamp": "2025-08-10T16:25:14.470445", "level": "INFO", "logger": "amanita_api", "message": "Запуск бота и API сервера параллельно...", "module": "main", "function": "main", "line": 129, "asctime": "2025-08-10 16:25:14"}
{"timestamp": "2025-08-10T16:25:14.470517", "level": "INFO", "logger": "amanita_api", "message": "=== AMANITA Bot + API Server запущены и готовы к работе ===", "module": "main", "function": "main", "line": 131, "asctime": "2025-08-10 16:25:14"}
{"timestamp": "2025-08-10T16:25:14.485439", "level": "INFO", "logger": "amanita_api.auth", "message": "HMAC Middleware инициализирован", "module": "auth", "function": "__init__", "line": 56, "timestamp_window": 300, "nonce_cache_ttl": 600, "api_key_service_available": true, "asctime": "2025-08-10 16:25:14"}
{"timestamp": "1754832334", "level": "INFO", "logger": "amanita_api.auth", "message": "HMAC аутентификация успешна", "module": "auth", "function": "dispatch", "line": 119, "api_key": "ak_2df6887342484f4b", "nonce": "68f84940-eb78-43a5-b79e-99aa36bcb490", "processing_time_ms": 4.25, "path": "/auth-test", "method": "POST", "asctime": "2025-08-10 16:25:35"}
{"timestamp": "2025-08-10T16:25:35.132637", "level": "INFO", "logger": "amanita_api", "message": "Auth test запрос", "module": "main", "function": "auth_test", "line": 254, "endpoint": "/auth-test", "client_address": "unknown", "asctime": "2025-08-10 16:25:35"}
{"timestamp": "2025-08-10T16:25:39.293622", "level": "WARNING", "logger": "amanita_api.auth", "message": "HMAC аутентификация неудачна", "module": "auth", "function": "dispatch", "line": 139, "error": "401: HMAC signature validation failed", "processing_time_ms": 0.54, "path": "/auth-test", "method": "POST", "client_ip": "127.0.0.1", "asctime": "2025-08-10 16:25:39"}
{"timestamp": "2025-08-10T16:25:42.903025", "level": "WARNING", "logger": "amanita_api.auth", "message": "Ошибка валидации API ключа ak_invalidkey123: Неверный API ключ: ak_invalidkey123", "module": "auth", "function": "_validate_api_key", "line": 262, "asctime": "2025-08-10 16:25:42"}
{"timestamp": "2025-08-10T16:25:42.903690", "level": "WARNING", "logger": "amanita_api.auth", "message": "HMAC аутентификация неудачна", "module": "auth", "function": "dispatch", "line": 139, "error": "401: Invalid API key: ak_invalidkey123", "processing_time_ms": 1.55, "path": "/auth-test", "method": "POST", "client_ip": "127.0.0.1", "asctime": "2025-08-10 16:25:42"}
{"timestamp": "2025-08-10T16:26:13.916884", "level": "INFO", "logger": "amanita_api", "message": "Auth test запрос", "module": "main", "function": "auth_test", "line": 254, "endpoint": "/auth-test", "client_address": "unknown", "asctime": "2025-08-10 16:26:13"}
{"timestamp": "1754832380", "level": "INFO", "logger": "amanita_api.auth", "message": "HMAC аутентификация успешна", "module": "auth", "function": "dispatch", "line": 119, "api_key": "ak_2df6887342484f4b", "nonce": "4b08e4f9-65dc-4613-8297-a90847439c38", "processing_time_ms": 0.57, "path": "/auth-test", "method": "POST", "asctime": "2025-08-10 16:26:20"}
{"timestamp": "2025-08-10T16:26:20.882048", "level": "INFO", "logger": "amanita_api", "message": "Auth test запрос", "module": "main", "function": "auth_test", "line": 254, "endpoint": "/auth-test", "client_address": "unknown", "asctime": "2025-08-10 16:26:20"}
{"timestamp": "2025-08-10T16:26:20.892901", "level": "WARNING", "logger": "amanita_api.auth", "message": "HMAC аутентификация неудачна", "module": "auth", "function": "dispatch", "line": 139, "error": "401: HMAC signature validation failed", "processing_time_ms": 0.23, "path": "/auth-test", "method": "POST", "client_ip": "127.0.0.1", "asctime": "2025-08-10 16:26:20"}
{"timestamp": "2025-08-10T16:26:20.908531", "level": "WARNING", "logger": "amanita_api.auth", "message": "Ошибка валидации API ключа ak_invalidkey123: Неверный API ключ: ak_invalidkey123", "module": "auth", "function": "_validate_api_key", "line": 262, "asctime": "2025-08-10 16:26:20"}
{"timestamp": "2025-08-10T16:26:20.908884", "level": "WARNING", "logger": "amanita_api.auth", "message": "HMAC аутентификация неудачна", "module": "auth", "function": "dispatch", "line": 139, "error": "401: Invalid API key: ak_invalidkey123", "processing_time_ms": 1.54, "path": "/auth-test", "method": "POST", "client_ip": "127.0.0.1", "asctime": "2025-08-10 16:26:20"}
{"timestamp": "2025-08-10T16:26:20.919589", "level": "INFO", "logger": "amanita_api", "message": "Auth test запрос", "module": "main", "function": "auth_test", "line": 254, "endpoint": "/auth-test", "client_address": "unknown", "asctime": "2025-08-10 16:26:20"}
{"timestamp": "1754832387", "level": "INFO", "logger": "amanita_api.auth", "message": "HMAC аутентификация успешна", "module": "auth", "function": "dispatch", "line": 119, "api_key": "ak_2df6887342484f4b", "nonce": "e28b72d3-173f-45d8-8f3e-dc14c1f8007a", "processing_time_ms": 0.66, "path": "/products/upload", "method": "POST", "asctime": "2025-08-10 16:26:27"}
{"timestamp": "1754832387", "level": "INFO", "logger": "amanita_api.auth", "message": "HMAC аутентификация успешна", "module": "auth", "function": "dispatch", "line": 119, "api_key": "ak_2df6887342484f4b", "nonce": "57e2f659-bdba-421c-a403-3f6c41f54969", "processing_time_ms": 0.11, "path": "/products/8", "method": "PUT", "asctime": "2025-08-10 16:26:27"}
{"timestamp": "1754832388", "level": "INFO", "logger": "amanita_api.auth", "message": "HMAC аутентификация успешна", "module": "auth", "function": "dispatch", "line": 119, "api_key": "ak_2df6887342484f4b", "nonce": "139d132f-f771-4458-a4c1-d25b226d19f0", "processing_time_ms": 0.11, "path": "/products/8/status", "method": "POST", "asctime": "2025-08-10 16:26:28"}
{"timestamp": "2025-08-10T16:26:32.791156", "level": "INFO", "logger": "amanita_api", "message": "Фоновая загрузка каталога завершена!", "module": "main", "function": "preload_catalog", "line": 100, "asctime": "2025-08-10 16:26:32"}
{"timestamp": "1754832965", "level": "INFO", "logger": "amanita_api.auth", "message": "HMAC аутентификация успешна", "module": "auth", "function": "dispatch", "line": 119, "api_key": "ak_2df6887342484f4b", "nonce": "cb3a558c-6adb-4d72-b0b9-c785c924432e", "processing_time_ms": 5.79, "path": "/products/upload", "method": "POST", "asctime": "2025-08-10 16:36:05"}
{"timestamp": "1754832965", "level": "INFO", "logger": "amanita_api.auth", "message": "HMAC аутентификация успешна", "module": "auth", "function": "dispatch", "line": 119, "api_key": "ak_2df6887342484f4b", "nonce": "adcb1582-4f93-48a2-920c-0411b3669343", "processing_time_ms": 0.07, "path": "/products/8", "method": "PUT", "asctime": "2025-08-10 16:36:05"}
{"timestamp": "1754832965", "level": "INFO", "logger": "amanita_api.auth", "message": "HMAC аутентификация успешна", "module": "auth", "function": "dispatch", "line": 119, "api_key": "ak_2df6887342484f4b", "nonce": "e1c6efb3-a77a-4ab4-a695-484c39eb78bb", "processing_time_ms": 0.07, "path": "/products/8/status", "method": "POST", "asctime": "2025-08-10 16:36:05"}
{"timestamp": "2025-08-10T22:16:39.998800", "level": "INFO", "logger": "amanita_api", "message": "Инициализация AMANITA API приложения", "module": "main", "function": "create_api_app", "line": 52, "log_level": "INFO", "log_file": null, "service_factory_available": false, "asctime": "2025-08-10 22:16:39"}
{"timestamp": "2025-08-10T22:16:40.014369", "level": "INFO", "logger": "amanita_api", "message": "FastAPI приложение создано с базовой конфигурацией", "module": "main", "function": "create_api_app", "line": 275, "docs_url": "/docs", "health_endpoint": "/health", "asctime": "2025-08-10 22:16:40"}
{"timestamp": "2025-08-10T22:16:40.015684", "level": "INFO", "logger": "amanita_api", "message": "=== Инициализация AMANITA Telegram Bot + API Server ===", "module": "main", "function": "<module>", "line": 55, "asctime": "2025-08-10 22:16:40"}
{"timestamp": "2025-08-10T22:16:40.017759", "level": "INFO", "logger": "amanita_api", "message": "Инициализация ServiceFactory...", "module": "main", "function": "main", "line": 62, "asctime": "2025-08-10 22:16:40"}
{"timestamp": "2025-08-10T22:16:40.017842", "level": "INFO", "logger": "amanita_api", "message": "ServiceFactory успешно инициализирован", "module": "main", "function": "main", "line": 64, "asctime": "2025-08-10 22:16:40"}
{"timestamp": "2025-08-10T22:16:40.017891", "level": "INFO", "logger": "amanita_api", "message": "Создание экземпляра бота...", "module": "main", "function": "main", "line": 67, "asctime": "2025-08-10 22:16:40"}
{"timestamp": "2025-08-10T22:16:40.138185", "level": "INFO", "logger": "amanita_api", "message": "Бот успешно создан: @Amanita_0_Iveta_bot (ID: 8083902706)", "module": "main", "function": "main", "line": 77, "asctime": "2025-08-10 22:16:40"}
{"timestamp": "2025-08-10T22:16:40.138405", "level": "INFO", "logger": "amanita_api", "message": "Инициализация диспетчера...", "module": "main", "function": "main", "line": 80, "asctime": "2025-08-10 22:16:40"}
{"timestamp": "2025-08-10T22:16:40.138883", "level": "INFO", "logger": "amanita_api", "message": "Регистрация обработчиков...", "module": "main", "function": "main", "line": 85, "asctime": "2025-08-10 22:16:40"}
{"timestamp": "2025-08-10T22:16:40.138977", "level": "INFO", "logger": "amanita_api", "message": "Все обработчики успешно зарегистрированы", "module": "main", "function": "main", "line": 92, "asctime": "2025-08-10 22:16:40"}
{"timestamp": "2025-08-10T22:16:40.139048", "level": "INFO", "logger": "amanita_api", "message": "Запуск фоновой загрузки каталога продуктов...", "module": "main", "function": "main", "line": 96, "asctime": "2025-08-10 22:16:40"}
{"timestamp": "2025-08-10T22:16:40.139134", "level": "INFO", "logger": "amanita_api", "message": "Фоновая задача по загрузке каталога запущена", "module": "main", "function": "main", "line": 102, "asctime": "2025-08-10 22:16:40"}
{"timestamp": "2025-08-10T22:16:40.139194", "level": "INFO", "logger": "amanita_api", "message": "Создание FastAPI приложения...", "module": "main", "function": "main", "line": 106, "asctime": "2025-08-10 22:16:40"}
{"timestamp": "2025-08-10T22:16:40.139256", "level": "INFO", "logger": "amanita_api", "message": "Инициализация AMANITA API приложения", "module": "main", "function": "create_api_app", "line": 52, "log_level": "INFO", "log_file": "logs/amanita_api.log", "service_factory_available": true, "asctime": "2025-08-10 22:16:40"}
{"timestamp": "2025-08-10T22:16:40.139525", "level": "INFO", "logger": "amanita_api", "message": "ApiKeyService интегрирован в HMAC middleware", "module": "main", "function": "create_api_app", "line": 82, "asctime": "2025-08-10 22:16:40"}
{"timestamp": "2025-08-10T22:16:40.139589", "level": "INFO", "logger": "amanita_api", "message": "ServiceFactory интегрирован в приложение", "module": "main", "function": "create_api_app", "line": 91, "asctime": "2025-08-10 22:16:40"}
{"timestamp": "2025-08-10T22:16:40.143991", "level": "INFO", "logger": "amanita_api", "message": "FastAPI приложение создано с базовой конфигурацией", "module": "main", "function": "create_api_app", "line": 275, "docs_url": "/docs", "health_endpoint": "/health", "asctime": "2025-08-10 22:16:40"}
{"timestamp": "2025-08-10T22:16:40.144097", "level": "INFO", "logger": "amanita_api", "message": "FastAPI приложение создано с логированием: INFO -> logs/amanita_api.log", "module": "main", "function": "main", "line": 114, "asctime": "2025-08-10 22:16:40"}
{"timestamp": "2025-08-10T22:16:40.144164", "level": "INFO", "logger": "amanita_api", "message": "Настройка uvicorn сервера...", "module": "main", "function": "main", "line": 117, "asctime": "2025-08-10 22:16:40"}
{"timestamp": "2025-08-10T22:16:40.144811", "level": "INFO", "logger": "amanita_api", "message": "Uvicorn сервер настроен", "module": "main", "function": "main", "line": 126, "asctime": "2025-08-10 22:16:40"}
{"timestamp": "2025-08-10T22:16:40.145136", "level": "INFO", "logger": "amanita_api", "message": "Запуск бота и API сервера параллельно...", "module": "main", "function": "main", "line": 129, "asctime": "2025-08-10 22:16:40"}
{"timestamp": "2025-08-10T22:16:40.145324", "level": "INFO", "logger": "amanita_api", "message": "=== AMANITA Bot + API Server запущены и готовы к работе ===", "module": "main", "function": "main", "line": 131, "asctime": "2025-08-10 22:16:40"}
{"timestamp": "2025-08-10T22:16:40.202993", "level": "INFO", "logger": "amanita_api.auth", "message": "HMAC Middleware инициализирован", "module": "auth", "function": "__init__", "line": 56, "timestamp_window": 300, "nonce_cache_ttl": 600, "api_key_service_available": true, "asctime": "2025-08-10 22:16:40"}
{"timestamp": "2025-08-10T22:16:40.205800", "level": "INFO", "logger": "amanita_api", "message": "Фоновая загрузка каталога завершена!", "module": "main", "function": "preload_catalog", "line": 100, "asctime": "2025-08-10 22:16:40"}
{"timestamp": "1754853442", "level": "INFO", "logger": "amanita_api.auth", "message": "HMAC аутентификация успешна", "module": "auth", "function": "dispatch", "line": 119, "api_key": "ak_2df6887342484f4b", "nonce": "9e476432-64ad-4549-8631-9071324bc733", "processing_time_ms": 0.41, "path": "/products/upload", "method": "POST", "asctime": "2025-08-10 22:17:22"}
{"timestamp": "1754853801", "level": "INFO", "logger": "amanita_api.auth", "message": "HMAC аутентификация успешна", "module": "auth", "function": "dispatch", "line": 119, "api_key": "ak_2df6887342484f4b", "nonce": "9eae1193-b2af-45e9-b4bc-e5fd7372a2a6", "processing_time_ms": 0.53, "path": "/products/upload", "method": "POST", "asctime": "2025-08-10 22:23:21"}
{"timestamp": "1754854031", "level": "INFO", "logger": "amanita_api.auth", "message": "HMAC аутентификация успешна", "module": "auth", "function": "dispatch", "line": 119, "api_key": "ak_2df6887342484f4b", "nonce": "f4421068-51eb-4640-a885-2b1308b3e431", "processing_time_ms": 0.41, "path": "/products/upload", "method": "POST", "asctime": "2025-08-10 22:27:11"}
{"timestamp": "1754854487", "level": "INFO", "logger": "amanita_api.auth", "message": "HMAC аутентификация успешна", "module": "auth", "function": "dispatch", "line": 119, "api_key": "ak_2df6887342484f4b", "nonce": "b1827b69-2a5b-4724-a451-1067d397cda2", "processing_time_ms": 0.79, "path": "/products/upload", "method": "POST", "asctime": "2025-08-10 22:34:47"}
{"timestamp": "1754854506", "level": "INFO", "logger": "amanita_api.auth", "message": "HMAC аутентификация успешна", "module": "auth", "function": "dispatch", "line": 119, "api_key": "ak_2df6887342484f4b", "nonce": "96ab7adc-713d-4a3e-b557-d21b2775ab1c", "processing_time_ms": 0.46, "path": "/products/upload", "method": "POST", "asctime": "2025-08-10 22:35:06"}
{"timestamp": "1754854576", "level": "INFO", "logger": "amanita_api.auth", "message": "HMAC аутентификация успешна", "module": "auth", "function": "dispatch", "line": 119, "api_key": "ak_2df6887342484f4b", "nonce": "8235538a-82ea-4376-bba0-7a13d576d253", "processing_time_ms": 0.58, "path": "/products/upload", "method": "POST", "asctime": "2025-08-10 22:36:16"}
{"timestamp": "1754854672", "level": "INFO", "logger": "amanita_api.auth", "message": "HMAC аутентификация успешна", "module": "auth", "function": "dispatch", "line": 119, "api_key": "ak_2df6887342484f4b", "nonce": "f33fa0a2-1c62-4e70-ba00-5aa3243861b4", "processing_time_ms": 0.39, "path": "/products/upload", "method": "POST", "asctime": "2025-08-10 22:37:52"}
{"timestamp": "2025-08-10T22:42:36.947665", "level": "INFO", "logger": "amanita_api", "message": "=== Бот остановлен ===", "module": "main", "function": "main", "line": 145, "asctime": "2025-08-10 22:42:36"}
{"timestamp": "2025-08-10T22:42:36.949062", "level": "INFO", "logger": "amanita_api", "message": "=== AMANITA Bot + API Server остановлены ===", "module": "main", "function": "main", "line": 147, "asctime": "2025-08-10 22:42:36"}
{"timestamp": "2025-08-10T22:42:40.743717", "level": "INFO", "logger": "amanita_api", "message": "Инициализация AMANITA API приложения", "module": "main", "function": "create_api_app", "line": 52, "log_level": "INFO", "log_file": null, "service_factory_available": false, "asctime": "2025-08-10 22:42:40"}
{"timestamp": "2025-08-10T22:42:40.762486", "level": "INFO", "logger": "amanita_api", "message": "FastAPI приложение создано с базовой конфигурацией", "module": "main", "function": "create_api_app", "line": 275, "docs_url": "/docs", "health_endpoint": "/health", "asctime": "2025-08-10 22:42:40"}
{"timestamp": "2025-08-10T22:42:40.763769", "level": "INFO", "logger": "amanita_api", "message": "=== Инициализация AMANITA Telegram Bot + API Server ===", "module": "main", "function": "<module>", "line": 55, "asctime": "2025-08-10 22:42:40"}
{"timestamp": "2025-08-10T22:42:40.764054", "level": "INFO", "logger": "amanita_api", "message": "Инициализация ServiceFactory...", "module": "main", "function": "main", "line": 62, "asctime": "2025-08-10 22:42:40"}
{"timestamp": "2025-08-10T22:42:40.764113", "level": "INFO", "logger": "amanita_api", "message": "ServiceFactory успешно инициализирован", "module": "main", "function": "main", "line": 64, "asctime": "2025-08-10 22:42:40"}
{"timestamp": "2025-08-10T22:42:40.764157", "level": "INFO", "logger": "amanita_api", "message": "Создание экземпляра бота...", "module": "main", "function": "main", "line": 67, "asctime": "2025-08-10 22:42:40"}
{"timestamp": "2025-08-10T22:42:40.881318", "level": "INFO", "logger": "amanita_api", "message": "Бот успешно создан: @Amanita_0_Iveta_bot (ID: 8083902706)", "module": "main", "function": "main", "line": 77, "asctime": "2025-08-10 22:42:40"}
{"timestamp": "2025-08-10T22:42:40.881538", "level": "INFO", "logger": "amanita_api", "message": "Инициализация диспетчера...", "module": "main", "function": "main", "line": 80, "asctime": "2025-08-10 22:42:40"}
{"timestamp": "2025-08-10T22:42:40.881930", "level": "INFO", "logger": "amanita_api", "message": "Регистрация обработчиков...", "module": "main", "function": "main", "line": 85, "asctime": "2025-08-10 22:42:40"}
{"timestamp": "2025-08-10T22:42:40.882006", "level": "INFO", "logger": "amanita_api", "message": "Все обработчики успешно зарегистрированы", "module": "main", "function": "main", "line": 92, "asctime": "2025-08-10 22:42:40"}
{"timestamp": "2025-08-10T22:42:40.882067", "level": "INFO", "logger": "amanita_api", "message": "Запуск фоновой загрузки каталога продуктов...", "module": "main", "function": "main", "line": 96, "asctime": "2025-08-10 22:42:40"}
{"timestamp": "2025-08-10T22:42:40.882132", "level": "INFO", "logger": "amanita_api", "message": "Фоновая задача по загрузке каталога запущена", "module": "main", "function": "main", "line": 102, "asctime": "2025-08-10 22:42:40"}
{"timestamp": "2025-08-10T22:42:40.882184", "level": "INFO", "logger": "amanita_api", "message": "Создание FastAPI приложения...", "module": "main", "function": "main", "line": 106, "asctime": "2025-08-10 22:42:40"}
{"timestamp": "2025-08-10T22:42:40.882239", "level": "INFO", "logger": "amanita_api", "message": "Инициализация AMANITA API приложения", "module": "main", "function": "create_api_app", "line": 52, "log_level": "INFO", "log_file": "logs/amanita_api.log", "service_factory_available": true, "asctime": "2025-08-10 22:42:40"}
{"timestamp": "2025-08-10T22:42:40.882467", "level": "INFO", "logger": "amanita_api", "message": "ApiKeyService интегрирован в HMAC middleware", "module": "main", "function": "create_api_app", "line": 82, "asctime": "2025-08-10 22:42:40"}
{"timestamp": "2025-08-10T22:42:40.882527", "level": "INFO", "logger": "amanita_api", "message": "ServiceFactory интегрирован в приложение", "module": "main", "function": "create_api_app", "line": 91, "asctime": "2025-08-10 22:42:40"}
{"timestamp": "2025-08-10T22:42:40.885868", "level": "INFO", "logger": "amanita_api", "message": "FastAPI приложение создано с базовой конфигурацией", "module": "main", "function": "create_api_app", "line": 275, "docs_url": "/docs", "health_endpoint": "/health", "asctime": "2025-08-10 22:42:40"}
{"timestamp": "2025-08-10T22:42:40.885955", "level": "INFO", "logger": "amanita_api", "message": "FastAPI приложение создано с логированием: INFO -> logs/amanita_api.log", "module": "main", "function": "main", "line": 114, "asctime": "2025-08-10 22:42:40"}
{"timestamp": "2025-08-10T22:42:40.886010", "level": "INFO", "logger": "amanita_api", "message": "Настройка uvicorn сервера...", "module": "main", "function": "main", "line": 117, "asctime": "2025-08-10 22:42:40"}
{"timestamp": "2025-08-10T22:42:40.886422", "level": "INFO", "logger": "amanita_api", "message": "Uvicorn сервер настроен", "module": "main", "function": "main", "line": 126, "asctime": "2025-08-10 22:42:40"}
{"timestamp": "2025-08-10T22:42:40.886561", "level": "INFO", "logger": "amanita_api", "message": "Запуск бота и API сервера параллельно...", "module": "main", "function": "main", "line": 129, "asctime": "2025-08-10 22:42:40"}
{"timestamp": "2025-08-10T22:42:40.886630", "level": "INFO", "logger": "amanita_api", "message": "=== AMANITA Bot + API Server запущены и готовы к работе ===", "module": "main", "function": "main", "line": 131, "asctime": "2025-08-10 22:42:40"}
{"timestamp": "2025-08-10T22:42:40.902589", "level": "INFO", "logger": "amanita_api.auth", "message": "HMAC Middleware инициализирован", "module": "auth", "function": "__init__", "line": 56, "timestamp_window": 300, "nonce_cache_ttl": 600, "api_key_service_available": true, "asctime": "2025-08-10 22:42:40"}
{"timestamp": "2025-08-10T22:42:40.909979", "level": "INFO", "logger": "amanita_api", "message": "Фоновая загрузка каталога завершена!", "module": "main", "function": "preload_catalog", "line": 100, "asctime": "2025-08-10 22:42:40"}
{"timestamp": "1754854966", "level": "INFO", "logger": "amanita_api.auth", "message": "HMAC аутентификация успешна", "module": "auth", "function": "dispatch", "line": 119, "api_key": "ak_2df6887342484f4b", "nonce": "1e79613c-3969-485a-a631-b29fc32c995b", "processing_time_ms": 0.12, "path": "/products/upload", "method": "POST", "asctime": "2025-08-10 22:42:46"}
{"timestamp": "1754855358", "level": "INFO", "logger": "amanita_api.auth", "message": "HMAC аутентификация успешна", "module": "auth", "function": "dispatch", "line": 119, "api_key": "ak_2df6887342484f4b", "nonce": "8cab4a19-3f38-484b-95a4-0c74349f021f", "processing_time_ms": 0.64, "path": "/products/upload", "method": "POST", "asctime": "2025-08-10 22:49:18"}
{"timestamp": "1754855586", "level": "INFO", "logger": "amanita_api.auth", "message": "HMAC аутентификация успешна", "module": "auth", "function": "dispatch", "line": 119, "api_key": "ak_2df6887342484f4b", "nonce": "193e063c-b3f1-4961-a5e5-50126d7fffc9", "processing_time_ms": 0.57, "path": "/products/upload", "method": "POST", "asctime": "2025-08-10 22:53:06"}
{"timestamp": "1754855586", "level": "INFO", "logger": "amanita_api.auth", "message": "HMAC аутентификация успешна", "module": "auth", "function": "dispatch", "line": 119, "api_key": "ak_2df6887342484f4b", "nonce": "1796c687-cdcd-4a7d-86df-9c239a947d81", "processing_time_ms": 0.1, "path": "/products/8", "method": "PUT", "asctime": "2025-08-10 22:53:06"}
{"timestamp": "1754855586", "level": "INFO", "logger": "amanita_api.auth", "message": "HMAC аутентификация успешна", "module": "auth", "function": "dispatch", "line": 119, "api_key": "ak_2df6887342484f4b", "nonce": "f0157505-77f0-429d-b748-99482b772f40", "processing_time_ms": 0.09, "path": "/products/8/status", "method": "POST", "asctime": "2025-08-10 22:53:06"}
{"timestamp": "1754856939", "level": "INFO", "logger": "amanita_api.auth", "message": "HMAC аутентификация успешна", "module": "auth", "function": "dispatch", "line": 119, "api_key": "ak_2df6887342484f4b", "nonce": "2a6a4328-2e62-437f-9235-d1d4f91024b8", "processing_time_ms": 3.98, "path": "/products/upload", "method": "POST", "asctime": "2025-08-10 23:15:39"}
{"timestamp": "2025-08-10T23:16:07.139900", "level": "INFO", "logger": "amanita_api", "message": "=== Бот остановлен ===", "module": "main", "function": "main", "line": 145, "asctime": "2025-08-10 23:16:07"}
{"timestamp": "2025-08-10T23:16:07.141692", "level": "INFO", "logger": "amanita_api", "message": "=== AMANITA Bot + API Server остановлены ===", "module": "main", "function": "main", "line": 147, "asctime": "2025-08-10 23:16:07"}
{"timestamp": "2025-08-10T23:16:12.532463", "level": "INFO", "logger": "amanita_api", "message": "Инициализация AMANITA API приложения", "module": "main", "function": "create_api_app", "line": 52, "log_level": "INFO", "log_file": null, "service_factory_available": false, "asctime": "2025-08-10 23:16:12"}
{"timestamp": "2025-08-10T23:16:12.548544", "level": "INFO", "logger": "amanita_api", "message": "FastAPI приложение создано с базовой конфигурацией", "module": "main", "function": "create_api_app", "line": 275, "docs_url": "/docs", "health_endpoint": "/health", "asctime": "2025-08-10 23:16:12"}
{"timestamp": "2025-08-10T23:16:12.549730", "level": "INFO", "logger": "amanita_api", "message": "=== Инициализация AMANITA Telegram Bot + API Server ===", "module": "main", "function": "<module>", "line": 55, "asctime": "2025-08-10 23:16:12"}
{"timestamp": "2025-08-10T23:16:12.550116", "level": "INFO", "logger": "amanita_api", "message": "Инициализация ServiceFactory...", "module": "main", "function": "main", "line": 62, "asctime": "2025-08-10 23:16:12"}
{"timestamp": "2025-08-10T23:16:12.550179", "level": "INFO", "logger": "amanita_api", "message": "ServiceFactory успешно инициализирован", "module": "main", "function": "main", "line": 64, "asctime": "2025-08-10 23:16:12"}
{"timestamp": "2025-08-10T23:16:12.550223", "level": "INFO", "logger": "amanita_api", "message": "Создание экземпляра бота...", "module": "main", "function": "main", "line": 67, "asctime": "2025-08-10 23:16:12"}
{"timestamp": "2025-08-10T23:16:12.675131", "level": "INFO", "logger": "amanita_api", "message": "Бот успешно создан: @Amanita_0_Iveta_bot (ID: 8083902706)", "module": "main", "function": "main", "line": 77, "asctime": "2025-08-10 23:16:12"}
{"timestamp": "2025-08-10T23:16:12.675372", "level": "INFO", "logger": "amanita_api", "message": "Инициализация диспетчера...", "module": "main", "function": "main", "line": 80, "asctime": "2025-08-10 23:16:12"}
{"timestamp": "2025-08-10T23:16:12.675854", "level": "INFO", "logger": "amanita_api", "message": "Регистрация обработчиков...", "module": "main", "function": "main", "line": 85, "asctime": "2025-08-10 23:16:12"}
{"timestamp": "2025-08-10T23:16:12.675950", "level": "INFO", "logger": "amanita_api", "message": "Все обработчики успешно зарегистрированы", "module": "main", "function": "main", "line": 92, "asctime": "2025-08-10 23:16:12"}
{"timestamp": "2025-08-10T23:16:12.676030", "level": "INFO", "logger": "amanita_api", "message": "Запуск фоновой загрузки каталога продуктов...", "module": "main", "function": "main", "line": 96, "asctime": "2025-08-10 23:16:12"}
{"timestamp": "2025-08-10T23:16:12.676107", "level": "INFO", "logger": "amanita_api", "message": "Фоновая задача по загрузке каталога запущена", "module": "main", "function": "main", "line": 102, "asctime": "2025-08-10 23:16:12"}
{"timestamp": "2025-08-10T23:16:12.676172", "level": "INFO", "logger": "amanita_api", "message": "Создание FastAPI приложения...", "module": "main", "function": "main", "line": 106, "asctime": "2025-08-10 23:16:12"}
{"timestamp": "2025-08-10T23:16:12.676244", "level": "INFO", "logger": "amanita_api", "message": "Инициализация AMANITA API приложения", "module": "main", "function": "create_api_app", "line": 52, "log_level": "INFO", "log_file": "logs/amanita_api.log", "service_factory_available": true, "asctime": "2025-08-10 23:16:12"}
{"timestamp": "2025-08-10T23:16:12.676570", "level": "INFO", "logger": "amanita_api", "message": "ApiKeyService интегрирован в HMAC middleware", "module": "main", "function": "create_api_app", "line": 82, "asctime": "2025-08-10 23:16:12"}
{"timestamp": "2025-08-10T23:16:12.676707", "level": "INFO", "logger": "amanita_api", "message": "ServiceFactory интегрирован в приложение", "module": "main", "function": "create_api_app", "line": 91, "asctime": "2025-08-10 23:16:12"}
{"timestamp": "2025-08-10T23:16:12.681568", "level": "INFO", "logger": "amanita_api", "message": "FastAPI приложение создано с базовой конфигурацией", "module": "main", "function": "create_api_app", "line": 275, "docs_url": "/docs", "health_endpoint": "/health", "asctime": "2025-08-10 23:16:12"}
{"timestamp": "2025-08-10T23:16:12.681731", "level": "INFO", "logger": "amanita_api", "message": "FastAPI приложение создано с логированием: INFO -> logs/amanita_api.log", "module": "main", "function": "main", "line": 114, "asctime": "2025-08-10 23:16:12"}
{"timestamp": "2025-08-10T23:16:12.681821", "level": "INFO", "logger": "amanita_api", "message": "Настройка uvicorn сервера...", "module": "main", "function": "main", "line": 117, "asctime": "2025-08-10 23:16:12"}
{"timestamp": "2025-08-10T23:16:12.682349", "level": "INFO", "logger": "amanita_api", "message": "Uvicorn сервер настроен", "module": "main", "function": "main", "line": 126, "asctime": "2025-08-10 23:16:12"}
{"timestamp": "2025-08-10T23:16:12.682494", "level": "INFO", "logger": "amanita_api", "message": "Запуск бота и API сервера параллельно...", "module": "main", "function": "main", "line": 129, "asctime": "2025-08-10 23:16:12"}
{"timestamp": "2025-08-10T23:16:12.682575", "level": "INFO", "logger": "amanita_api", "message": "=== AMANITA Bot + API Server запущены и готовы к работе ===", "module": "main", "function": "main", "line": 131, "asctime": "2025-08-10 23:16:12"}
{"timestamp": "2025-08-10T23:16:12.701685", "level": "INFO", "logger": "amanita_api.auth", "message": "HMAC Middleware инициализирован", "module": "auth", "function": "__init__", "line": 56, "timestamp_window": 300, "nonce_cache_ttl": 600, "api_key_service_available": true, "asctime": "2025-08-10 23:16:12"}
{"timestamp": "2025-08-10T23:16:12.709133", "level": "INFO", "logger": "amanita_api", "message": "Фоновая загрузка каталога завершена!", "module": "main", "function": "preload_catalog", "line": 100, "asctime": "2025-08-10 23:16:12"}
{"timestamp": "1754856979", "level": "INFO", "logger": "amanita_api.auth", "message": "HMAC аутентификация успешна", "module": "auth", "function": "dispatch", "line": 119, "api_key": "ak_2df6887342484f4b", "nonce": "01bb6f74-e150-4c08-8b4e-e5f304b9d688", "processing_time_ms": 0.27, "path": "/products/upload", "method": "POST", "asctime": "2025-08-10 23:16:19"}
{"timestamp": "1754857057", "level": "INFO", "logger": "amanita_api.auth", "message": "HMAC аутентификация успешна", "module": "auth", "function": "dispatch", "line": 119, "api_key": "ak_2df6887342484f4b", "nonce": "9bb663a4-f868-4005-9d2b-a76404831a0f", "processing_time_ms": 0.68, "path": "/products/upload", "method": "POST", "asctime": "2025-08-10 23:17:37"}
{"timestamp": "1754857224", "level": "INFO", "logger": "amanita_api.auth", "message": "HMAC аутентификация успешна", "module": "auth", "function": "dispatch", "line": 119, "api_key": "ak_2df6887342484f4b", "nonce": "57baff38-131d-489b-8526-706263afd9fe", "processing_time_ms": 0.26, "path": "/products/upload", "method": "POST", "asctime": "2025-08-10 23:20:24"}
{"timestamp": "1754857249", "level": "INFO", "logger": "amanita_api.auth", "message": "HMAC аутентификация успешна", "module": "auth", "function": "dispatch", "line": 119, "api_key": "ak_2df6887342484f4b", "nonce": "7033bbbb-ce52-49d1-ba8d-3bdc8a14c9fe", "processing_time_ms": 0.5, "path": "/products/upload", "method": "POST", "asctime": "2025-08-10 23:20:49"}
{"timestamp": "1754857343", "level": "INFO", "logger": "amanita_api.auth", "message": "HMAC аутентификация успешна", "module": "auth", "function": "dispatch", "line": 119, "api_key": "ak_2df6887342484f4b", "nonce": "7da16351-5d72-4ece-b46f-848daceffd45", "processing_time_ms": 0.44, "path": "/products/upload", "method": "POST", "asctime": "2025-08-10 23:22:23"}
{"timestamp": "1754857408", "level": "INFO", "logger": "amanita_api.auth", "message": "HMAC аутентификация успешна", "module": "auth", "function": "dispatch", "line": 119, "api_key": "ak_2df6887342484f4b", "nonce": "bdbe90a1-d131-482c-af1f-3ce5bcab66c8", "processing_time_ms": 0.48, "path": "/products/upload", "method": "POST", "asctime": "2025-08-10 23:23:28"}
{"timestamp": "2025-08-11T10:22:44.252146", "level": "INFO", "logger": "amanita_api", "message": "Инициализация AMANITA API приложения", "module": "main", "function": "create_api_app", "line": 52, "log_level": "INFO", "log_file": null, "service_factory_available": false, "asctime": "2025-08-11 10:22:44"}
{"timestamp": "2025-08-11T10:22:44.266711", "level": "INFO", "logger": "amanita_api", "message": "FastAPI приложение создано с базовой конфигурацией", "module": "main", "function": "create_api_app", "line": 275, "docs_url": "/docs", "health_endpoint": "/health", "asctime": "2025-08-11 10:22:44"}
{"timestamp": "2025-08-11T10:22:44.267845", "level": "INFO", "logger": "amanita_api", "message": "=== Инициализация AMANITA Telegram Bot + API Server ===", "module": "main", "function": "<module>", "line": 55, "asctime": "2025-08-11 10:22:44"}
{"timestamp": "2025-08-11T10:22:44.269892", "level": "INFO", "logger": "amanita_api", "message": "Инициализация ServiceFactory...", "module": "main", "function": "main", "line": 62, "asctime": "2025-08-11 10:22:44"}
{"timestamp": "2025-08-11T10:22:44.269954", "level": "INFO", "logger": "amanita_api", "message": "ServiceFactory успешно инициализирован", "module": "main", "function": "main", "line": 64, "asctime": "2025-08-11 10:22:44"}
{"timestamp": "2025-08-11T10:22:44.269998", "level": "INFO", "logger": "amanita_api", "message": "Создание экземпляра бота...", "module": "main", "function": "main", "line": 67, "asctime": "2025-08-11 10:22:44"}
{"timestamp": "2025-08-11T10:22:44.430293", "level": "INFO", "logger": "amanita_api", "message": "Бот успешно создан: @Amanita_0_Iveta_bot (ID: 8083902706)", "module": "main", "function": "main", "line": 77, "asctime": "2025-08-11 10:22:44"}
{"timestamp": "2025-08-11T10:22:44.430457", "level": "INFO", "logger": "amanita_api", "message": "Инициализация диспетчера...", "module": "main", "function": "main", "line": 80, "asctime": "2025-08-11 10:22:44"}
{"timestamp": "2025-08-11T10:22:44.430823", "level": "INFO", "logger": "amanita_api", "message": "Регистрация обработчиков...", "module": "main", "function": "main", "line": 85, "asctime": "2025-08-11 10:22:44"}
{"timestamp": "2025-08-11T10:22:44.432721", "level": "INFO", "logger": "amanita_api", "message": "Все обработчики успешно зарегистрированы", "module": "main", "function": "main", "line": 92, "asctime": "2025-08-11 10:22:44"}
{"timestamp": "2025-08-11T10:22:44.432813", "level": "INFO", "logger": "amanita_api", "message": "Запуск фоновой загрузки каталога продуктов...", "module": "main", "function": "main", "line": 96, "asctime": "2025-08-11 10:22:44"}
{"timestamp": "2025-08-11T10:22:44.432883", "level": "INFO", "logger": "amanita_api", "message": "Фоновая задача по загрузке каталога запущена", "module": "main", "function": "main", "line": 102, "asctime": "2025-08-11 10:22:44"}
{"timestamp": "2025-08-11T10:22:44.432937", "level": "INFO", "logger": "amanita_api", "message": "Создание FastAPI приложения...", "module": "main", "function": "main", "line": 106, "asctime": "2025-08-11 10:22:44"}
{"timestamp": "2025-08-11T10:22:44.432993", "level": "INFO", "logger": "amanita_api", "message": "Инициализация AMANITA API приложения", "module": "main", "function": "create_api_app", "line": 52, "log_level": "INFO", "log_file": "logs/amanita_api.log", "service_factory_available": true, "asctime": "2025-08-11 10:22:44"}
{"timestamp": "2025-08-11T10:22:44.433225", "level": "INFO", "logger": "amanita_api", "message": "ApiKeyService интегрирован в HMAC middleware", "module": "main", "function": "create_api_app", "line": 82, "asctime": "2025-08-11 10:22:44"}
{"timestamp": "2025-08-11T10:22:44.433283", "level": "INFO", "logger": "amanita_api", "message": "ServiceFactory интегрирован в приложение", "module": "main", "function": "create_api_app", "line": 91, "asctime": "2025-08-11 10:22:44"}
{"timestamp": "2025-08-11T10:22:44.436767", "level": "INFO", "logger": "amanita_api", "message": "FastAPI приложение создано с базовой конфигурацией", "module": "main", "function": "create_api_app", "line": 275, "docs_url": "/docs", "health_endpoint": "/health", "asctime": "2025-08-11 10:22:44"}
{"timestamp": "2025-08-11T10:22:44.436871", "level": "INFO", "logger": "amanita_api", "message": "FastAPI приложение создано с логированием: INFO -> logs/amanita_api.log", "module": "main", "function": "main", "line": 114, "asctime": "2025-08-11 10:22:44"}
{"timestamp": "2025-08-11T10:22:44.436931", "level": "INFO", "logger": "amanita_api", "message": "Настройка uvicorn сервера...", "module": "main", "function": "main", "line": 117, "asctime": "2025-08-11 10:22:44"}
{"timestamp": "2025-08-11T10:22:44.437332", "level": "INFO", "logger": "amanita_api", "message": "Uvicorn сервер настроен", "module": "main", "function": "main", "line": 126, "asctime": "2025-08-11 10:22:44"}
{"timestamp": "2025-08-11T10:22:44.437476", "level": "INFO", "logger": "amanita_api", "message": "Запуск бота и API сервера параллельно...", "module": "main", "function": "main", "line": 129, "asctime": "2025-08-11 10:22:44"}
{"timestamp": "2025-08-11T10:22:44.437538", "level": "INFO", "logger": "amanita_api", "message": "=== AMANITA Bot + API Server запущены и готовы к работе ===", "module": "main", "function": "main", "line": 131, "asctime": "2025-08-11 10:22:44"}
{"timestamp": "2025-08-11T10:22:44.455101", "level": "INFO", "logger": "amanita_api.auth", "message": "HMAC Middleware инициализирован", "module": "auth", "function": "__init__", "line": 56, "timestamp_window": 300, "nonce_cache_ttl": 600, "api_key_service_available": true, "asctime": "2025-08-11 10:22:44"}
{"timestamp": "2025-08-11T10:22:44.457406", "level": "INFO", "logger": "amanita_api", "message": "Фоновая загрузка каталога завершена!", "module": "main", "function": "preload_catalog", "line": 100, "asctime": "2025-08-11 10:22:44"}
{"timestamp": "2025-08-11T10:24:21.175800", "level": "INFO", "logger": "amanita_api", "message": "Инициализация AMANITA API приложения", "module": "main", "function": "create_api_app", "line": 52, "log_level": "INFO", "log_file": null, "service_factory_available": false, "asctime": "2025-08-11 10:24:21"}
{"timestamp": "2025-08-11T10:24:21.188882", "level": "INFO", "logger": "amanita_api", "message": "FastAPI приложение создано с базовой конфигурацией", "module": "main", "function": "create_api_app", "line": 275, "docs_url": "/docs", "health_endpoint": "/health", "asctime": "2025-08-11 10:24:21"}
{"timestamp": "2025-08-11T10:25:04.265249", "level": "INFO", "logger": "amanita_api", "message": "Инициализация AMANITA API приложения", "module": "main", "function": "create_api_app", "line": 52, "log_level": "INFO", "log_file": null, "service_factory_available": false, "asctime": "2025-08-11 10:25:04"}
{"timestamp": "2025-08-11T10:25:04.279017", "level": "INFO", "logger": "amanita_api", "message": "FastAPI приложение создано с базовой конфигурацией", "module": "main", "function": "create_api_app", "line": 275, "docs_url": "/docs", "health_endpoint": "/health", "asctime": "2025-08-11 10:25:04"}
{"timestamp": "2025-08-11T13:12:12.960719", "level": "INFO", "logger": "amanita_api", "message": "=== Бот остановлен ===", "module": "main", "function": "main", "line": 145, "asctime": "2025-08-11 13:12:12"}
{"timestamp": "2025-08-11T13:12:12.967606", "level": "INFO", "logger": "amanita_api", "message": "=== AMANITA Bot + API Server остановлены ===", "module": "main", "function": "main", "line": 147, "asctime": "2025-08-11 13:12:12"}
{"timestamp": "2025-08-11T13:12:16.779219", "level": "INFO", "logger": "amanita_api", "message": "Инициализация AMANITA API приложения", "module": "main", "function": "create_api_app", "line": 52, "log_level": "INFO", "log_file": null, "service_factory_available": false, "asctime": "2025-08-11 13:12:16"}
{"timestamp": "2025-08-11T13:12:16.794724", "level": "INFO", "logger": "amanita_api", "message": "FastAPI приложение создано с базовой конфигурацией", "module": "main", "function": "create_api_app", "line": 275, "docs_url": "/docs", "health_endpoint": "/health", "asctime": "2025-08-11 13:12:16"}
{"timestamp": "2025-08-11T13:12:16.795926", "level": "INFO", "logger": "amanita_api", "message": "=== Инициализация AMANITA Telegram Bot + API Server ===", "module": "main", "function": "<module>", "line": 55, "asctime": "2025-08-11 13:12:16"}
{"timestamp": "2025-08-11T13:12:16.796281", "level": "INFO", "logger": "amanita_api", "message": "Инициализация ServiceFactory...", "module": "main", "function": "main", "line": 62, "asctime": "2025-08-11 13:12:16"}
{"timestamp": "2025-08-11T13:12:16.796348", "level": "INFO", "logger": "amanita_api", "message": "ServiceFactory успешно инициализирован", "module": "main", "function": "main", "line": 64, "asctime": "2025-08-11 13:12:16"}
{"timestamp": "2025-08-11T13:12:16.796398", "level": "INFO", "logger": "amanita_api", "message": "Создание экземпляра бота...", "module": "main", "function": "main", "line": 67, "asctime": "2025-08-11 13:12:16"}
{"timestamp": "2025-08-11T13:12:16.915056", "level": "INFO", "logger": "amanita_api", "message": "Бот успешно создан: @Amanita_0_Iveta_bot (ID: 8083902706)", "module": "main", "function": "main", "line": 77, "asctime": "2025-08-11 13:12:16"}
{"timestamp": "2025-08-11T13:12:16.915290", "level": "INFO", "logger": "amanita_api", "message": "Инициализация диспетчера...", "module": "main", "function": "main", "line": 80, "asctime": "2025-08-11 13:12:16"}
{"timestamp": "2025-08-11T13:12:16.915788", "level": "INFO", "logger": "amanita_api", "message": "Регистрация обработчиков...", "module": "main", "function": "main", "line": 85, "asctime": "2025-08-11 13:12:16"}
{"timestamp": "2025-08-11T13:12:16.915893", "level": "INFO", "logger": "amanita_api", "message": "Все обработчики успешно зарегистрированы", "module": "main", "function": "main", "line": 92, "asctime": "2025-08-11 13:12:16"}
{"timestamp": "2025-08-11T13:12:16.915979", "level": "INFO", "logger": "amanita_api", "message": "Запуск фоновой загрузки каталога продуктов...", "module": "main", "function": "main", "line": 96, "asctime": "2025-08-11 13:12:16"}
{"timestamp": "2025-08-11T13:12:16.916060", "level": "INFO", "logger": "amanita_api", "message": "Фоновая задача по загрузке каталога запущена", "module": "main", "function": "main", "line": 102, "asctime": "2025-08-11 13:12:16"}
{"timestamp": "2025-08-11T13:12:16.916136", "level": "INFO", "logger": "amanita_api", "message": "Создание FastAPI приложения...", "module": "main", "function": "main", "line": 106, "asctime": "2025-08-11 13:12:16"}
{"timestamp": "2025-08-11T13:12:16.916204", "level": "INFO", "logger": "amanita_api", "message": "Инициализация AMANITA API приложения", "module": "main", "function": "create_api_app", "line": 52, "log_level": "INFO", "log_file": "logs/amanita_api.log", "service_factory_available": true, "asctime": "2025-08-11 13:12:16"}
{"timestamp": "2025-08-11T13:12:16.916471", "level": "INFO", "logger": "amanita_api", "message": "ApiKeyService интегрирован в HMAC middleware", "module": "main", "function": "create_api_app", "line": 82, "asctime": "2025-08-11 13:12:16"}
{"timestamp": "2025-08-11T13:12:16.916546", "level": "INFO", "logger": "amanita_api", "message": "ServiceFactory интегрирован в приложение", "module": "main", "function": "create_api_app", "line": 91, "asctime": "2025-08-11 13:12:16"}
{"timestamp": "2025-08-11T13:12:16.921231", "level": "INFO", "logger": "amanita_api", "message": "FastAPI приложение создано с базовой конфигурацией", "module": "main", "function": "create_api_app", "line": 275, "docs_url": "/docs", "health_endpoint": "/health", "asctime": "2025-08-11 13:12:16"}
{"timestamp": "2025-08-11T13:12:16.921355", "level": "INFO", "logger": "amanita_api", "message": "FastAPI приложение создано с логированием: INFO -> logs/amanita_api.log", "module": "main", "function": "main", "line": 114, "asctime": "2025-08-11 13:12:16"}
{"timestamp": "2025-08-11T13:12:16.921444", "level": "INFO", "logger": "amanita_api", "message": "Настройка uvicorn сервера...", "module": "main", "function": "main", "line": 117, "asctime": "2025-08-11 13:12:16"}
{"timestamp": "2025-08-11T13:12:16.922035", "level": "INFO", "logger": "amanita_api", "message": "Uvicorn сервер настроен", "module": "main", "function": "main", "line": 126, "asctime": "2025-08-11 13:12:16"}
{"timestamp": "2025-08-11T13:12:16.922212", "level": "INFO", "logger": "amanita_api", "message": "Запуск бота и API сервера параллельно...", "module": "main", "function": "main", "line": 129, "asctime": "2025-08-11 13:12:16"}
{"timestamp": "2025-08-11T13:12:16.922303", "level": "INFO", "logger": "amanita_api", "message": "=== AMANITA Bot + API Server запущены и готовы к работе ===", "module": "main", "function": "main", "line": 131, "asctime": "2025-08-11 13:12:16"}
{"timestamp": "2025-08-11T13:12:16.935790", "level": "INFO", "logger": "amanita_api.auth", "message": "HMAC Middleware инициализирован", "module": "auth", "function": "__init__", "line": 56, "timestamp_window": 300, "nonce_cache_ttl": 600, "api_key_service_available": true, "asctime": "2025-08-11 13:12:16"}
{"timestamp": "2025-08-11T16:53:14.395500", "level": "INFO", "logger": "amanita_api", "message": "Инициализация AMANITA API приложения", "module": "main", "function": "create_api_app", "line": 52, "log_level": "INFO", "log_file": null, "service_factory_available": false, "asctime": "2025-08-11 16:53:14"}
{"timestamp": "2025-08-11T16:53:14.411967", "level": "INFO", "logger": "amanita_api", "message": "FastAPI приложение создано с базовой конфигурацией", "module": "main", "function": "create_api_app", "line": 275, "docs_url": "/docs", "health_endpoint": "/health", "asctime": "2025-08-11 16:53:14"}
{"timestamp": "2025-08-12T10:55:01.521983", "level": "INFO", "logger": "amanita_api", "message": "=== Бот остановлен ===", "module": "main", "function": "main", "line": 145, "asctime": "2025-08-12 10:55:01"}
{"timestamp": "2025-08-12T10:55:01.527776", "level": "INFO", "logger": "amanita_api", "message": "=== AMANITA Bot + API Server остановлены ===", "module": "main", "function": "main", "line": 147, "asctime": "2025-08-12 10:55:01"}
{"timestamp": "2025-08-12T10:55:07.956911", "level": "INFO", "logger": "amanita_api", "message": "Инициализация AMANITA API приложения", "module": "main", "function": "create_api_app", "line": 52, "log_level": "INFO", "log_file": null, "service_factory_available": false, "asctime": "2025-08-12 10:55:07"}
{"timestamp": "2025-08-12T10:55:07.971346", "level": "INFO", "logger": "amanita_api", "message": "FastAPI приложение создано с базовой конфигурацией", "module": "main", "function": "create_api_app", "line": 275, "docs_url": "/docs", "health_endpoint": "/health", "asctime": "2025-08-12 10:55:07"}
{"timestamp": "2025-08-12T10:55:07.972775", "level": "INFO", "logger": "amanita_api", "message": "=== Инициализация AMANITA Telegram Bot + API Server ===", "module": "main", "function": "<module>", "line": 55, "asctime": "2025-08-12 10:55:07"}
{"timestamp": "2025-08-12T10:55:07.973194", "level": "INFO", "logger": "amanita_api", "message": "Инициализация ServiceFactory...", "module": "main", "function": "main", "line": 62, "asctime": "2025-08-12 10:55:07"}
{"timestamp": "2025-08-12T10:55:07.973264", "level": "INFO", "logger": "amanita_api", "message": "ServiceFactory успешно инициализирован", "module": "main", "function": "main", "line": 64, "asctime": "2025-08-12 10:55:07"}
{"timestamp": "2025-08-12T10:55:07.973311", "level": "INFO", "logger": "amanita_api", "message": "Создание экземпляра бота...", "module": "main", "function": "main", "line": 67, "asctime": "2025-08-12 10:55:07"}
{"timestamp": "2025-08-12T10:55:08.235218", "level": "INFO", "logger": "amanita_api", "message": "Бот успешно создан: @Amanita_0_Iveta_bot (ID: 8083902706)", "module": "main", "function": "main", "line": 77, "asctime": "2025-08-12 10:55:08"}
{"timestamp": "2025-08-12T10:55:08.235441", "level": "INFO", "logger": "amanita_api", "message": "Инициализация диспетчера...", "module": "main", "function": "main", "line": 80, "asctime": "2025-08-12 10:55:08"}
{"timestamp": "2025-08-12T10:55:08.235913", "level": "INFO", "logger": "amanita_api", "message": "Регистрация обработчиков...", "module": "main", "function": "main", "line": 85, "asctime": "2025-08-12 10:55:08"}
{"timestamp": "2025-08-12T10:55:08.236013", "level": "INFO", "logger": "amanita_api", "message": "Все обработчики успешно зарегистрированы", "module": "main", "function": "main", "line": 92, "asctime": "2025-08-12 10:55:08"}
{"timestamp": "2025-08-12T10:55:08.236092", "level": "INFO", "logger": "amanita_api", "message": "Запуск фоновой загрузки каталога продуктов...", "module": "main", "function": "main", "line": 96, "asctime": "2025-08-12 10:55:08"}
{"timestamp": "2025-08-12T10:55:08.236177", "level": "INFO", "logger": "amanita_api", "message": "Фоновая задача по загрузке каталога запущена", "module": "main", "function": "main", "line": 102, "asctime": "2025-08-12 10:55:08"}
{"timestamp": "2025-08-12T10:55:08.236244", "level": "INFO", "logger": "amanita_api", "message": "Создание FastAPI приложения...", "module": "main", "function": "main", "line": 106, "asctime": "2025-08-12 10:55:08"}
{"timestamp": "2025-08-12T10:55:08.236314", "level": "INFO", "logger": "amanita_api", "message": "Инициализация AMANITA API приложения", "module": "main", "function": "create_api_app", "line": 52, "log_level": "INFO", "log_file": "logs/amanita_api.log", "service_factory_available": true, "asctime": "2025-08-12 10:55:08"}
{"timestamp": "2025-08-12T10:55:08.236593", "level": "INFO", "logger": "amanita_api", "message": "ApiKeyService интегрирован в HMAC middleware", "module": "main", "function": "create_api_app", "line": 82, "asctime": "2025-08-12 10:55:08"}
{"timestamp": "2025-08-12T10:55:08.236670", "level": "INFO", "logger": "amanita_api", "message": "ServiceFactory интегрирован в приложение", "module": "main", "function": "create_api_app", "line": 91, "asctime": "2025-08-12 10:55:08"}
{"timestamp": "2025-08-12T10:55:08.241256", "level": "INFO", "logger": "amanita_api", "message": "FastAPI приложение создано с базовой конфигурацией", "module": "main", "function": "create_api_app", "line": 275, "docs_url": "/docs", "health_endpoint": "/health", "asctime": "2025-08-12 10:55:08"}
{"timestamp": "2025-08-12T10:55:08.241364", "level": "INFO", "logger": "amanita_api", "message": "FastAPI приложение создано с логированием: INFO -> logs/amanita_api.log", "module": "main", "function": "main", "line": 114, "asctime": "2025-08-12 10:55:08"}
{"timestamp": "2025-08-12T10:55:08.241436", "level": "INFO", "logger": "amanita_api", "message": "Настройка uvicorn сервера...", "module": "main", "function": "main", "line": 117, "asctime": "2025-08-12 10:55:08"}
{"timestamp": "2025-08-12T10:55:08.241918", "level": "INFO", "logger": "amanita_api", "message": "Uvicorn сервер настроен", "module": "main", "function": "main", "line": 126, "asctime": "2025-08-12 10:55:08"}
{"timestamp": "2025-08-12T10:55:08.242098", "level": "INFO", "logger": "amanita_api", "message": "Запуск бота и API сервера параллельно...", "module": "main", "function": "main", "line": 129, "asctime": "2025-08-12 10:55:08"}
{"timestamp": "2025-08-12T10:55:08.242187", "level": "INFO", "logger": "amanita_api", "message": "=== AMANITA Bot + API Server запущены и готовы к работе ===", "module": "main", "function": "main", "line": 131, "asctime": "2025-08-12 10:55:08"}
{"timestamp": "2025-08-12T10:55:08.255085", "level": "INFO", "logger": "amanita_api.auth", "message": "HMAC Middleware инициализирован", "module": "auth", "function": "__init__", "line": 56, "timestamp_window": 300, "nonce_cache_ttl": 600, "api_key_service_available": true, "asctime": "2025-08-12 10:55:08"}
{"timestamp": "2025-08-16T13:25:11.545340", "level": "INFO", "logger": "amanita_api", "message": "Инициализация AMANITA API приложения", "module": "main", "function": "create_api_app", "line": 52, "log_level": "INFO", "log_file": null, "service_factory_available": false, "asctime": "2025-08-16 13:25:11"}
{"timestamp": "2025-08-16T13:25:11.565978", "level": "INFO", "logger": "amanita_api", "message": "FastAPI приложение создано с базовой конфигурацией", "module": "main", "function": "create_api_app", "line": 275, "docs_url": "/docs", "health_endpoint": "/health", "asctime": "2025-08-16 13:25:11"}
{"timestamp": "2025-08-16T13:25:11.567231", "level": "INFO", "logger": "amanita_api", "message": "=== Инициализация AMANITA Telegram Bot + API Server ===", "module": "main", "function": "<module>", "line": 55, "asctime": "2025-08-16 13:25:11"}
{"timestamp": "2025-08-16T13:25:11.569191", "level": "INFO", "logger": "amanita_api", "message": "Инициализация ServiceFactory...", "module": "main", "function": "main", "line": 62, "asctime": "2025-08-16 13:25:11"}
{"timestamp": "2025-08-16T13:25:11.569253", "level": "INFO", "logger": "amanita_api", "message": "ServiceFactory успешно инициализирован", "module": "main", "function": "main", "line": 64, "asctime": "2025-08-16 13:25:11"}
{"timestamp": "2025-08-16T13:25:11.569296", "level": "INFO", "logger": "amanita_api", "message": "Создание экземпляра бота...", "module": "main", "function": "main", "line": 67, "asctime": "2025-08-16 13:25:11"}
{"timestamp": "2025-08-16T13:25:11.952566", "level": "INFO", "logger": "amanita_api", "message": "Бот успешно создан: @Amanita_0_Iveta_bot (ID: 8083902706)", "module": "main", "function": "main", "line": 77, "asctime": "2025-08-16 13:25:11"}
{"timestamp": "2025-08-16T13:25:11.952948", "level": "INFO", "logger": "amanita_api", "message": "Инициализация диспетчера...", "module": "main", "function": "main", "line": 80, "asctime": "2025-08-16 13:25:11"}
{"timestamp": "2025-08-16T13:25:11.953747", "level": "INFO", "logger": "amanita_api", "message": "Регистрация обработчиков...", "module": "main", "function": "main", "line": 85, "asctime": "2025-08-16 13:25:11"}
{"timestamp": "2025-08-16T13:25:11.953903", "level": "INFO", "logger": "amanita_api", "message": "Все обработчики успешно зарегистрированы", "module": "main", "function": "main", "line": 92, "asctime": "2025-08-16 13:25:11"}
{"timestamp": "2025-08-16T13:25:11.954029", "level": "INFO", "logger": "amanita_api", "message": "Запуск фоновой загрузки каталога продуктов...", "module": "main", "function": "main", "line": 96, "asctime": "2025-08-16 13:25:11"}
{"timestamp": "2025-08-16T13:25:11.954191", "level": "INFO", "logger": "amanita_api", "message": "Фоновая задача по загрузке каталога запущена", "module": "main", "function": "main", "line": 102, "asctime": "2025-08-16 13:25:11"}
{"timestamp": "2025-08-16T13:25:11.954298", "level": "INFO", "logger": "amanita_api", "message": "Создание FastAPI приложения...", "module": "main", "function": "main", "line": 106, "asctime": "2025-08-16 13:25:11"}
{"timestamp": "2025-08-16T13:25:11.954407", "level": "INFO", "logger": "amanita_api", "message": "Инициализация AMANITA API приложения", "module": "main", "function": "create_api_app", "line": 52, "log_level": "INFO", "log_file": "logs/amanita_api.log", "service_factory_available": true, "asctime": "2025-08-16 13:25:11"}
{"timestamp": "2025-08-16T13:25:11.954849", "level": "INFO", "logger": "amanita_api", "message": "ApiKeyService интегрирован в HMAC middleware", "module": "main", "function": "create_api_app", "line": 82, "asctime": "2025-08-16 13:25:11"}
{"timestamp": "2025-08-16T13:25:11.954976", "level": "INFO", "logger": "amanita_api", "message": "ServiceFactory интегрирован в приложение", "module": "main", "function": "create_api_app", "line": 91, "asctime": "2025-08-16 13:25:11"}
{"timestamp": "2025-08-16T13:25:11.963108", "level": "INFO", "logger": "amanita_api", "message": "FastAPI приложение создано с базовой конфигурацией", "module": "main", "function": "create_api_app", "line": 275, "docs_url": "/docs", "health_endpoint": "/health", "asctime": "2025-08-16 13:25:11"}
{"timestamp": "2025-08-16T13:25:11.963323", "level": "INFO", "logger": "amanita_api", "message": "FastAPI приложение создано с логированием: INFO -> logs/amanita_api.log", "module": "main", "function": "main", "line": 114, "asctime": "2025-08-16 13:25:11"}
{"timestamp": "2025-08-16T13:25:11.963445", "level": "INFO", "logger": "amanita_api", "message": "Настройка uvicorn сервера...", "module": "main", "function": "main", "line": 117, "asctime": "2025-08-16 13:25:11"}
{"timestamp": "2025-08-16T13:25:11.964576", "level": "INFO", "logger": "amanita_api", "message": "Uvicorn сервер настроен", "module": "main", "function": "main", "line": 126, "asctime": "2025-08-16 13:25:11"}
{"timestamp": "2025-08-16T13:25:11.964799", "level": "INFO", "logger": "amanita_api", "message": "Запуск бота и API сервера параллельно...", "module": "main", "function": "main", "line": 129, "asctime": "2025-08-16 13:25:11"}
{"timestamp": "2025-08-16T13:25:11.964910", "level": "INFO", "logger": "amanita_api", "message": "=== AMANITA Bot + API Server запущены и готовы к работе ===", "module": "main", "function": "main", "line": 131, "asctime": "2025-08-16 13:25:11"}
{"timestamp": "2025-08-16T13:25:12.015771", "level": "INFO", "logger": "amanita_api.auth", "message": "HMAC Middleware инициализирован", "module": "auth", "function": "__init__", "line": 56, "timestamp_window": 300, "nonce_cache_ttl": 600, "api_key_service_available": true, "asctime": "2025-08-16 13:25:12"}
{"timestamp": "1755339958", "level": "INFO", "logger": "amanita_api.auth", "message": "HMAC аутентификация успешна", "module": "auth", "function": "dispatch", "line": 119, "api_key": "ak_2df6887342484f4b", "nonce": "45dee62a-0a0f-4fab-b7e3-ec96969c1b3a", "processing_time_ms": 0.78, "path": "/products/upload", "method": "POST", "asctime": "2025-08-16 13:25:58"}
{"timestamp": "1755339958", "level": "INFO", "logger": "amanita_api.auth", "message": "HMAC аутентификация успешна", "module": "auth", "function": "dispatch", "line": 119, "api_key": "ak_2df6887342484f4b", "nonce": "cb81b003-dd46-4299-964d-1a6a520028b0", "processing_time_ms": 0.18, "path": "/products/8", "method": "PUT", "asctime": "2025-08-16 13:25:58"}
{"timestamp": "1755339958", "level": "INFO", "logger": "amanita_api.auth", "message": "HMAC аутентификация успешна", "module": "auth", "function": "dispatch", "line": 119, "api_key": "ak_2df6887342484f4b", "nonce": "79dd22e8-fc69-4599-9e1b-39f63b298254", "processing_time_ms": 0.09, "path": "/products/8/status", "method": "POST", "asctime": "2025-08-16 13:25:58"}
{"timestamp": "1755339999", "level": "INFO", "logger": "amanita_api.auth", "message": "HMAC аутентификация успешна", "module": "auth", "function": "dispatch", "line": 119, "api_key": "ak_2df6887342484f4b", "nonce": "e683a489-013d-449d-93fb-1d0e152dc2ca", "processing_time_ms": 0.6, "path": "/products/upload", "method": "POST", "asctime": "2025-08-16 13:26:39"}
{"timestamp": "1755339999", "level": "INFO", "logger": "amanita_api.auth", "message": "HMAC аутентификация успешна", "module": "auth", "function": "dispatch", "line": 119, "api_key": "ak_2df6887342484f4b", "nonce": "07ab18e2-7a7b-4d4a-9ca7-d5d6200f84b2", "processing_time_ms": 0.16, "path": "/products/8", "method": "PUT", "asctime": "2025-08-16 13:26:39"}
{"timestamp": "1755339999", "level": "INFO", "logger": "amanita_api.auth", "message": "HMAC аутентификация успешна", "module": "auth", "function": "dispatch", "line": 119, "api_key": "ak_2df6887342484f4b", "nonce": "d201a7e4-e119-4740-b43d-ae5760545c18", "processing_time_ms": 0.07, "path": "/products/8/status", "method": "POST", "asctime": "2025-08-16 13:26:39"}
